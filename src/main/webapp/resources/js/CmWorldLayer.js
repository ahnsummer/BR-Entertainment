L.TileLayer.CmWorld=L.TileLayer.extend({initialize:function(r3l,s3l){var t3l=L.DomUtil.setTransform;L.DomUtil.setTransform=function(v3l,u3l,w3l){if(u3l){u3l.x=Math.round(u3l.x);u3l.y=Math.round(u3l.y);}t3l(v3l,u3l,w3l);};s3l=L.setOptions(this,s3l);if(r3l.toUpperCase(r3l) == 'OSM'){this._url="http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png";if(!this.options.attribution)this.options.attribution="&copy; <a href='http://openstreetmap.org/copyright'>OpenStreetMap</a> contributors";this.options.mapType=r3l.toUpperCase(r3l);this.options.tileSize=256;}else if(r3l.toUpperCase(r3l) == 'GOOGLE'){this._url="http://mt1.google.com/vt/lyrs=m&x={x}&y={y}&z={z}";if(!this.options.attribution)this.options.attribution="&copy; <a href='https://www.google.com/intl/ko_ALL/help/terms_maps.html'>GoogleMap</a> contributors";this.options.mapType=r3l.toUpperCase(r3l);this.options.tileSize=256;}else if(r3l.toUpperCase(r3l) == 'VWORLD'){this._url="http://xdworld.vworld.kr:8080/2d/Base/201411/{z}/{x}/{y}.png";if(!this.options.attribution)this.options.attribution="© Vworld";this.options.mapType=r3l.toUpperCase(r3l);this.options.minZoom=6;this.options.maxZoom=20;this.options.maxNativeZoom=18;this.options.tileSize=256;}else if(r3l.toUpperCase(r3l) == 'NAVER'){this._url="https://simg.pstatic.net/onetile/get/203/0/0/{z}/{x}/{y}/bl_vc_bg/ol_vc_an";if(!this.options.attribution)this.options.attribution='Map data &copy; <a href="http://map.naver.com">NaverMap</a>';this.options.mapType=r3l.toUpperCase(r3l);this.options.crs=L.TileLayer.CmWorld.GetNaverCRS();this.options.subdomains='1234';this.options.tms=true;this.options.continuousWorld=false;this.options.minZoom=0;this.options.maxZoom=20;this.options.maxNativeZoom=16;this.options.tileSize=256;}else if(r3l.toUpperCase(r3l) == 'DAUM'){this._url="http://map{s}.daumcdn.net/map_2d/7fix/L{z}/{y}/{x}.png";if(!this.options.attribution)this.options.attribution='Map data &copy; <a href="http://map.daum.net/">DaumMap</a>';this.options.mapType=r3l.toUpperCase(r3l);this.options.crs=L.TileLayer.CmWorld.GetDaumCRS();this.options.subdomains='0123';this.options.tms=true;this.options.zoomReverse=true;this.options.continuousWorld=false;this.options.minZoom=0;this.options.maxZoom=14;this.options.tileSize=256;}else {this._url=r3l;}if(s3l.detectRetina && L.Browser.retina && s3l.maxZoom > 0){s3l.tileSize=Math.floor(s3l.tileSize / 2);if(!s3l.zoomReverse){s3l.zoomOffset++;s3l.maxZoom--;}else {s3l.zoomOffset--;s3l.minZoom++;}s3l.minZoom=Math.max(0,s3l.minZoom);}if(typeof s3l.subdomains === 'string'){s3l.subdomains=s3l.subdomains.split('');}if(!L.Browser.android){this.on('tileunload',this._onTileRemove);}},addTo:function(x3l){this.beforeAdd(x3l);x3l.addLayer(this);return this;},beforeAdd:function(y3l){if(this.options.mapType == "NAVER"){y3l.options.crs=L.TileLayer.CmWorld.GetNaverCRS();}else if(this.options.mapType == "DAUM"){y3l.options.crs=L.TileLayer.CmWorld.GetDaumCRS();y3l.options.maxZoom=13;}else if(this.options.mapType == "VWORLD"){y3l.options.minZoom=6;}},createTile:function(B3l,A3l){var z3l=document.createElement('img');z3l.style.backgroundColor="rgba(0,0,0,0)";L.DomEvent.on(z3l,'load',L.bind(this._tileOnLoad,this,A3l,z3l));L.DomEvent.on(z3l,'error',L.bind(this._tileOnError,this,A3l,z3l));if(this.options.crossOrigin){z3l.crossOrigin='';}z3l.alt='';z3l.src=this.getTileUrl(B3l);return z3l;}});L.TileLayer.CmWorld.GetUTMKCRS=function(){var E3l=[];var F3l=66846.720000000001;for(var D3l=0;D3l < 25;D3l++){E3l.push(1.0 / F3l * Math.pow(2,D3l));}var C3l=new L.Proj.CRS('ESPG:5179','+proj=tmerc +lat_0=38 +lon_0=127.5 +k=0.9996 +x_0=1000000 +y_0=2000000 +ellps=GRS80 +units=m +no_defs ',{scales:E3l,origin:[-200000,4000000],tms:false});C3l.projection.bounds=new L.bounds(new L.point(-200000,-13112760.32),new L.point(15112760.32,4000000));C3l.distance=L.CRS.Earth.distance;C3l.R=6378137;return C3l;};L.TileLayer.CmWorld.GetOSMCRS=function(){var I3l=[];var J3l=156543.0313;for(var H3l=0;H3l < 25;H3l++){I3l.push(1.0 / J3l * Math.pow(2,H3l));}var G3l=new L.Proj.CRS('ESPG:3857','+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs',{scales:I3l,origin:[-20037508,-20037508],tms:false});G3l.projection.bounds=new L.bounds(new L.point(-20037508,-20037508),new L.point(20037508,20037508));G3l.distance=L.CRS.Earth.distance;G3l.R=6378137;return G3l;};L.TileLayer.CmWorld.GetNaverCRS=function(){var M3l=[];var N3l=4096;for(var L3l=0;L3l < 25;L3l++){M3l.push(1.0 / N3l * Math.pow(2,L3l));}var K3l=new L.Proj.CRS.TMS('EPSG:5179','+proj=tmerc +lat_0=38 +lon_0=127.5 +k=0.9996 +x_0=1000000 +y_0=2000000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs',[90112,1192896,2187264,3290048],{scales:M3l});K3l.projection.bounds=new L.bounds(new L.point(K3l.projectedBounds[0],K3l.projectedBounds[1]),new L.point(K3l.projectedBounds[2],K3l.projectedBounds[3]));K3l.distance=L.CRS.Earth.distance;K3l.R=6378137;return K3l;};L.TileLayer.CmWorld.GetDaumCRS=function(){var Q3l=[];var R3l=2048;for(var P3l=0;P3l <= 14;P3l++){Q3l.push(1.0 / R3l * Math.pow(2,P3l));}var O3l=new L.Proj.CRS.TMS('EPSG:5181','+proj=tmerc +lat_0=38 +lon_0=127 +k=1 +x_0=200000 +y_0=500000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs',[-30000,-60000,494288,988576],{scales:Q3l});O3l.projection.bounds=new L.bounds(new L.point(O3l.projectedBounds[0],O3l.projectedBounds[1]),new L.point(O3l.projectedBounds[2],O3l.projectedBounds[3]));O3l.distance=L.CRS.Earth.distance;O3l.R=6378137;return O3l;};L.tileLayer.CmWorld=function(S3l,T3l){return new L.TileLayer.CmWorld(S3l,T3l);};BinaryReader=function(U3l,V3l){this.view=new DataView(U3l);this.offset=0;this.littleendian=V3l;};BinaryReader.prototype={ReadBoolean:function(){var W3l=this.view.getInt8(this.offset,this.littleendian);this.offset=this.offset + 1;return W3l;},ReadByte:function(){var X3l=this.view.getInt8(this.offset,this.littleendian);this.offset=this.offset + 1;return X3l;},ReadDouble:function(){var Y3l=this.view.getFloat64(this.offset,this.littleendian);this.offset=this.offset + 8;return Y3l;},ReadInt16:function(){var Z3l=this.view.getInt16(this.offset,this.littleendian);this.offset=this.offset + 2;return Z3l;},ReadInt32:function(){try{var a4l=this.view.getInt32(this.offset,this.littleendian);this.offset=this.offset + 4;return a4l;}catch(b4l){}return -1;},ReadSingle:function(){var c4l=this.view.getFloat32(this.offset,this.littleendian);this.offset=this.offset + 4;return c4l;},ReadString:function(){var g4l='';try{var f4l=this.ReadByte();for(var d4l=0,e4l;d4l < f4l;){e4l=this.view.getUint8(this.offset + d4l++);g4l+=String.fromCharCode(e4l > 0xdf && e4l < 0xf0 && d4l < f4l - 1?(e4l & 0xf) << 12 | (this.view.getUint8(this.offset + d4l++) & 0x3f) << 6 | this.view.getUint8(this.offset + d4l++) & 0x3f:e4l > 0x7f && d4l < f4l?(e4l & 0x1f) << 6 | this.view.getUint8(this.offset + d4l++) & 0x3f:e4l);}this.offset=this.offset + f4l;}catch(h4l){}return g4l;;},ReadUInt16:function(){var i4l=this.view.getUint16(this.offset,this.littleendian);this.offset=this.offset + 2;return i4l;},ReadUInt32:function(){var j4l=this.view.getUint32(this.offset,this.littleendian);this.offset=this.offset + 4;return j4l;}};var Vector3DObjectType={"Unknown":-1,"MeshPoint":0,"Text":1,"Line":2,"Surface":3,"Solid":4,"Building":5,"Mesh":6,"Tree":7,"AdBoard":8,"Pipe":9,"Road":10,"Point":11,"IconPoint":12,"ElectricPole":13,"Chart3D":14,"Line2D":22,"Arrow3D":23,"Custom":99};var NodeLocation={"NorthWest":0,"SouthWest":1,"NorthEast":2,"SouthEast":3,"Entire":15};var POITextPosition={"Center":0,"Left":1,"Right":2,"Top":3,"Bottom":4,"LeftTop":5,"LeftBottom":6,"RightTop":7,"RightBottom":8};var CmFileState={"None":0,"NotExist":1,"FailRead":2,"Loaded":3};var CmUnit={"Pixel":0,"Meter":1};CmPoint=function(k4l,l4l){this.x=k4l;this.y=l4l;};VectorObjectStruct=function(m4l){this.ObjectType=Vector3DObjectType.Unknown;this.Level=0;this.DrawedID=-1;this.DefiniteScale=false;this.LimitedSelectingDist=3000;this.Position3D=new CmPoint(0,0);this.NodeLocation=NodeLocation.Entire;this.Highlighted=false;this.OriginPoint=m4l;this.PositionGeo=new CmPoint(0,0);this.LayerIndex=-1;this.Label='';this.LabelVisible=false;this.ID=-1;this.Value=Number.MIN_VALUE;this.Name='';this.LineWidth=0;this.UseFixedScale=false;this.FixedScale=1;this.Category='';this.Points=new Array();this.HoleCount=0;this.Holes=new Array();this.key=undefined;};VectorObjectStruct.prototype={SetDefaultInfo:function(n4l,o4l){this.Level=n4l;this.OriginPoint=o4l;}};Line2D=function(){this.obj=null;};Line2D.prototype={Draw:function(q4l,D4l,u4l,C4l,E4l,F4l){if(u4l.checkDisableObjStatus(this.obj.ID) == true)return;var p4l=C4l.GetRenderItem(this.obj.key);if(p4l){q4l.beginPath();var y4l,r4l;for(var s4l=0;s4l < this.obj.Points.length;s4l++){y4l=u4l.options.crs.unproject(this.obj.Points[s4l]);r4l=u4l._map.latLngToContainerPoint(y4l);if(s4l == 0){q4l.moveTo(r4l.x,r4l.y);}else {q4l.lineTo(r4l.x,r4l.y);}}if(p4l.LineStyle == "Solid"){q4l.strokeStyle=p4l.strokestyle;if(p4l.strokewidth){q4l.lineWidth=p4l.strokewidth;}else {q4l.lineWidth=0;}q4l.stroke();}}if(p4l && p4l.LineSymbol == "Arrow" && this.obj.Value > 0){if(p4l.LineSymbolStyle == "CurveFilledA" || p4l.LineSymbolStyle == "CurveA"){if(!(this.obj.Value == 1100 || this.obj.Value == 1102))return;}else if(p4l.LineSymbolStyle == "CurveFilledB" || p4l.LineSymbolStyle == "CurveB"){if(!(this.obj.Value == 1101 || this.obj.Value == 1102))return;}else {return;}var v4l=[];if(p4l.LineSymbolStyle == "CurveFilledA" || p4l.LineSymbolStyle == "CurveA"){var z4l=[];for(var t4l=this.obj.Points.length - 1;t4l >= 0;t4l--){var w4l=u4l.options.crs.unproject(this.obj.Points[t4l]);z4l.push(w4l);}var x4l=buildSymbols(u4l._map,z4l,p4l);v4l=x4l[0];}if(p4l.LineSymbolStyle == "CurveFilledB" || p4l.LineSymbolStyle == "CurveB"){var A4l=[];for(var t4l=0;t4l < this.obj.Points.length;t4l++){var w4l=u4l.options.crs.unproject(this.obj.Points[t4l]);A4l.push(w4l);}var x4l=buildSymbols(u4l._map,A4l,p4l);v4l=x4l[0];}q4l.beginPath();var y4l,r4l;for(var s4l=0;s4l < v4l.length;s4l++){var B4l=v4l[s4l];r4l=u4l._map.latLngToContainerPoint(B4l);if(s4l == 0){q4l.moveTo(r4l.x,r4l.y);}else {q4l.lineTo(r4l.x,r4l.y);}}if(p4l.LineSymbolStyle == "CurveFilledA" || p4l.LineSymbolStyle == "CurveFilledB"){q4l.closePath();if(p4l.fill){q4l.fillStyle=p4l.fill;q4l.fill();}}if(p4l.LineStyle == "Solid"){q4l.strokeStyle=p4l.strokestyle;if(p4l.strokewidth){q4l.lineWidth=p4l.strokewidth;}else {q4l.lineWidth=0;}q4l.stroke();}}}};Line3D=function(){this.obj=null;};Line3D.prototype={Draw:function(G4l,N4l,K4l,M4l){var H4l=M4l.GetRenderItem(this.obj.key);if(H4l){G4l.beginPath();for(var I4l=0;I4l < this.obj.Points.length;I4l++){var L4l=K4l.options.crs.unproject(this.obj.Points[I4l]);var J4l=K4l._map.latLngToContainerPoint(L4l);if(I4l == 0){G4l.moveTo(J4l.x,J4l.y);}else {G4l.lineTo(J4l.x,J4l.y);}}if(H4l.LineStyle == "Solid"){G4l.strokeStyle=H4l.strokestyle;if(H4l.strokewidth){G4l.lineWidth=H4l.strokewidth;}else {G4l.lineWidth=0;}G4l.stroke();}}}};Surface2D=function(){this.obj=null;};Surface2D.prototype={Draw:function(P4l,Y4l,R4l,X4l){if(R4l.checkDisableObjStatus(this.obj.ID) == true)return;var U4l=X4l.GetRenderItem(this.obj.key);if(U4l){P4l.beginPath();for(var Q4l=0;Q4l < this.obj.Points.length;Q4l++){var S4l=R4l.options.crs.unproject(this.obj.Points[Q4l]);var O4l=R4l._map.latLngToContainerPoint(S4l);if(Q4l == 0){P4l.moveTo(O4l.x,O4l.y);}else {P4l.lineTo(O4l.x,O4l.y);}}P4l.closePath();var V4l;for(var Q4l=0;Q4l < this.obj.HoleCount;Q4l++){V4l=this.obj.Holes[Q4l];var W4l=V4l.length;for(var T4l=0;T4l < W4l;T4l++){var S4l=R4l.options.crs.unproject(V4l[T4l]);var O4l=R4l._map.latLngToContainerPoint(S4l);if(T4l == 0){P4l.moveTo(O4l.x,O4l.y);}else {P4l.lineTo(O4l.x,O4l.y);}}P4l.closePath();}P4l.closePath();if(U4l.fill){P4l.fillStyle=U4l.fill;P4l.fill();;};}}};Surface3D=function(){this.obj=null;};Surface3D.prototype={Draw:function(Z4l,g5l,d5l,f5l){var c5l=f5l.GetRenderItem(this.obj.key);if(c5l){Z4l.beginPath();for(var a5l=0;a5l < this.obj.Points.length;a5l++){var e5l=d5l.options.crs.unproject(this.obj.Points[a5l]);var b5l=d5l._map.latLngToContainerPoint(e5l);if(a5l == 0){Z4l.moveTo(b5l.x,b5l.y);}else {Z4l.lineTo(b5l.x,b5l.y);}}Z4l.closePath();if(c5l.fill){Z4l.fillStyle=c5l.fill;Z4l.fill();};}}};POI3D=function(){this.obj=null;};POI3D.prototype={Draw:function(y5l,h5l,n5l,z5l){if(n5l.checkDisableObjStatus(this.obj.ID) == true)return;var i5l=z5l.GetRenderItem(this.obj.key);if(i5l){var o5l=false;var j5l=n5l.options.crs.unproject(this.obj.PositionGeo);var m5l=n5l._map.latLngToContainerPoint(j5l);var q5l=m5l.x;var r5l=m5l.x;var s5l=m5l.y;var t5l=m5l.y;var l5l=undefined;if(i5l.image){y5l.drawImage(i5l.image,m5l.x - i5l.image.width * 0.5,m5l.y - i5l.image.height * 0.5);q5l=q5l - i5l.image.width * 0.5;r5l=r5l + i5l.image.width * 0.5;s5l=s5l - i5l.image.height * 0.5;t5l=s5l + i5l.image.height * 0.5;}if(i5l.LabelVisible == true && this.obj.Label && i5l.fontFamily){var p5l=i5l.fontFamily;p5l=p5l.split("'").join("");p5l=p5l.split("\"").join("");h5l.font=p5l;j5l.x=m5l.x;j5l.y=m5l.y;if(i5l.textAlign){h5l.textAlign=i5l.textAlign;}else {h5l.textAlign='right';}if(h5l.textAlign == 'start'){j5l.x=r5l;}else if(h5l.textAlign == 'left'){j5l.x=r5l;}else if(h5l.textAlign == 'end'){j5l.x=q5l;}else if(h5l.textAlign == 'right'){j5l.x=q5l;}if(i5l.verticalAlign){h5l.textBaseline=i5l.verticalAlign;}else {h5l.textBaseline='middle';}if(h5l.textBaseline == 'top'){j5l.y=t5l;}else if(h5l.textBaseline == 'hanging'){j5l.y=t5l;}else if(h5l.textBaseline == 'bottom'){j5l.y=s5l;}else if(h5l.textBaseline == 'alphabetic'){j5l.y=t5l;}if(i5l.fontStrokestyle){h5l.strokeStyle=i5l.fontStrokestyle;if(i5l.fontStrokeWidth){h5l.lineWidth=i5l.fontStrokeWidth;}else {h5l.lineWidth=0;}if(i5l.fontlinejoin){h5l.linejoin=i5l.fontlinejoin;}if(i5l.fontmiterlimit){h5l.miterLimit=i5l.fontmiterlimit;}o5l=true;};}if(o5l == true){var w5l=h5l.measureText(this.obj.Label);var u5l=w5l.width;w5l=h5l.measureText('W');var v5l=w5l.width;var k5l=new CmPoint();k5l.x=j5l.x;k5l.y=j5l.y;if(h5l.textAlign == 'end'){k5l.x=j5l.x - u5l;}else if(h5l.textAlign == 'center'){k5l.x=j5l.x - u5l / 2;}else if(h5l.textAlign == 'right'){k5l.x=j5l.x - u5l;}if(h5l.textBaseline == 'bottom'){k5l.y=j5l.y - v5l;}else if(h5l.textBaseline == 'alphabetic'){k5l.y=j5l.y - v5l;}else if(h5l.textBaseline == 'middle'){k5l.y=j5l.y - v5l / 2;}l5l={x:k5l.x - 3,y:k5l.y - 3,w:u5l + 6,h:v5l + 6};if(l5l.x > h5l.w || l5l.y > h5l.h || l5l.x + l5l.w < 0 || l5l.y + l5l.h < 0){o5l=false;}else {if(n5l.texttree){var x5l=n5l.texttree.search(l5l).length;if(x5l == 0){n5l.texttree.insert(l5l,this.obj);}else {o5l=false;}}}}if(o5l == true){if(i5l.fontStrokestyle){if(i5l.TextRotateByValue == "TRUE" && this.obj.Value){h5l.save();h5l.translate(j5l.x,j5l.y);h5l.rotate(-this.obj.Value * Math.PI / 180);h5l.translate(0,-3);h5l.strokeText(this.obj.Label,0,0);h5l.restore();}else {h5l.strokeText(this.obj.Label,j5l.x,j5l.y);}}if(i5l.fontFill){if(h5l.lineWidth > 3){h5l.lineWidth=h5l.lineWidth - 3;}h5l.fillStyle=i5l.fontFill;if(i5l.TextRotateByValue == "TRUE" && this.obj.Value){h5l.save();h5l.translate(j5l.x,j5l.y);h5l.rotate(-this.obj.Value * Math.PI / 180);h5l.translate(0,-3);h5l.fillText(this.obj.Label,0,0);h5l.restore();}else {h5l.fillText(this.obj.Label,j5l.x,j5l.y);}}}}}};CmVectorTileInfo=function(){this._Ver=0;this._Type=0;this._Custom=false;this.Objects=new Array();this.width=0;this.height=0;this.src=null;this.zoom=undefined;this.minx=undefined;this.miny=undefined;this.maxx=undefined;this.maxy=undefined;this.sx=undefined;this.sy=undefined;this.tileSize=undefined;this.tileIndex=undefined;this._tolerance_unit=CmUnit.Meter;};CmVectorTile=function(){this.className=undefined;this.tileInfo=new CmVectorTileInfo();this._Loaded=false;this._Parsed=false;this._NotFound=false;this._layer=null;this.response=null;this.needParse=true;this.parseState=0;this.br=null;this.objectCount=0;this.currentObjectIndex=-1;this.xhr=null;};CmVectorTile.prototype={createCORSRequest:function(B5l,C5l,D5l){var A5l=new XMLHttpRequest();try{if(("withCredentials" in A5l)){A5l.open(B5l,C5l,D5l);}else if(typeof XDomainRequest != "undefined"){A5l=new XDomainRequest();A5l.open(B5l,C5l);}else {A5l=null;}}catch(E5l){console.log("Error Message: " + E5l.message);}A5l.responseType='arraybuffer';return A5l;},LoadData:function(G5l){if(this._Loaded){G5l.downloadState();}else {var H5l=this.tileInfo.src;if(G5l.isWebCacheUse_CMV == false){H5l+='?' + new Date().getTime();}this.xhr=this.createCORSRequest('GET',H5l,true);if(!this.xhr){this.xhr=null;responseFunction();return;}var F5l=this;this.xhr.onload=function(){if(F5l.xhr){if(F5l.xhr.readyState == 4 && F5l.xhr.status == 200){if(F5l.xhr.response){F5l.response=F5l.xhr.response.slice(0);}}else {F5l.response=null;F5l.tileInfo._NotFound=true;F5l._NotFound=true;}G5l.downloadState();}};this.xhr.send(null);}},abortDownload:function(){if(this.xhr != null){this.xhr.abort();}},GetVersionAndType:function(I5l){this.tileInfo._Ver=1;this.tileInfo._Type=I5l;if(this.tileInfo._Type > Vector3DObjectType.Custom){this.tileInfo._Type=I5l & 0x0000FFFF;this.tileInfo._Ver=(I5l & 0xFF000000) >> 24;}return this.tileInfo._Type;},parseTask:function(K5l,L5l){if(this.response == null){this.needParse=false;this.parseState=-1;return true;}if(this.needParse){if(this.parseState == 0){this.tileInfo.Objects.length=0;this.br=new BinaryReader(this.response,true);var J5l=this.br.ReadString();if(J5l == 'CMV1000'){this._Parsed=true;this.needParse=false;this.parseState=-1;return true;}else if(J5l == 'CMV2000'){this.parseState=1;this.objectCount=this.br.ReadInt32();if(this.objectCount < 1){this.needParse=false;this.parseState=-1;return true;}else {this.currentObjectIndex=0;;}}}else if(this.parseState == 1){this.readObject();this.currentObjectIndex++;if(this.currentObjectIndex >= this.objectCount){this.currentObjectIndex=0;this.parseState=2;}return false;}else if(this.parseState == 2){if(this._layer){if(this._layer.LayerInfos){if(this._layer._map._panAnim == undefined || this._layer._map._panAnim != undefined && this._layer._map._panAnim._inProgress == false && this._layer._map.dragging.moving() == false)this.drawObject(this.currentObjectIndex,K5l,L5l);this.currentObjectIndex++;if(this.currentObjectIndex >= this.objectCount){this.needParse=false;this.currentObjectIndex=0;this.parseState=-1;return true;}return false;}else {this.needParse=false;this.parseState=-1;return true;}}else {this.needParse=false;this.parseState=-1;return true;}}}else {this.parseState=-1;return true;}return false;},drawObject:function(N5l,Q5l,R5l){try{var O5l=this.tileInfo.Objects[N5l].obj.LayerIndex;var M5l=this._layer.LayerInfos[O5l];if(M5l != undefined && M5l.Visible == true){if(this._layer._map._zoom >= M5l.MinLevel && this._layer._map._zoom <= M5l.MaxLevel){var P5l=M5l.Renderer;this.tileInfo.Objects[N5l].Draw(Q5l,R5l,this._layer,P5l);}}}catch(S5l){}},readObject:function(){var T5l=this.br;var k6l;var j6l=1;var X5l=0;X5l=T5l.ReadInt32();if(X5l < 0)return;X5l=this.GetVersionAndType(X5l);T5l.ReadInt32();if(this.tileInfo._Type >= 0 && this.tileInfo._Type <= Vector3DObjectType.Custom){switch(this.tileInfo._Type){case Vector3DObjectType.MeshPoint:{T5l.ReadInt32();T5l.ReadInt32();if(this.tileInfo._Ver > 1){T5l.ReadString();}T5l.ReadDouble();T5l.ReadString();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();if(this.tileInfo._Ver > 2){T5l.ReadSingle();}T5l.ReadBoolean();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadBoolean();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadBoolean();T5l.ReadString();}break;case Vector3DObjectType.Tree:{T5l.ReadInt32();T5l.ReadInt32();if(this.tileInfo._Ver > 1){T5l.ReadString();}T5l.ReadDouble();T5l.ReadString();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadBoolean();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadString();}break;case Vector3DObjectType.AdBoard:{T5l.ReadInt32();T5l.ReadInt32();if(this.tileInfo._Ver > 1){T5l.ReadString();}T5l.ReadDouble();T5l.ReadString();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadByte();T5l.ReadByte();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadString();}break;case Vector3DObjectType.Pipe:{T5l.ReadInt32();T5l.ReadInt32();if(this.tileInfo._Ver > 1){T5l.ReadString();}T5l.ReadDouble();T5l.ReadString();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadInt32();T5l.ReadDouble();T5l.ReadDouble();}break;case Vector3DObjectType.Line:{var V5l=this.ReadLine2D(T5l,this.tileInfo._Ver);V5l.obj.ObjectType=Vector3DObjectType.Line;this.tileInfo.Objects.push(V5l);}break;case Vector3DObjectType.Surface:{var V5l=this.ReadSurface2D(T5l,this.tileInfo._Ver);V5l.obj.ObjectType=Vector3DObjectType.Surface;this.tileInfo.Objects.push(V5l);}break;case Vector3DObjectType.Solid:{T5l.ReadInt32();T5l.ReadInt32();if(this.tileInfo._Ver > 1){T5l.ReadString();}T5l.ReadDouble();T5l.ReadString();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();Color.FromArgb(T5l.ReadInt32());Color.FromArgb(T5l.ReadInt32());var Y5l;var W5l;var Z5l;Y5l=T5l.ReadInt32();Z5l=T5l.ReadInt32();W5l=T5l.ReadInt32();if(this.tileInfo._Ver < 3){for(var U5l=0;U5l < Y5l;U5l++){T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();}for(var U5l=0;U5l < Z5l;U5l++){T5l.ReadInt32();}for(var U5l=0;U5l < W5l;U5l++){T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();}}else {for(var U5l=0;U5l < Y5l;U5l++){T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadSingle();T5l.ReadSingle();}for(var U5l=0;U5l < Z5l;U5l++){T5l.ReadInt32();}for(var U5l=0;U5l < W5l;U5l++){T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadSingle();T5l.ReadSingle();}}}break;case Vector3DObjectType.Building:{T5l.ReadInt32();T5l.ReadInt32();if(this.tileInfo._Ver > 1){T5l.ReadString();}T5l.ReadDouble();T5l.ReadString();T5l.ReadString();T5l.ReadString();T5l.ReadString();T5l.ReadString();if(this.tileInfo._Ver > 1){T5l.ReadString();}T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();var a6l;var b6l;var c6l;var d6l;var W5l;a6l=T5l.ReadInt32();b6l=T5l.ReadInt32();c6l=T5l.ReadInt32();d6l=T5l.ReadInt32();W5l=T5l.ReadInt32();if(this.tileInfo._Ver == 1){for(var U5l=0;U5l < a6l;U5l++){T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();}for(var U5l=0;U5l < b6l;U5l++){T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();}for(var U5l=0;U5l < c6l;U5l++){T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();}for(var U5l=0;U5l < d6l;U5l++){T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();}for(var U5l=0;U5l < W5l;U5l++){T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();T5l.ReadSingle();}}else {for(var U5l=0;U5l < a6l;U5l++){T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadSingle();T5l.ReadSingle();}for(var U5l=0;U5l < b6l;U5l++){T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadSingle();T5l.ReadSingle();}for(var U5l=0;U5l < c6l;U5l++){T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadSingle();T5l.ReadSingle();}for(var U5l=0;U5l < d6l;U5l++){T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadSingle();T5l.ReadSingle();}for(var U5l=0;U5l < W5l;U5l++){T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadSingle();T5l.ReadSingle();}}}break;case Vector3DObjectType.Mesh:{T5l.ReadInt32();T5l.ReadInt32();if(this.tileInfo._Ver > 1){T5l.ReadString();}T5l.ReadDouble();T5l.ReadString();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadBoolean();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadString();T5l.ReadString();}break;case Vector3DObjectType.Road:{T5l.ReadInt32();T5l.ReadInt32();if(this.tileInfo._Ver > 1){T5l.ReadString();}T5l.ReadDouble();T5l.ReadString();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadString();var f6l=T5l.ReadInt32();for(var U5l=0;U5l < f6l;U5l++){T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadSingle();T5l.ReadSingle();}}break;case Vector3DObjectType.IconPoint:{var V5l=this.ReadPOI3D(T5l,this.tileInfo._Ver);V5l.obj.ObjectType=Vector3DObjectType.IconPoint;this.tileInfo.Objects.push(V5l);}break;case Vector3DObjectType.ElectricPole:{T5l.ReadInt32();T5l.ReadInt32();if(this.tileInfo._Ver > 1){this.tileInfo.Name=T5l.ReadString();}T5l.ReadDouble();T5l.ReadString();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadInt32();T5l.ReadSingle();T5l.ReadString();T5l.ReadString();T5l.ReadString();T5l.ReadString();T5l.ReadString();T5l.ReadString();}break;case Vector3DObjectType.Chart3D:{T5l.ReadInt32();T5l.ReadInt32();if(this.tileInfo._Ver > 3){T5l.ReadString();}T5l.ReadDouble();T5l.ReadString();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadDouble();T5l.ReadString();var g6l=T5l.ReadByte();for(var U5l=0;U5l < g6l;U5l++){T5l.ReadSingle();}T5l.ReadByte();var h6l=T5l.ReadUInt16();for(var e6l=0;e6l < h6l;e6l++){var i6l=T5l.ReadInt32();for(var U5l=0;U5l < i6l;U5l++){T5l.ReadSingle();T5l.ReadSingle();}}}break;default:break;}}},LoadFromVersion2Stream:function(l6l){var y6l=l6l.ReadInt32();var E6l;for(var q6l=0;q6l < y6l;q6l++){var D6l=1;var p6l=0;p6l=l6l.ReadInt32();p6l=this.GetVersionAndType(p6l);l6l.ReadInt32();if(this.tileInfo._Type >= 0 && this.tileInfo._Type <= Vector3DObjectType.Custom){switch(this.tileInfo._Type){case Vector3DObjectType.MeshPoint:{l6l.ReadInt32();l6l.ReadInt32();if(this.tileInfo._Ver > 1){l6l.ReadString();}l6l.ReadDouble();l6l.ReadString();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();if(this.tileInfo._Ver > 2){l6l.ReadSingle();}l6l.ReadBoolean();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadBoolean();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadBoolean();l6l.ReadString();}break;case Vector3DObjectType.Tree:{l6l.ReadInt32();l6l.ReadInt32();if(this.tileInfo._Ver > 1){l6l.ReadString();}l6l.ReadDouble();l6l.ReadString();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadBoolean();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadString();}break;case Vector3DObjectType.AdBoard:{l6l.ReadInt32();l6l.ReadInt32();if(this.tileInfo._Ver > 1){l6l.ReadString();}l6l.ReadDouble();l6l.ReadString();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadByte();l6l.ReadByte();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadString();}break;case Vector3DObjectType.Pipe:{l6l.ReadInt32();l6l.ReadInt32();if(this.tileInfo._Ver > 1){l6l.ReadString();}l6l.ReadDouble();l6l.ReadString();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadInt32();l6l.ReadDouble();l6l.ReadDouble();}break;case Vector3DObjectType.Line:{var n6l=this.ReadLine2D(l6l,this.tileInfo._Ver);this.tileInfo.Objects.push(n6l);}break;case Vector3DObjectType.Surface:{var n6l=this.ReadSurface2D(l6l,this.tileInfo._Ver);this.tileInfo.Objects.push(n6l);}break;case Vector3DObjectType.Solid:{l6l.ReadInt32();l6l.ReadInt32();if(this.tileInfo._Ver > 1){l6l.ReadString();}l6l.ReadDouble();l6l.ReadString();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();Color.FromArgb(l6l.ReadInt32());Color.FromArgb(l6l.ReadInt32());var r6l;var o6l;var s6l;r6l=l6l.ReadInt32();s6l=l6l.ReadInt32();o6l=l6l.ReadInt32();if(this.tileInfo._Ver < 3){for(var m6l=0;m6l < r6l;m6l++){l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();}for(var m6l=0;m6l < s6l;m6l++){l6l.ReadInt32();}for(var m6l=0;m6l < o6l;m6l++){l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();}}else {for(var m6l=0;m6l < r6l;m6l++){l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadSingle();l6l.ReadSingle();}for(var m6l=0;m6l < s6l;m6l++){l6l.ReadInt32();}for(var m6l=0;m6l < o6l;m6l++){l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadSingle();l6l.ReadSingle();}}}break;case Vector3DObjectType.Building:{l6l.ReadInt32();l6l.ReadInt32();if(this.tileInfo._Ver > 1){l6l.ReadString();}l6l.ReadDouble();l6l.ReadString();l6l.ReadString();l6l.ReadString();l6l.ReadString();l6l.ReadString();if(this.tileInfo._Ver > 1){l6l.ReadString();}l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();var t6l;var u6l;var v6l;var w6l;var o6l;t6l=l6l.ReadInt32();u6l=l6l.ReadInt32();v6l=l6l.ReadInt32();w6l=l6l.ReadInt32();o6l=l6l.ReadInt32();if(this.tileInfo._Ver == 1){for(var m6l=0;m6l < t6l;m6l++){l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();}for(var m6l=0;m6l < u6l;m6l++){l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();}for(var m6l=0;m6l < v6l;m6l++){l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();}for(var m6l=0;m6l < w6l;m6l++){l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();}for(var m6l=0;m6l < o6l;m6l++){l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();l6l.ReadSingle();}}else {for(var m6l=0;m6l < t6l;m6l++){l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadSingle();l6l.ReadSingle();}for(var m6l=0;m6l < u6l;m6l++){l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadSingle();l6l.ReadSingle();}for(var m6l=0;m6l < v6l;m6l++){l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadSingle();l6l.ReadSingle();}for(var m6l=0;m6l < w6l;m6l++){l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadSingle();l6l.ReadSingle();}for(var m6l=0;m6l < o6l;m6l++){l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadSingle();l6l.ReadSingle();}}}break;case Vector3DObjectType.Mesh:{l6l.ReadInt32();l6l.ReadInt32();if(this.tileInfo._Ver > 1){l6l.ReadString();}l6l.ReadDouble();l6l.ReadString();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadBoolean();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadString();l6l.ReadString();}break;case Vector3DObjectType.Road:{l6l.ReadInt32();l6l.ReadInt32();if(this.tileInfo._Ver > 1){l6l.ReadString();}l6l.ReadDouble();l6l.ReadString();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadString();var z6l=l6l.ReadInt32();for(var m6l=0;m6l < z6l;m6l++){l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadSingle();l6l.ReadSingle();}}break;case Vector3DObjectType.IconPoint:{var n6l=this.ReadPOI3D(l6l,this.tileInfo._Ver);this.tileInfo.Objects.push(n6l);}break;case Vector3DObjectType.ElectricPole:{l6l.ReadInt32();l6l.ReadInt32();if(this.tileInfo._Ver > 1){this.tileInfo.Name=l6l.ReadString();}l6l.ReadDouble();l6l.ReadString();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadInt32();l6l.ReadSingle();l6l.ReadString();l6l.ReadString();l6l.ReadString();l6l.ReadString();l6l.ReadString();l6l.ReadString();}break;case Vector3DObjectType.Chart3D:{l6l.ReadInt32();l6l.ReadInt32();if(this.tileInfo._Ver > 3){l6l.ReadString();}l6l.ReadDouble();l6l.ReadString();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadDouble();l6l.ReadString();var A6l=l6l.ReadByte();for(var m6l=0;m6l < A6l;m6l++){l6l.ReadSingle();}l6l.ReadByte();var B6l=l6l.ReadUInt16();for(var x6l=0;x6l < B6l;x6l++){var C6l=l6l.ReadInt32();for(var m6l=0;m6l < C6l;m6l++){l6l.ReadSingle();l6l.ReadSingle();}}}break;default:break;}}}this._Loaded=true;},LoadFromStream:function(H6l){this.tileInfo.Objects.length=0;var F6l=new BinaryReader(H6l,true);var G6l=F6l.ReadString();if(G6l == 'CMV1000'){this.LoadFromVersion1Stream(F6l);}else if(G6l == 'CMV2000'){this.LoadFromVersion2Stream(F6l);}},LoadFromVersion1Stream:function(I6l){},ReadLine2D:function(K6l,R6l){var J6l=new Line2D();J6l.obj=new VectorObjectStruct(null);J6l.obj.LayerIndex=K6l.ReadInt32();J6l.obj.ID=K6l.ReadInt32();if(R6l > 1){J6l.obj.Name=K6l.ReadString();}J6l.obj.Value=K6l.ReadDouble();J6l.obj.Label=K6l.ReadString();K6l.ReadDouble();K6l.ReadDouble();K6l.ReadDouble();K6l.ReadDouble();J6l.obj.LineColor=K6l.ReadInt32();var N6l=K6l.ReadInt32();for(var M6l=0;M6l < N6l;M6l++){var O6l=K6l.ReadDouble();var P6l=K6l.ReadDouble();;K6l.ReadDouble();var Q6l=new CmPoint(O6l,P6l);J6l.obj.Points.push(Q6l);}var L6l=this._layer.LayerInfos[J6l.obj.LayerIndex];if(L6l){if(L6l.ThematicKey == "label"){J6l.obj.key=J6l.obj.Label;}else if(L6l.ThematicKey == "value"){J6l.obj.key=J6l.obj.Value;}else if(L6l.ThematicKey == "category"){J6l.obj.key=J6l.obj.Category;}}return J6l;},ReadLine3D:function(T6l,a7l){var S6l=new Line3D();S6l.obj=new VectorObjectStruct(null);S6l.obj.LayerIndex=T6l.ReadInt32();S6l.obj.ID=T6l.ReadInt32();if(a7l > 1){S6l.obj.Name=T6l.ReadString();}S6l.obj.Value=T6l.ReadDouble();S6l.obj.Label=T6l.ReadString();T6l.ReadDouble();T6l.ReadDouble();T6l.ReadDouble();S6l.obj.lineWidth=T6l.ReadDouble();S6l.obj.LineColor=T6l.ReadInt32();var W6l=T6l.ReadInt32();for(var V6l=0;V6l < W6l;V6l++){var X6l=T6l.ReadDouble();var Y6l=T6l.ReadDouble();;T6l.ReadDouble();var Z6l=new CmPoint(X6l,Y6l);S6l.obj.Points.push(Z6l);}var U6l=this._layer.LayerInfos[S6l.obj.LayerIndex];if(U6l){if(U6l.ThematicKey == "label"){S6l.obj.key=S6l.obj.Label;}else if(U6l.ThematicKey == "value"){S6l.obj.key=S6l.obj.Value;}else if(U6l.ThematicKey == "category"){S6l.obj.key=S6l.obj.Category;}}return S6l;},ReadSurface2D:function(c7l,k7l){var b7l=new Surface2D();b7l.obj=new VectorObjectStruct(null);b7l.obj.LayerIndex=c7l.ReadInt32();b7l.obj.ID=c7l.ReadInt32();if(k7l > 1){b7l.obj.Name=c7l.ReadString();}b7l.obj.Value=c7l.ReadDouble();b7l.obj.Label=c7l.ReadString();c7l.ReadDouble();c7l.ReadDouble();c7l.ReadDouble();var l7l=c7l.ReadInt32();for(var d7l=0;d7l < l7l;d7l++){var e7l=c7l.ReadDouble();var f7l=c7l.ReadDouble();;c7l.ReadDouble();var g7l=new CmPoint(e7l,f7l);b7l.obj.Points.push(g7l);}if(k7l > 1){b7l.obj.HoleCount=c7l.ReadInt32();if(b7l.obj.HoleCount > 0){b7l.obj.Holes=new Array();for(var d7l=0;d7l < b7l.obj.HoleCount;d7l++){var m7l=c7l.ReadInt32();var i7l=new Array();for(var j7l=0;j7l < m7l;j7l++){var e7l=c7l.ReadDouble();var f7l=c7l.ReadDouble();c7l.ReadDouble();var g7l=new CmPoint(e7l,f7l);i7l.push(g7l);}b7l.obj.Holes.push(i7l);}}}var h7l=this._layer.LayerInfos[b7l.obj.LayerIndex];if(h7l){if(h7l.ThematicKey == "label"){b7l.obj.key=b7l.obj.Label;}else if(h7l.ThematicKey == "value"){b7l.obj.key=b7l.obj.Value;}else if(h7l.ThematicKey == "category"){b7l.obj.key=b7l.obj.Category;}}return b7l;},ReadSurface3D:function(o7l,v7l){var n7l=new Surface3D();n7l.obj=new VectorObjectStruct(null);n7l.obj.LayerIndex=o7l.ReadInt32();n7l.obj.ID=o7l.ReadInt32();if(v7l > 1){n7l.obj.Name=o7l.ReadString();}n7l.obj.Value=o7l.ReadDouble();n7l.obj.Label=o7l.ReadString();o7l.ReadDouble();o7l.ReadDouble();o7l.ReadDouble();o7l.ReadDouble();n7l.obj.LineColor=o7l.ReadInt32();var r7l=o7l.ReadInt32();for(var q7l=0;q7l < r7l;q7l++){var s7l=o7l.ReadDouble();var t7l=o7l.ReadDouble();;o7l.ReadDouble();var u7l=new CmPoint(s7l,t7l);n7l.obj.Points.push(u7l);}var p7l=this._layer.LayerInfos[n7l.obj.LayerIndex];if(p7l){if(p7l.ThematicKey == "label"){n7l.obj.key=n7l.obj.Label;}else if(p7l.ThematicKey == "value"){n7l.obj.key=n7l.obj.Value;}else if(p7l.ThematicKey == "category"){n7l.obj.key=n7l.obj.Category;}}return n7l;},ReadPOI3D:function(x7l,B7l){var w7l=new POI3D();w7l.obj=new VectorObjectStruct(null);w7l.obj.LayerIndex=x7l.ReadInt32();w7l.obj.ID=x7l.ReadInt32();if(B7l > 1){w7l.obj.Name=x7l.ReadString();}w7l.obj.Value=x7l.ReadDouble();w7l.obj.Label=x7l.ReadString();var z7l=x7l.ReadDouble();var A7l=x7l.ReadDouble();;x7l.ReadDouble();w7l.obj.PositionGeo=new CmPoint(z7l,A7l);w7l.obj.Category=x7l.ReadString();var y7l=this._layer.LayerInfos[w7l.obj.LayerIndex];if(y7l){if(y7l.ThematicKey == "label"){w7l.obj.key=w7l.obj.Label;}else if(y7l.ThematicKey == "value"){w7l.obj.key=w7l.obj.Value;}else if(y7l.ThematicKey == "category"){w7l.obj.key=w7l.obj.Category;}}return w7l;},containsMBR:function(C7l,G7l,H7l){var D7l=new CmPoint(C7l[0].x,C7l[0].y);var E7l=new CmPoint(C7l[0].x,C7l[0].y);for(var F7l=1;F7l < C7l.length;F7l++){if(C7l[F7l].x < D7l.x)D7l.x=C7l[F7l].x;if(C7l[F7l].y < D7l.y)D7l.y=C7l[F7l].y;if(C7l[F7l].x > E7l.x)E7l.x=C7l[F7l].x;if(C7l[F7l].y > E7l.y)E7l.y=C7l[F7l].y;}D7l.x=D7l.x - H7l;D7l.y=D7l.y - H7l;E7l.x=E7l.x + H7l;E7l.y=E7l.y + H7l;if(D7l.x <= G7l.x && G7l.x <= E7l.x && D7l.y <= G7l.y && G7l.y <= E7l.y)return true;return false;},pointEqual:function(K7l,L7l,M7l){var I7l=new CmPoint(K7l.x,K7l.y);var J7l=new CmPoint(K7l.x,K7l.y);I7l.x=I7l.x - M7l;I7l.y=I7l.y - M7l;J7l.x=J7l.x + M7l;J7l.y=J7l.y + M7l;if(I7l.x <= L7l.x && L7l.x <= J7l.x && I7l.y <= L7l.y && L7l.y <= J7l.y)return true;return false;},pointInPolygon:function(N7l,P7l){var Q7l=N7l.length - 1;var R7l=false;for(var O7l=0;O7l < N7l.length;O7l++){if(N7l[O7l].y < P7l.y && N7l[Q7l].y >= P7l.y || N7l[Q7l].y < P7l.y && N7l[O7l].y >= P7l.y){if(N7l[O7l].x + (P7l.y - N7l[O7l].y) / (N7l[Q7l].y - N7l[O7l].y) * (N7l[Q7l].x - N7l[O7l].x) < P7l.x){R7l=!R7l;}}Q7l=O7l;}return R7l;},pointInLine:function(T7l,U7l,X7l){var V7l=T7l.length - 1;for(var S7l=0;S7l < V7l;S7l++){var W7l=GA_DistanceToLineSegment(U7l.x,U7l.y,T7l[S7l].x,T7l[S7l].y,T7l[S7l + 1].x,T7l[S7l + 1].y);if(W7l <= X7l)return true;}return false;},isNearObject:function(Y7l,Z7l,a8l){if(!Y7l.obj.Points.length){if(Y7l.obj.ObjectType == Vector3DObjectType.IconPoint){if(this.pointEqual(Y7l.obj.PositionGeo,Z7l,a8l))return Y7l.obj;}}else if(Y7l.obj.Points.length > 0){if(this.containsMBR(Y7l.obj.Points,Z7l,a8l)){if(Y7l.obj.ObjectType == Vector3DObjectType.Surface){if(this.pointInPolygon(Y7l.obj.Points,Z7l))return Y7l.obj;}else if(Y7l.obj.ObjectType == Vector3DObjectType.Line){if(this.pointInLine(Y7l.obj.Points,Z7l,a8l))return Y7l.obj;}}}return null;},getObjectDistance:function(b8l,d8l){if(!b8l.Points.length){if(b8l.ObjectType == Vector3DObjectType.IconPoint){var f8l=b8l.PositionGeo.x - d8l.x;var g8l=b8l.PositionGeo.y - d8l.y;return Math.sqrt(f8l * f8l + g8l * g8l);}}else if(b8l.Points.length > 0){if(b8l.ObjectType == Vector3DObjectType.Surface || b8l.ObjectType == Vector3DObjectType.Line){var e8l=Number.MAX_VALUE;var i8l=b8l.Points.length - 1;for(var c8l=0;c8l < i8l;c8l++){var h8l=GA_DistanceToLineSegment(d8l.x,d8l.y,b8l.Points[c8l].x,b8l.Points[c8l].y,b8l.Points[c8l + 1].x,b8l.Points[c8l + 1].y);if(h8l <= e8l)e8l=h8l;}return e8l;}}return -1;},getSelectedObject:function(j8l,k8l){return this.getSelectedObject_LayerIndex(-1,j8l,k8l);},getSelectedObject_LayerIndex:function(r8l,u8l,m8l,s8l){if(this.tileInfo._tolerance_unit == CmUnit.Pixel){m8l=10;if(s8l != undefined){var t8l=s8l;m8l=m8l * GM_GetDistancePerPixel(t8l);}}for(var n8l=0;n8l < this.tileInfo.Objects.length;n8l++){var o8l=this.tileInfo.Objects[n8l];var p8l=o8l.obj.LayerIndex;var l8l=this._layer.LayerInfos[p8l];if(!l8l)continue;if(r8l > -1){if(r8l != p8l)continue;}if(this._layer.checkDisableObjStatus(o8l.obj.ID) == true)continue;if(l8l.Selectable == true && l8l.Visible == true){if(this._layer._map._zoom >= l8l.MinLevel && this._layer._map._zoom <= l8l.MaxLevel){var q8l=this.isNearObject(o8l,u8l,m8l);if(q8l != null)return q8l;}}}return null;},getObjectPoints:function(z8l,B8l){var x8l=[];for(var w8l=0;w8l < this.tileInfo.Objects.length;w8l++){var v8l=this.tileInfo.Objects[w8l];var y8l=v8l.obj.LayerIndex;var A8l=this._layer.LayerInfos[y8l];if(!A8l)continue;if(z8l > -1){if(z8l != y8l)continue;}if(v8l.obj.ObjectType == Vector3DObjectType.Surface)continue;if(v8l.obj.ID == B8l){x8l.push(v8l.obj.Points);}}if(edit_id_list.length == 0)return null;return x8l;},getObjects_SnapPoint:function(K8l,F8l){var G8l=[];if(this.tileInfo._tolerance_unit == CmUnit.Pixel){var I8l=this._layer._map.getZoom();F8l=F8l * GM_GetDistancePerPixel(I8l);}for(var D8l=0;D8l < this.tileInfo.Objects.length;D8l++){var E8l=this.tileInfo.Objects[D8l];var J8l=E8l.obj.LayerIndex;var C8l=this._layer.LayerInfos[J8l];if(!C8l)continue;if(this._layer.checkDisableObjStatus(E8l.obj.ID) == true)continue;if(C8l.Selectable == true && C8l.Visible == true){if(this._layer._map._zoom >= C8l.MinLevel && this._layer._map._zoom <= C8l.MaxLevel){var H8l=this.isNearObject(E8l,K8l,F8l);if(H8l != null)G8l.push(H8l);}}}return G8l;},setToleranceUnit:function(L8l){if(this.tileInfo._tolerance_unit != L8l)this.tileInfo._tolerance_unit=L8l;}};RendererItem=function(M8l){this.ThematicStyle=M8l.ThematicStyle;this.ThematicKey=M8l.ThematicKey;this.ThematicValue1=M8l.ThematicValue1;this.ThematicValue2=M8l.ThematicValue1;this.LineStyle=M8l.LineStyle;this.LineSymbol=M8l.LineSymbol;this.LineSymbolStyle=M8l.LineSymbolStyle;this.LineSymbolSize=M8l.LineSymbolSize;this.strokestyle="rgba(" + M8l.LineColorR + ", " + M8l.LineColorG + ", " + M8l.LineColorB + ", " + M8l.LineColorA + ")";this.strokewidth=M8l.LineWidth;this.FillStyle=M8l.FillStyle;this.fill="rgba(" + M8l.FillColorR + ", " + M8l.FillColorG + ", " + M8l.FillColorB + ", " + M8l.FillColorA + ")";this.LabelVisible=M8l.LabelVisible;this.fontFamily=M8l.FontFamily;this.fontStrokestyle="rgba(" + M8l.FontOutlineColorR + ", " + M8l.FontOutlineColorG + ", " + M8l.FontOutlineColorB + ", " + M8l.FontOutlineColorA + ")";this.fontStrokeWidth=M8l.FontOutlineWidth;this.fontlinejoin=M8l.FontOutlineJoin;this.fontmiterlimit=M8l.FontOutlineMiterLimit;this.fontFill="rgba(" + M8l.FontFillColorR + ", " + M8l.FontFillColorG + ", " + M8l.FontFillColorB + ", " + M8l.FontFillColorA + ")";this.textAlign=M8l.FontTextAlign;this.verticalAlign=M8l.FontVerticalAlign;this.image=undefined;this.TextRotateByValue=M8l.TextRotateByValue;if(M8l.SymbolName == "none" || M8l.SymbolName == undefined || M8l.SymbolName == null){this.image=undefined;}else {this.image=document.getElementById(M8l.SymbolName);}};RendererItem.prototype={GetLegendImage:function(){var O8l=L.DomUtil.create('canvas');if(this.image){O8l.width=this.image.width;O8l.height=this.image.height;var N8l=O8l.getContext("2d");N8l.drawImage(this.image,0,0);}else {O8l.width=16;O8l.height=16;var N8l=O8l.getContext("2d");N8l.beginPath();N8l.moveTo(0,0);N8l.lineTo(15,0);N8l.lineTo(15,15);N8l.lineTo(0,15);N8l.lineTo(0,0);if(this.fill){N8l.fillStyle=this.fill;N8l.fill();};if(this.LineStyle == "Solid"){N8l.strokeStyle=this.strokestyle;if(this.strokewidth){N8l.lineWidth=this.strokewidth;}else {N8l.lineWidth=0;}N8l.stroke();N8l.moveTo(0,7);N8l.lineTo(15,7);N8l.stroke();}}var P8l=L.DomUtil.create('img');P8l.src=O8l.toDataURL("image/png");return P8l;}};LegendItem=function(){this.image=null;this.thematictype="none";this.minvalue="";this.maxvalue="";};SimpleRenderer=function(){this.renderItem=new Array();};SimpleRenderer.prototype={AddRenderItem:function(Q8l){if(Q8l != undefined){this.renderItem.push(Q8l);}},GetRenderItem:function(R8l){if(this.renderItem.length < 0){return null;}return this.renderItem[0];},GetLegendImage:function(){if(this.renderItem.length < 0){return null;}var T8l=new Array();var S8l=new LegendItem();S8l.image=this.renderItem[0].GetLegendImage();S8l.thematictype="none";T8l.push(S8l);return T8l;}};UniqueValueRenderer=function(){this.renderItem=new Array();};UniqueValueRenderer.prototype={AddRenderItem:function(U8l){if(U8l != undefined){this.renderItem[U8l.ThematicValue1]=U8l;}},GetRenderItem:function(V8l){return this.renderItem[V8l];},GetLegendImage:function(){if(this.renderItem.length < 0){return null;}var X8l=new Array();for(var Y8l in this.renderItem){var W8l=new LegendItem();W8l.image=this.renderItem[Y8l].GetLegendImage();W8l.thematictype="unique";W8l.minvalue=Y8l;W8l.maxvalue=undefined;X8l.push(W8l);}return X8l;}};ValueRangeRender=function(){this.renderItem=new Array();};ValueRangeRender.prototype={AddRenderItem:function(Z8l){if(Z8l != undefined){this.renderItem.push(Z8l);}},GetRenderItem:function(a9l){if(this.renderItem.length < 0){return null;}return this.renderItem[0];},GetLegendImage:function(){if(this.renderItem.length < 0){return null;}var d9l=new Array();for(var c9l in this.renderItem){var b9l=new LegendItem();b9l.image=this.renderItem[c9l].GetLegendImage();b9l.thematictype="range";b9l.minvalue=this.renderItem[c9l].ThematicValue1;b9l.maxvalue=this.renderItem[c9l].ThematicValue2;d9l.push(b9l);}return d9l;}};VectorLayerInfo=function(e9l,f9l,g9l,h9l,i9l,j9l,k9l,l9l,m9l){this.Name=e9l;this.Visible=h9l;this.ThematicStyle=f9l;this.ThematicKey=g9l;this.Selectable=i9l;this.LabelVisible=j9l;this.TableName=k9l;this.MinLevel=l9l;this.MaxLevel=m9l;this.Renderer=undefined;};L.CMVLayer=L.Layer.extend({initialize:function(p9l,n9l){window.requestAFrame=(function(){return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || (function(q9l){return window.setTimeout(q9l,1000 / 60);;});})();window.cancelAFrame=(function(){return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || (function(r9l){window.clearTimeout(r9l);});})();if(!n9l.crs){var o9l=L.CRS.EPSG4326;o9l.scale=function(s9l){return n9l.tileSize * 9 * Math.pow(2,s9l);};n9l.crs=o9l;}if(n9l.taskinterval){this.taskinterval=n9l.taskinterval;}else {this.taskinterval=10;}this.url=p9l;this.options=n9l;this.context=null;this.LayerInfos=[];this.LayerNames=[];this.cmTiles=[];this.DisableObjList=[];this.isWebCacheUse_CMV=true;L.setOptions(this,n9l);return this;},setWebCacheUse:function(t9l){this.isWebCacheUse_CMV=t9l;},clearDisableObjList:function(){this.DisableObjList.length=0;},addDisableObjList:function(u9l){this.DisableObjList.push(u9l);},checkDisableObjStatus:function(w9l){for(var v9l=0;v9l < this.DisableObjList.length;v9l++){if(this.DisableObjList[v9l] == w9l)return true;}return false;},_getZoomForUrl:function(){var x9l=this.options,y9l=this._map.getZoom();if(x9l.zoomReverse){y9l=x9l.maxZoom - y9l;}if(x9l.zoomOffset){y9l+=x9l.zoomOffset;}return x9l.maxNativeZoom?Math.min(y9l,x9l.maxNativeZoom):y9l;},_getSubdomain:function(z9l){if(this.options.subdomains){var A9l=Math.abs(z9l.x + z9l.y) % this.options.subdomains.length;return this.options.subdomains[A9l];}else return "a";},_projectedTileSize:function(B9l){return this.options.tileSize / this.crs.scale(B9l);},canvas:function(){return this.mapcanvas;},_getTilePos:function(E9l){var C9l=this._map.getPixelOrigin(),D9l=this.getTileSize();return E9l.multiplyBy(D9l).subtract(C9l);},getTileSize:function(){var H9l=this._map,F9l=L.GridLayer.prototype.getTileSize.call(this),G9l=this._tileZoom;zoomN=this.options.maxNativeZoom;var I9l=zoomN !== null && G9l > zoomN?F9l.divideBy(H9l.getZoomScale(zoomN,G9l)).round():F9l;return I9l;},absPath:function(J9l){if(J9l.indexOf('http://') == 0 || J9l.indexOf('https://') == 0)return J9l;if(J9l.indexOf('file://') == 0)return J9l;var K9l=location.href;if(K9l.indexOf('http://') == 0 || K9l.indexOf('https://') == 0)return J9l;K9l=K9l.substring(0,K9l.lastIndexOf('/'));while((/^\.\./).test(J9l)){K9l=K9l.substring(0,K9l.lastIndexOf('/'));J9l=J9l.substring(3);}return K9l + '/' + J9l;},customcmv_setInfo:function(P9l,L9l,M9l){var N9l=typeof M9l !== 'undefined'?M9l:1;var O9l=typeof L9l !== 'undefined'?L9l:1;this._custom_cmv=true;this._url=P9l;this._row=N9l;this._col=O9l;},addtile:function(Q9l,T9l){var S9l=this._getTilePos(Q9l);var R9l=Q9l.x + ':' + Q9l.y + ':' + this._map._zoom;cmtile=new CmVectorTile();cmtile._Loaded=false;this.cmTiles.push(cmtile);cmtile.tileInfo.tileIndex=R9l;tileSize=this.options.tileSize;cmtile.tileInfo.src=this.absPath(this.getTileUrl(Q9l));cmtile.tileInfo.tileSize=tileSize;cmtile.tileInfo.zoom=this._map._zoom;cmtile._layer=this;cmtile.key=R9l;cmtile._layer=this;cmtile._tilePoint=Q9l;cmtile.LoadData(this);},addtile_customcmv:function(W9l,X9l){var V9l=W9l;var U9l=new CmVectorTile();U9l._Loaded=false;this.cmTiles.push(U9l);U9l.tileInfo.tileIndex=V9l;U9l.tileInfo._Custom=true;U9l.tileInfo.src=X9l;U9l.tileInfo.tileSize=0;U9l._layer=this;U9l.key=V9l;U9l.LoadData(this);},downloadState:function(){this.downloadcount=this.downloadcount - 1;if(this.downloadcount == 0){this.waitDownload=false;if(this.cmTiles.length > 0 && this.mapcanvas){this.waitParsing=true;this.waitRender=true;this.curindex=0;this.curTile=this.cmTiles[0];this.context.fillStyle="rgba(0, 0, 0, 0)";this.context.clearRect(0,0,this.mapcanvas.width,this.mapcanvas.height);this.texttree=new RTree();this.redraw();}}},_getTiledPixelBounds:function(e0m,b0m){var Y9l=this._map,c0m=Y9l._animatingZoom?Math.max(Y9l._animateToZoom,Y9l.getZoom()):Y9l.getZoom(),d0m=Y9l.getZoomScale(c0m,b0m),Z9l=Y9l.project(e0m,b0m).floor(),a0m=Y9l.getSize().divideBy(d0m * 2);return new L.Bounds(Z9l.subtract(a0m),Z9l.add(a0m));},_wrapCoords:function(f0m){var g0m=new L.Point(this._wrapX?L.Util.wrapNum(f0m.x,this._wrapX):f0m.x,this._wrapY?L.Util.wrapNum(f0m.y,this._wrapY):f0m.y);g0m.z=f0m.z;return g0m;},_tileCoordsToBounds:function(i0m){var h0m=this._map,j0m=this.getTileSize(),k0m=i0m.scaleBy(j0m),l0m=k0m.add(j0m),m0m=h0m.wrapLatLng(h0m.unproject(k0m,i0m.z)),n0m=h0m.wrapLatLng(h0m.unproject(l0m,i0m.z));return new L.LatLngBounds(m0m,n0m);},_pxBoundsToTileRange:function(p0m){var o0m=this.getTileSize();return new L.Bounds(p0m.min.unscaleBy(o0m).floor(),p0m.max.unscaleBy(o0m).ceil().subtract([1,1]));},downloadstart:function(){var v0m=this._map,t0m=v0m.getZoom(),B0m=this.getTileSize();if(t0m > this.options.maxZoom || t0m < this.options.minZoom){return;}var y0m=v0m.getCenter();var z0m=this._getTiledPixelBounds(y0m,t0m),r0m=this._pxBoundsToTileRange(z0m),w0m=r0m.getCenter();var s0m,q0m,C0m;queue=[];for(var s0m=r0m.min.y;s0m <= r0m.max.y;s0m++){for(var q0m=r0m.min.x;q0m <= r0m.max.x;q0m++){var A0m=new L.Point(q0m,s0m);queue.push(A0m);}}queue.sort(function(D0m,E0m){return D0m.distanceTo(w0m) - E0m.distanceTo(w0m);});var u0m;var x0m=0;this.cmTiles=[];for(q0m=0;q0m < queue.length;q0m++){u0m=this.getTileUrl(queue[q0m]);u0m=this.getRealPath(u0m);this.addtile(queue[q0m],u0m);x0m++;}this.downloadcount=x0m;},downloadstart_customcmv:function(){var H0m=this._map,I0m=H0m.getZoom(),O0m=this.getTileSize();if(I0m > this.options.maxZoom || I0m < this.options.minZoom){return;}var F0m=H0m.getBounds();var G0m={minX:F0m.getWest(),minY:F0m.getSouth(),maxX:F0m.getEast(),maxY:F0m.getNorth()};var L0m="&mbr=" + G0m.minX + "," + G0m.minY + "," + G0m.maxX + "," + G0m.maxY;var M0m="&col_div=" + this._col + "&row_div=" + this._row;var J0m=this._row * this._col;var N0m;for(k=0;k < this.cmTiles.length;k++){var K0m=this.cmTiles[k];if(K0m.tileInfo._Custom == true)K0m.abortDownload();}this.cmTiles=[];for(i=0;i < J0m;i++){N0m=this._url + L0m + M0m + "&tile_order=" + i;this.addtile_customcmv(i,N0m);}this.downloadcount=J0m;},redraw:function(){window.requestAFrame(this._redraw.bind(this));},_redraw:function(R0m){var Q0m;if(this.requetRender == true){do {var P0m=false;if(this.waitParsing == true){if(this.curindex >= this.cmTiles.length){this.waitParsing=false;}else {if(this.curTile){P0m=this.curTile.parseTask(this.context,this.textcontext);if(P0m == true){this.curindex++;if(this.curindex < this.cmTiles.length){this.curTile=this.cmTiles[this.curindex];if(this.curTile != null){;}}else {this.curTile=null;this.waitParsing=false;;}}}else {this.curindex++;if(this.curindex < this.cmTiles.length){this.curTile=this.cmTiles[this.curindex];if(this.curTile != null){}}else {this.curTile=null;this.waitParsing=false;}}}}else {if(this.waitRender == true){}this.waitRender=false;}Q0m=window.performance.now();}while(Q0m - R0m < this.taskinterval);if(this.waitParsing == true || this.waitRender == true){window.requestAFrame(this._redraw.bind(this));}}},onAdd:function(T0m){this._map=T0m;this.mapcanvas=document.createElement('canvas','leaflet-cmv-layer');this.mapcanvas.style.position="absolute";var U0m=this._map.getSize();this.mapcanvas.width=U0m.x;this.mapcanvas.height=U0m.y;this.context=this.mapcanvas.getContext("2d");var V0m=this._map.options.zoomAnimation && L.Browser.any3d;L.DomUtil.addClass(this.mapcanvas,'leaflet-zoom-' + (V0m?'animated':'hide'));if(this.options.pane){this.getPane().appendChild(this.mapcanvas);}else {T0m._panes.overlayPane.appendChild(this.mapcanvas);}this.hastextcanvas=false;this.textcanvas=null;var S0m=document.getElementById("leaflet-cmv-textcanvas" + "-" + this._map._container.id);if(!S0m){S0m=document.createElement("canvas");S0m.setAttribute("id","leaflet-cmv-textcanvas" + "-" + this._map._container.id);S0m.style.position="absolute";S0m.style.zIndex=9999;S0m.width=U0m.x;S0m.height=U0m.y;var W0m=T0m.createPane('cmvTextPane');W0m.appendChild(S0m);this.hastextcanvas=true;}this.textcanvas=S0m;this.textcontext=this.textcanvas.getContext("2d");if(T0m.options.zoomAnimation && L.Browser.any3d){T0m.on('zoomanim',this._animateZoom,this);}T0m.on('movestart',this._aborttask,this);T0m.on('zoomstart',this._aborttask,this);T0m.on('moveend',this._reset,this);T0m.on('resize',this._resize,this);this._reset();},_aborttask:function(){if(this.hastextcanvas){this.textcontext.clearRect(0,0,this.textcanvas.width,this.textcanvas.height);}},_clearcanvas:function(){this.context.clearRect(0,0,this.mapcanvas.width,this.mapcanvas.height);if(this.hastextcanvas){this.textcontext.clearRect(0,0,this.textcanvas.width,this.textcanvas.height);}},onRemove:function(X0m){X0m.getPanes().overlayPane.removeChild(this.mapcanvas);if(this.hastextcanvas)X0m.getPanes().cmvTextPane.removeChild(this.textcanvas);X0m.off('moveend',this._reset,this);X0m.off('resize',this._resize,this);if(X0m.options.zoomAnimation){X0m.off('zoomanim',this._animateZoom,this);}this.hastextcanvas=false;this.textcanvas=null;this.mapcanvas=null;},addTo:function(Y0m){Y0m.addLayer(this);return this;},_resize:function(Z0m){this.mapcanvas.width=Z0m.newSize.x;this.mapcanvas.height=Z0m.newSize.y;if(this.hastextcanvas){this.textcanvas.width=Z0m.newSize.x;this.textcanvas.height=Z0m.newSize.y;}},refresh:function(){this._reset();},_reset:function(){this._clearcanvas();this._resetGrid();var a1m=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this.mapcanvas,a1m);if(this.hastextcanvas){L.DomUtil.setPosition(this.textcanvas,a1m);}this.requetRender=true;this.waitDownload=true;this.waitParsing=true;this.waitRender=true;if(this._custom_cmv == true)this.downloadstart_customcmv();else this.downloadstart();},getRealPath:function(b1m){var c1m=b1m;if(b1m.indexOf("/.") == 0){var d1m=window.location.href;c1m=b1m.replace("./",d1m);}return c1m;},getTileUrl:function(e1m){var f1m={r:L.Browser.retina?'@2x':'',s:this._getSubdomain(e1m),x:e1m.x,y:e1m.y,z:this._getZoomForUrl()};if(this._map && !this._map.options.crs.infinite){var g1m=this._globalTileRange.max.y - e1m.y;if(this.options.tms){f1m['y']=g1m;}f1m['-y']=g1m;}return L.Util.template(this.url,L.extend(f1m,this.options));},addLayerInfo:function(h1m,i1m){this.LayerInfos[h1m]=i1m;this.LayerNames[i1m.Name]=h1m;},SetLayerInfo:function(k1m,j1m,l1m,m1m){d3.csv(k1m,function(v1m,o1m){var u1m={},w1m,x1m;var s1m=o1m.length;for(var n1m=0;n1m < s1m;n1m++){var t1m=new RendererItem(o1m[n1m]);var p1m=j1m.LayerInfos[o1m[n1m].LayerID];if(p1m == undefined){var q1m;var r1m;if(o1m[n1m].MinLevel){q1m=o1m[n1m].MinLevel;}else {q1m=j1m.options.minZoom;}if(o1m[n1m].MaxLevel){r1m=o1m[n1m].MaxLevel;}else {r1m=j1m.options.maxZoom;}p1m=new VectorLayerInfo(o1m[n1m].LayerName,o1m[n1m].ThematicStyle,o1m[n1m].ThematicKey,false,false,false,o1m[n1m].TableName,q1m,r1m);j1m.addLayerInfo(o1m[n1m].LayerID,p1m);}if(p1m.Renderer == undefined){if(o1m[n1m].ThematicStyle == "none"){renderer=new SimpleRenderer();}else if(o1m[n1m].ThematicStyle == "range"){renderer=new ValueRangeRender();}else if(o1m[n1m].ThematicStyle == "unique"){renderer=new UniqueValueRenderer();}p1m.Renderer=renderer;}p1m.Renderer.AddRenderItem(t1m);}m1m(j1m,l1m);});},_resetGrid:function(){var y1m=this._map;this._tileZoom=Math.round(y1m.getZoom());var y1m=this._map,z1m=y1m.options.crs,A1m=this._tileSize=this.getTileSize(),B1m=this._tileZoom;var C1m=this._map.getPixelWorldBounds(this._tileZoom);if(C1m){this._globalTileRange=this._pxBoundsToTileRange(C1m);}this._wrapX=z1m.wrapLng && !this.options.noWrap && [Math.floor(y1m.project([0,z1m.wrapLng[0]],B1m).x / A1m.x),Math.ceil(y1m.project([0,z1m.wrapLng[1]],B1m).x / A1m.y)];this._wrapY=z1m.wrapLat && !this.options.noWrap && [Math.floor(y1m.project([z1m.wrapLat[0],0],B1m).y / A1m.x),Math.ceil(y1m.project([z1m.wrapLat[1],0],B1m).y / A1m.y)];},_animateZoom:function(D1m){var E1m=this._map.getZoomScale(D1m.zoom),F1m=this._map._getCenterOffset(D1m.center)._multiplyBy(E1m).subtract(this._map._getNewPixelOrigin(D1m.center,D1m.zoom)).round();if(L.Browser.any3d){L.DomUtil.setTransform(this.mapcanvas,F1m,E1m);}else {L.DomUtil.setPosition(this.mapcanvas,F1m);}}});L.cmvLayer=function(G1m,H1m){return new L.CMVLayer(G1m,H1m);};!(function(J1m){if("object" == typeof exports)module.exports=J1m();else if("function" == typeof define && define.amd)define(J1m);else {var I1m;("undefined" != typeof window?I1m=window:"undefined" != typeof global?I1m=global:"undefined" != typeof self && (I1m=self),I1m.proj4=J1m());}})(function(){var K1m,L1m,M1m;return (function N1m(O1m,P1m,R1m){function S1m(U1m,X1m){if(!P1m[U1m]){if(!O1m[U1m]){var W1m=typeof require == "function" && require;if(!X1m && W1m)return W1m(U1m,!0);if(T1m)return T1m(U1m,!0);throw new Error("Cannot find module '" + U1m + "'");}var V1m=P1m[U1m]={exports:{}};O1m[U1m][0].call(V1m.exports,function(Z1m){var Y1m=O1m[U1m][1][Z1m];return S1m(Y1m?Y1m:Z1m);},V1m,V1m.exports,N1m,O1m,P1m,R1m);}return P1m[U1m].exports;}var T1m=typeof require == "function" && require;for(var Q1m=0;Q1m < R1m.length;Q1m++){S1m(R1m[Q1m]);}return S1m;})({1:[function(c2m,d2m,e2m){var b2m=c2m('mgrs');function a2m(f2m,h2m,i2m){if(!(this instanceof a2m)){return new a2m(f2m,h2m,i2m);}if(Array.isArray(f2m)){this.x=f2m[0];this.y=f2m[1];this.z=f2m[2] || 0.0;}else if(typeof f2m === 'object'){this.x=f2m.x;this.y=f2m.y;this.z=f2m.z || 0.0;}else if(typeof f2m === 'string' && typeof h2m === 'undefined'){var g2m=f2m.split(',');this.x=parseFloat(g2m[0],10);this.y=parseFloat(g2m[1],10);this.z=parseFloat(g2m[2],10) || 0.0;}else {this.x=f2m;this.y=h2m;this.z=i2m || 0.0;}console.warn('proj4.Point will be removed in version 3, use proj4.toPoint');}a2m.fromMGRS=function(j2m){return new a2m(b2m.toPoint(j2m));};a2m.prototype.toMGRS=function(k2m){return b2m.forward([this.x,this.y],k2m);};d2m.exports=a2m;},{"mgrs":67}],2:[function(m2m,r2m,s2m){var o2m=m2m("./parseCode");var n2m=m2m('./extend');var p2m=m2m('./projections');var q2m=m2m('./deriveConstants');function l2m(u2m,t2m){if(!(this instanceof l2m)){return new l2m(u2m);}t2m=t2m || (function(y2m){if(y2m){throw y2m;}});var v2m=o2m(u2m);if(typeof v2m !== 'object'){t2m(u2m);return;}var w2m=q2m(v2m);var x2m=l2m.projections.get(w2m.projName);if(x2m){n2m(this,w2m);n2m(this,x2m);this.init();t2m(null,this);}else {t2m(u2m);}}l2m.projections=p2m;l2m.projections.start();r2m.exports=l2m;},{"./deriveConstants":33,"./extend":34,"./parseCode":37,"./projections":39}],3:[function(A2m,z2m,B2m){z2m.exports=function(J2m,K2m,C2m){var G2m=C2m.x,H2m=C2m.y,I2m=C2m.z || 0.0;var D2m,E2m,F2m;for(F2m=0;F2m < 3;F2m++){if(K2m && F2m === 2 && C2m.z === undefined){continue;}if(F2m === 0){D2m=G2m;E2m='x';}else if(F2m === 1){D2m=H2m;E2m='y';}else {D2m=I2m;E2m='z';}switch(J2m.axis[F2m]){case 'e':C2m[E2m]=D2m;break;case 'w':C2m[E2m]=-D2m;break;case 'n':C2m[E2m]=D2m;break;case 's':C2m[E2m]=-D2m;break;case 'u':if(C2m[E2m] !== undefined){C2m.z=D2m;}break;case 'd':if(C2m[E2m] !== undefined){C2m.z=-D2m;}break;default:return null;}}return C2m;};},{}],4:[function(N2m,O2m,P2m){var L2m=Math.PI / 2;var M2m=N2m('./sign');O2m.exports=function(Q2m){return Math.abs(Q2m) < L2m?Q2m:Q2m - M2m(Q2m) * Math.PI;};},{"./sign":21}],5:[function(U2m,V2m,W2m){var R2m=Math.PI * 2;var S2m=3.14159265359;var T2m=U2m('./sign');V2m.exports=function(X2m){return Math.abs(X2m) <= S2m?X2m:X2m - T2m(X2m) * R2m;};},{"./sign":21}],6:[function(Z2m,Y2m,a3m){Y2m.exports=function(b3m){if(Math.abs(b3m) > 1){b3m=b3m > 1?1:-1;}return Math.asin(b3m);};},{}],7:[function(d3m,c3m,e3m){c3m.exports=function(f3m){return 1 - 0.25 * f3m * (1 + f3m / 16 * (3 + 1.25 * f3m));};},{}],8:[function(h3m,g3m,i3m){g3m.exports=function(j3m){return 0.375 * j3m * (1 + 0.25 * j3m * (1 + 0.46875 * j3m));};},{}],9:[function(l3m,k3m,m3m){k3m.exports=function(n3m){return 0.05859375 * n3m * n3m * (1 + 0.75 * n3m);};},{}],10:[function(p3m,o3m,q3m){o3m.exports=function(r3m){return r3m * r3m * r3m * (35 / 3072);};},{}],11:[function(t3m,s3m,u3m){s3m.exports=function(w3m,x3m,y3m){var v3m=x3m * y3m;return w3m / Math.sqrt(1 - v3m * v3m);};},{}],12:[function(A3m,z3m,B3m){z3m.exports=function(G3m,D3m,H3m,I3m,J3m){var C3m;var E3m;C3m=G3m / D3m;for(var F3m=0;F3m < 15;F3m++){E3m=(G3m - (D3m * C3m - H3m * Math.sin(2 * C3m) + I3m * Math.sin(4 * C3m) - J3m * Math.sin(6 * C3m))) / (D3m - 2 * H3m * Math.cos(2 * C3m) + 4 * I3m * Math.cos(4 * C3m) - 6 * J3m * Math.cos(6 * C3m));C3m+=E3m;if(Math.abs(E3m) <= 0.0000000001){return C3m;}}return NaN;};},{}],13:[function(M3m,L3m,N3m){var K3m=Math.PI / 2;L3m.exports=function(O3m,R3m){var V3m=1 - (1 - O3m * O3m) / (2 * O3m) * Math.log((1 - O3m) / (1 + O3m));if(Math.abs(Math.abs(R3m) - V3m) < 1.0E-6){if(R3m < 0){return -1 * K3m;}else {return K3m;}}var Q3m=Math.asin(0.5 * R3m);var S3m;var T3m;var W3m;var P3m;for(var U3m=0;U3m < 30;U3m++){T3m=Math.sin(Q3m);W3m=Math.cos(Q3m);P3m=O3m * T3m;S3m=Math.pow(1 - P3m * P3m,2) / (2 * W3m) * (R3m / (1 - O3m * O3m) - T3m / (1 - P3m * P3m) + 0.5 / O3m * Math.log((1 - P3m) / (1 + P3m)));Q3m+=S3m;if(Math.abs(S3m) <= 0.0000000001){return Q3m;}}return NaN;};},{}],14:[function(Y3m,X3m,Z3m){X3m.exports=function(b4m,c4m,d4m,e4m,a4m){return b4m * a4m - c4m * Math.sin(2 * a4m) + d4m * Math.sin(4 * a4m) - e4m * Math.sin(6 * a4m);};},{}],15:[function(g4m,f4m,h4m){f4m.exports=function(j4m,k4m,l4m){var i4m=j4m * k4m;return l4m / Math.sqrt(1 - i4m * i4m);};},{}],16:[function(o4m,n4m,p4m){var m4m=Math.PI / 2;n4m.exports=function(u4m,v4m){var w4m=0.5 * u4m;var r4m,s4m;var q4m=m4m - 2 * Math.atan(v4m);for(var t4m=0;t4m <= 15;t4m++){r4m=u4m * Math.sin(q4m);s4m=m4m - 2 * Math.atan(v4m * Math.pow((1 - r4m) / (1 + r4m),w4m)) - q4m;q4m+=s4m;if(Math.abs(s4m) <= 0.0000000001){return q4m;}}return -9999;};},{}],17:[function(K4m,J4m,L4m){var A4m=1;var B4m=0.25;var x4m=0.046875;var y4m=0.01953125;var z4m=0.01068115234375;var C4m=0.75;var D4m=0.46875;var E4m=0.01302083333333333333;var F4m=0.00712076822916666666;var G4m=0.36458333333333333333;var H4m=0.00569661458333333333;var I4m=0.3076171875;J4m.exports=function(M4m){var N4m=[];N4m[0]=A4m - M4m * (B4m + M4m * (x4m + M4m * (y4m + M4m * z4m)));N4m[1]=M4m * (C4m - M4m * (x4m + M4m * (y4m + M4m * z4m)));var O4m=M4m * M4m;N4m[2]=O4m * (D4m - M4m * (E4m + M4m * F4m));O4m*=M4m;N4m[3]=O4m * (G4m - M4m * H4m);N4m[4]=O4m * M4m * I4m;return N4m;};},{}],18:[function(S4m,T4m,U4m){var P4m=S4m("./pj_mlfn");var Q4m=1.0e-10;var R4m=20;T4m.exports=function(Z4m,a5m,c5m){var b5m=1 / (1 - a5m);var V4m=Z4m;for(var Y4m=R4m;Y4m;--Y4m){var X4m=Math.sin(V4m);var W4m=1 - a5m * X4m * X4m;W4m=(P4m(V4m,X4m,Math.cos(V4m),c5m) - Z4m) * (W4m * Math.sqrt(W4m)) * b5m;V4m-=W4m;if(Math.abs(W4m) < Q4m){return V4m;}}return V4m;};},{"./pj_mlfn":19}],19:[function(e5m,d5m,f5m){d5m.exports=function(j5m,g5m,i5m,h5m){i5m*=g5m;g5m*=g5m;return h5m[0] * j5m - i5m * (h5m[1] + g5m * (h5m[2] + g5m * (h5m[3] + g5m * h5m[4])));};},{}],20:[function(l5m,k5m,m5m){k5m.exports=function(n5m,p5m){var o5m;if(n5m > 1.0e-7){o5m=n5m * p5m;return (1 - n5m * n5m) * (p5m / (1 - o5m * o5m) - 0.5 / n5m * Math.log((1 - o5m) / (1 + o5m)));}else {return 2 * p5m;}};},{}],21:[function(r5m,q5m,s5m){q5m.exports=function(t5m){return t5m < 0?-1:1;};},{}],22:[function(v5m,u5m,w5m){u5m.exports=function(x5m,y5m){return Math.pow((1 - x5m) / (1 + x5m),y5m);};},{}],23:[function(A5m,z5m,B5m){z5m.exports=function(C5m){var D5m={x:C5m[0],y:C5m[1]};if(C5m.length > 2){D5m.z=C5m[2];}if(C5m.length > 3){D5m.m=C5m[3];}return D5m;};},{}],24:[function(G5m,F5m,H5m){var E5m=Math.PI / 2;F5m.exports=function(J5m,L5m,M5m){var I5m=J5m * M5m;var K5m=0.5 * J5m;I5m=Math.pow((1 - I5m) / (1 + I5m),K5m);return Math.tan(0.5 * (E5m - L5m)) / I5m;};},{}],25:[function(O5m,P5m,N5m){N5m.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};N5m.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};N5m.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};N5m.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};N5m.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};N5m.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};N5m.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};N5m.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"};N5m.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};N5m.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};N5m.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};N5m.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};N5m.s_jtsk={towgs84:"589,76,480",ellipse:'bessel',datumName:'S-JTSK (Ferro)'};N5m.beduaram={towgs84:'-106,-87,188',ellipse:'clrk80',datumName:'Beduaram'};N5m.gunung_segara={towgs84:'-403,684,41',ellipse:'bessel',datumName:'Gunung Segara Jakarta'};N5m.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};},{}],26:[function(R5m,S5m,Q5m){Q5m.MERIT={a:6378137.0,rf:298.257,ellipseName:"MERIT 1983"};Q5m.SGS85={a:6378136.0,rf:298.257,ellipseName:"Soviet Geodetic System 85"};Q5m.GRS80={a:6378137.0,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};Q5m.IAU76={a:6378140.0,rf:298.257,ellipseName:"IAU 1976"};Q5m.airy={a:6377563.396,b:6356256.910,ellipseName:"Airy 1830"};Q5m.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};Q5m.NWL9D={a:6378145.0,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};Q5m.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"};Q5m.andrae={a:6377104.43,rf:300.0,ellipseName:"Andrae 1876 (Den., Iclnd.)"};Q5m.aust_SA={a:6378160.0,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};Q5m.GRS67={a:6378160.0,rf:298.2471674270,ellipseName:"GRS 67(IUGG 1967)"};Q5m.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"};Q5m.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};Q5m.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"};Q5m.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."};Q5m.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"};Q5m.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};Q5m.delmbr={a:6376428.0,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};Q5m.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"};Q5m.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"};Q5m.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"};Q5m.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"};Q5m.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"};Q5m.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};Q5m.fschr60={a:6378166.0,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};Q5m.fschr60m={a:6378155.0,rf:298.3,ellipseName:"Fischer 1960"};Q5m.fschr68={a:6378150.0,rf:298.3,ellipseName:"Fischer 1968"};Q5m.helmert={a:6378200.0,rf:298.3,ellipseName:"Helmert 1906"};Q5m.hough={a:6378270.0,rf:297.0,ellipseName:"Hough"};Q5m.intl={a:6378388.0,rf:297.0,ellipseName:"International 1909 (Hayford)"};Q5m.kaula={a:6378163.0,rf:298.24,ellipseName:"Kaula 1961"};Q5m.lerch={a:6378139.0,rf:298.257,ellipseName:"Lerch 1979"};Q5m.mprts={a:6397300.0,rf:191.0,ellipseName:"Maupertius 1738"};Q5m.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"};Q5m.plessis={a:6376523.0,rf:6355863.0,ellipseName:"Plessis 1817 (France)"};Q5m.krass={a:6378245.0,rf:298.3,ellipseName:"Krassovsky, 1942"};Q5m.SEasia={a:6378155.0,b:6356773.3205,ellipseName:"Southeast Asia"};Q5m.walbeck={a:6376896.0,b:6355834.8467,ellipseName:"Walbeck"};Q5m.WGS60={a:6378165.0,rf:298.3,ellipseName:"WGS 60"};Q5m.WGS66={a:6378145.0,rf:298.25,ellipseName:"WGS 66"};Q5m.WGS7={a:6378135.0,rf:298.26,ellipseName:"WGS 72"};Q5m.WGS84={a:6378137.0,rf:298.257223563,ellipseName:"WGS 84"};Q5m.sphere={a:6370997.0,b:6370997.0,ellipseName:"Normal Sphere (r=6370997)"};},{}],27:[function(U5m,V5m,T5m){T5m.greenwich=0.0;T5m.lisbon=-9.131906111111;T5m.paris=2.337229166667;T5m.bogota=-74.080916666667;T5m.madrid=-3.687938888889;T5m.rome=12.452333333333;T5m.bern=7.439583333333;T5m.jakarta=106.807719444444;T5m.ferro=-17.666666666667;T5m.brussels=4.367975;T5m.stockholm=18.058277777778;T5m.athens=23.7163375;T5m.oslo=10.722916666667;;},{}],28:[function(X5m,Y5m,W5m){W5m.ft={to_meter:0.3048};W5m['us-ft']={to_meter:1200 / 3937};},{}],29:[function(d6m,f6m,h6m){var Z5m=d6m('./Proj');var a6m=d6m('./transform');var b6m=Z5m('WGS84');function c6m(k6m,l6m,j6m){var i6m;if(Array.isArray(j6m)){i6m=a6m(k6m,l6m,j6m);if(j6m.length === 3){return [i6m.x,i6m.y,i6m.z];}else {return [i6m.x,i6m.y];}}else {return a6m(k6m,l6m,j6m);}}function e6m(m6m){if(m6m instanceof Z5m){return m6m;}if(m6m.oProj){return m6m.oProj;}return Z5m(m6m);}function g6m(o6m,n6m,q6m){o6m=e6m(o6m);var p6m=false;var r6m;if(typeof n6m === 'undefined'){n6m=o6m;o6m=b6m;p6m=true;}else if(typeof n6m.x !== 'undefined' || Array.isArray(n6m)){q6m=n6m;n6m=o6m;o6m=b6m;p6m=true;}n6m=e6m(n6m);if(q6m){return c6m(o6m,n6m,q6m);}else {r6m={forward:function(s6m){return c6m(o6m,n6m,s6m);},inverse:function(t6m){return c6m(n6m,o6m,t6m);}};if(p6m){r6m.oProj=n6m;}return r6m;}}f6m.exports=g6m;},{"./Proj":2,"./transform":65}],30:[function(F6m,E6m,G6m){var u6m=Math.PI / 2;var v6m=1;var w6m=2;var x6m=3;var B6m=4;var C6m=5;var z6m=4.84813681109535993589914102357e-6;var D6m=1.0026000;var A6m=0.38268343236508977;var y6m=function(H6m){if(!(this instanceof y6m)){return new y6m(H6m);}this.datum_type=B6m;if(!H6m){return;}if(H6m.datumCode && H6m.datumCode === 'none'){this.datum_type=C6m;}if(H6m.datum_params){this.datum_params=H6m.datum_params.map(parseFloat);if(this.datum_params[0] !== 0 || this.datum_params[1] !== 0 || this.datum_params[2] !== 0){this.datum_type=v6m;}if(this.datum_params.length > 3){if(this.datum_params[3] !== 0 || this.datum_params[4] !== 0 || this.datum_params[5] !== 0 || this.datum_params[6] !== 0){this.datum_type=w6m;this.datum_params[3]*=z6m;this.datum_params[4]*=z6m;this.datum_params[5]*=z6m;this.datum_params[6]=this.datum_params[6] / 1000000.0 + 1.0;}}}this.datum_type=H6m.grids?x6m:this.datum_type;this.a=H6m.a;this.b=H6m.b;this.es=H6m.es;this.ep2=H6m.ep2;if(this.datum_type === x6m){this.grids=H6m.grids;}};y6m.prototype={compare_datums:function(I6m){if(this.datum_type !== I6m.datum_type){return false;;}else if(this.a !== I6m.a || Math.abs(this.es - I6m.es) > 0.000000000050){return false;}else if(this.datum_type === v6m){return this.datum_params[0] === I6m.datum_params[0] && this.datum_params[1] === I6m.datum_params[1] && this.datum_params[2] === I6m.datum_params[2];}else if(this.datum_type === w6m){return this.datum_params[0] === I6m.datum_params[0] && this.datum_params[1] === I6m.datum_params[1] && this.datum_params[2] === I6m.datum_params[2] && this.datum_params[3] === I6m.datum_params[3] && this.datum_params[4] === I6m.datum_params[4] && this.datum_params[5] === I6m.datum_params[5] && this.datum_params[6] === I6m.datum_params[6];}else if(this.datum_type === x6m || I6m.datum_type === x6m){return this.nadgrids === I6m.nadgrids;}else {return true;;}},geodetic_to_geocentric:function(K6m){var L6m=K6m.x;var J6m=K6m.y;var M6m=K6m.z?K6m.z:0;var Q6m;var R6m;var S6m;var T6m=0;var N6m;var O6m;var U6m;var P6m;if(J6m < -u6m && J6m > -1.001 * u6m){J6m=-u6m;}else if(J6m > u6m && J6m < 1.001 * u6m){J6m=u6m;}else if(J6m < -u6m || J6m > u6m){return null;}if(L6m > Math.PI){L6m-=2 * Math.PI;}O6m=Math.sin(J6m);P6m=Math.cos(J6m);U6m=O6m * O6m;N6m=this.a / Math.sqrt(1.0e0 - this.es * U6m);Q6m=(N6m + M6m) * P6m * Math.cos(L6m);R6m=(N6m + M6m) * P6m * Math.sin(L6m);S6m=(N6m * (1 - this.es) + M6m) * O6m;K6m.x=Q6m;K6m.y=R6m;K6m.z=S6m;return T6m;},geocentric_to_geodetic:function(V6m){var b7m=1e-12;var q7m=b7m * b7m;var r7m=30;var d7m;var e7m;var l7m;var X6m;var Y6m;var f7m;var g7m;var h7m;var W6m;var i7m;var j7m;var m7m;var s7m;var n7m;var Z6m=V6m.x;var a7m=V6m.y;var c7m=V6m.z?V6m.z:0.0;var o7m;var p7m;var k7m;s7m=false;d7m=Math.sqrt(Z6m * Z6m + a7m * a7m);e7m=Math.sqrt(Z6m * Z6m + a7m * a7m + c7m * c7m);if(d7m / this.a < b7m){s7m=true;o7m=0.0;if(e7m / this.a < b7m){p7m=u6m;k7m=-this.b;return;}}else {o7m=Math.atan2(a7m,Z6m);}l7m=c7m / e7m;X6m=d7m / e7m;Y6m=1.0 / Math.sqrt(1.0 - this.es * (2.0 - this.es) * X6m * X6m);h7m=X6m * (1.0 - this.es) * Y6m;W6m=l7m * Y6m;n7m=0;do {n7m++;g7m=this.a / Math.sqrt(1.0 - this.es * W6m * W6m);k7m=d7m * h7m + c7m * W6m - g7m * (1.0 - this.es * W6m * W6m);f7m=this.es * g7m / (g7m + k7m);Y6m=1.0 / Math.sqrt(1.0 - f7m * (2.0 - f7m) * X6m * X6m);i7m=X6m * (1.0 - f7m) * Y6m;j7m=l7m * Y6m;m7m=j7m * h7m - i7m * W6m;h7m=i7m;W6m=j7m;}while(m7m * m7m > q7m && n7m < r7m);p7m=Math.atan(j7m / Math.abs(i7m));V6m.x=o7m;V6m.y=p7m;V6m.z=k7m;return V6m;},geocentric_to_geodetic_noniter:function(t7m){var w7m=t7m.x;var u7m=t7m.y;var v7m=t7m.z?t7m.z:0;var y7m;var z7m;var A7m;var B7m;var J7m;var D7m;var E7m;var K7m;var L7m;var F7m;var N7m;var G7m;var C7m;var x7m;var H7m;var I7m;var M7m;w7m=parseFloat(w7m);u7m=parseFloat(u7m);v7m=parseFloat(v7m);M7m=false;if(w7m !== 0.0){y7m=Math.atan2(u7m,w7m);}else {if(u7m > 0){y7m=u6m;}else if(u7m < 0){y7m=-u6m;}else {M7m=true;y7m=0.0;if(v7m > 0.0){z7m=u6m;}else if(v7m < 0.0){z7m=-u6m;}else {z7m=u6m;A7m=-this.b;return;}}}J7m=w7m * w7m + u7m * u7m;B7m=Math.sqrt(J7m);D7m=v7m * D6m;K7m=Math.sqrt(D7m * D7m + J7m);F7m=D7m / K7m;G7m=B7m / K7m;N7m=F7m * F7m * F7m;E7m=v7m + this.b * this.ep2 * N7m;I7m=B7m - this.a * this.es * G7m * G7m * G7m;L7m=Math.sqrt(E7m * E7m + I7m * I7m);C7m=E7m / L7m;x7m=I7m / L7m;H7m=this.a / Math.sqrt(1.0 - this.es * C7m * C7m);if(x7m >= A6m){A7m=B7m / x7m - H7m;}else if(x7m <= -A6m){A7m=B7m / -x7m - H7m;}else {A7m=v7m / C7m + H7m * (this.es - 1.0);}if(M7m === false){z7m=Math.atan(C7m / x7m);}t7m.x=y7m;t7m.y=z7m;t7m.z=A7m;return t7m;},geocentric_to_wgs84:function(O7m){if(this.datum_type === v6m){O7m.x+=this.datum_params[0];O7m.y+=this.datum_params[1];O7m.z+=this.datum_params[2];}else if(this.datum_type === w6m){var T7m=this.datum_params[0];var U7m=this.datum_params[1];var V7m=this.datum_params[2];var Q7m=this.datum_params[3];var R7m=this.datum_params[4];var S7m=this.datum_params[5];var P7m=this.datum_params[6];var W7m=P7m * (O7m.x - S7m * O7m.y + R7m * O7m.z) + T7m;var X7m=P7m * (S7m * O7m.x + O7m.y - Q7m * O7m.z) + U7m;var Y7m=P7m * (-R7m * O7m.x + Q7m * O7m.y + O7m.z) + V7m;O7m.x=W7m;O7m.y=X7m;O7m.z=Y7m;}},geocentric_from_wgs84:function(Z7m){if(this.datum_type === v6m){Z7m.x-=this.datum_params[0];Z7m.y-=this.datum_params[1];Z7m.z-=this.datum_params[2];}else if(this.datum_type === w6m){var h8m=this.datum_params[0];var i8m=this.datum_params[1];var j8m=this.datum_params[2];var e8m=this.datum_params[3];var f8m=this.datum_params[4];var g8m=this.datum_params[5];var a8m=this.datum_params[6];var b8m=(Z7m.x - h8m) / a8m;var c8m=(Z7m.y - i8m) / a8m;var d8m=(Z7m.z - j8m) / a8m;Z7m.x=b8m + g8m * c8m - f8m * d8m;Z7m.y=-g8m * b8m + c8m + e8m * d8m;Z7m.z=f8m * b8m - e8m * c8m + d8m;};}};E6m.exports=y6m;},{}],31:[function(r8m,q8m,s8m){var l8m=1;var m8m=2;var k8m=3;var n8m=5;var o8m=6378137;var p8m=0.006694379990141316;q8m.exports=function(t8m,u8m,v8m){var A8m,x8m,B8m;function y8m(F8m){return F8m === l8m || F8m === m8m;}if(t8m.compare_datums(u8m)){return v8m;;}if(t8m.datum_type === n8m || u8m.datum_type === n8m){return v8m;}var z8m=t8m.a;var C8m=t8m.es;var D8m=u8m.a;var E8m=u8m.es;var w8m=t8m.datum_type;if(w8m === k8m){if(this.apply_gridshift(t8m,0,v8m) === 0){t8m.a=o8m;t8m.es=p8m;}else {if(!t8m.datum_params){t8m.a=z8m;t8m.es=t8m.es;return v8m;}A8m=1;for((x8m=0,B8m=t8m.datum_params.length);x8m < B8m;x8m++){A8m*=t8m.datum_params[x8m];}if(A8m === 0){t8m.a=z8m;t8m.es=t8m.es;return v8m;}if(t8m.datum_params.length > 3){w8m=m8m;}else {w8m=l8m;}}}if(u8m.datum_type === k8m){u8m.a=o8m;u8m.es=p8m;}if(t8m.es !== u8m.es || t8m.a !== u8m.a || y8m(w8m) || y8m(u8m.datum_type)){t8m.geodetic_to_geocentric(v8m);if(y8m(t8m.datum_type)){t8m.geocentric_to_wgs84(v8m);;}if(y8m(u8m.datum_type)){u8m.geocentric_from_wgs84(v8m);;}u8m.geocentric_to_geodetic(v8m);;}if(u8m.datum_type === k8m){this.apply_gridshift(u8m,1,v8m);;}t8m.a=z8m;t8m.es=C8m;u8m.a=D8m;u8m.es=E8m;return v8m;};},{}],32:[function(H8m,L8m,M8m){var I8m=H8m('./global');var J8m=H8m('./projString');var K8m=H8m('./wkt');function G8m(N8m){var P8m=this;if(arguments.length === 2){var O8m=arguments[1];if(typeof O8m === 'string'){if(O8m.charAt(0) === '+'){G8m[N8m]=J8m(arguments[1]);}else {G8m[N8m]=K8m(arguments[1]);}}else {G8m[N8m]=O8m;}}else if(arguments.length === 1){if(Array.isArray(N8m)){return N8m.map(function(Q8m){if(Array.isArray(Q8m)){G8m.apply(P8m,Q8m);}else {G8m(Q8m);}});}else if(typeof N8m === 'string'){if((N8m in G8m)){return G8m[N8m];}}else if(('EPSG' in N8m)){G8m['EPSG:' + N8m.EPSG]=N8m;}else if(('ESRI' in N8m)){G8m['ESRI:' + N8m.ESRI]=N8m;}else if(('IAU2000' in N8m)){G8m['IAU2000:' + N8m.IAU2000]=N8m;}else {console.log(N8m);}return;}}I8m(G8m);L8m.exports=G8m;},{"./global":35,"./projString":38,"./wkt":66}],33:[function(R8m,a9m,b9m){var T8m=R8m('./constants/Datum');var S8m=R8m('./constants/Ellipsoid');var U8m=R8m('./extend');var V8m=R8m('./datum');var W8m=1.0e-10;var X8m=0.1666666666666666667;var Y8m=0.04722222222222222222;var Z8m=0.02215608465608465608;a9m.exports=function(c9m){if(c9m.datumCode && c9m.datumCode !== 'none'){var d9m=T8m[c9m.datumCode];if(d9m){c9m.datum_params=d9m.towgs84?d9m.towgs84.split(','):null;c9m.ellps=d9m.ellipse;c9m.datumName=d9m.datumName?d9m.datumName:c9m.datumCode;}}if(!c9m.a){var e9m=S8m[c9m.ellps]?S8m[c9m.ellps]:S8m.WGS84;U8m(c9m,e9m);}if(c9m.rf && !c9m.b){c9m.b=(1.0 - 1.0 / c9m.rf) * c9m.a;}if(c9m.rf === 0 || Math.abs(c9m.a - c9m.b) < W8m){c9m.sphere=true;c9m.b=c9m.a;}c9m.a2=c9m.a * c9m.a;c9m.b2=c9m.b * c9m.b;c9m.es=(c9m.a2 - c9m.b2) / c9m.a2;c9m.e=Math.sqrt(c9m.es);if(c9m.R_A){c9m.a*=1 - c9m.es * (X8m + c9m.es * (Y8m + c9m.es * Z8m));c9m.a2=c9m.a * c9m.a;c9m.b2=c9m.b * c9m.b;c9m.es=0;}c9m.ep2=(c9m.a2 - c9m.b2) / c9m.b2;if(!c9m.k0){c9m.k0=1.0;;}if(!c9m.axis){c9m.axis="enu";}if(!c9m.datum){c9m.datum=V8m(c9m);}return c9m;};},{"./constants/Datum":25,"./constants/Ellipsoid":26,"./datum":30,"./extend":34}],34:[function(g9m,f9m,h9m){f9m.exports=function(i9m,j9m){i9m=i9m || ({});var k9m,l9m;if(!j9m){return i9m;}for(l9m in j9m){k9m=j9m[l9m];if(k9m !== undefined){i9m[l9m]=k9m;}}return i9m;};},{}],35:[function(n9m,m9m,o9m){m9m.exports=function(p9m){p9m('EPSG:4326',"+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees");p9m('EPSG:4269',"+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees");p9m('EPSG:3857',"+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");p9m.WGS84=p9m['EPSG:4326'];p9m['EPSG:3785']=p9m['EPSG:3857'];p9m.GOOGLE=p9m['EPSG:3857'];p9m['EPSG:900913']=p9m['EPSG:3857'];p9m['EPSG:102113']=p9m['EPSG:3857'];};},{}],36:[function(r9m,s9m,t9m){var q9m=r9m('./core');q9m.defaultDatum='WGS84';q9m.Proj=r9m('./Proj');q9m.WGS84=new q9m.Proj('WGS84');q9m.Point=r9m('./Point');q9m.toPoint=r9m("./common/toPoint");q9m.defs=r9m('./defs');q9m.transform=r9m('./transform');q9m.mgrs=r9m('mgrs');q9m.version=r9m('../package.json').version;r9m('./includedProjections')(q9m);s9m.exports=q9m;},{"../package.json":68,"./Point":1,"./Proj":2,"./common/toPoint":23,"./core":29,"./defs":32,"./includedProjections":"hTEDpn","./transform":65,"mgrs":67}],37:[function(u9m,y9m,E9m){var v9m=u9m('./defs');var w9m=u9m('./wkt');var x9m=u9m('./projString');function z9m(F9m){return typeof F9m === 'string';}function A9m(G9m){return (G9m in v9m);}function B9m(I9m){var H9m=['GEOGCS','GEOCCS','PROJCS','LOCAL_CS'];return H9m.reduce(function(J9m,K9m){return J9m + 1 + I9m.indexOf(K9m);},0);}function C9m(L9m){return L9m[0] === '+';}function D9m(M9m){if(z9m(M9m)){if(A9m(M9m)){return v9m[M9m];}else if(B9m(M9m)){return w9m(M9m);}else if(C9m(M9m)){return x9m(M9m);}}else {return M9m;}}y9m.exports=D9m;},{"./defs":32,"./projString":38,"./wkt":66}],38:[function(Q9m,R9m,S9m){var N9m=0.01745329251994329577;var O9m=Q9m('./constants/PrimeMeridian');var P9m=Q9m('./constants/units');R9m.exports=function(Z9m){var T9m={};var V9m={};Z9m.split("+").map(function(a0n){return a0n.trim();}).filter(function(b0n){return b0n;}).forEach(function(d0n){var c0n=d0n.split("=");c0n.push(true);V9m[c0n[0].toLowerCase()]=c0n[1];});var U9m,W9m,X9m;var Y9m={proj:'projName',datum:'datumCode',rf:function(e0n){T9m.rf=parseFloat(e0n);},lat_0:function(f0n){T9m.lat0=f0n * N9m;},lat_1:function(g0n){T9m.lat1=g0n * N9m;},lat_2:function(h0n){T9m.lat2=h0n * N9m;},lat_ts:function(i0n){T9m.lat_ts=i0n * N9m;},lon_0:function(j0n){T9m.long0=j0n * N9m;},lon_1:function(k0n){T9m.long1=k0n * N9m;},lon_2:function(l0n){T9m.long2=l0n * N9m;},alpha:function(m0n){T9m.alpha=parseFloat(m0n) * N9m;},lonc:function(n0n){T9m.longc=n0n * N9m;},x_0:function(o0n){T9m.x0=parseFloat(o0n);},y_0:function(p0n){T9m.y0=parseFloat(p0n);},k_0:function(q0n){T9m.k0=parseFloat(q0n);},k:function(r0n){T9m.k0=parseFloat(r0n);},a:function(s0n){T9m.a=parseFloat(s0n);},b:function(t0n){T9m.b=parseFloat(t0n);},r_a:function(){T9m.R_A=true;},zone:function(u0n){T9m.zone=parseInt(u0n,10);},south:function(){T9m.utmSouth=true;},towgs84:function(v0n){T9m.datum_params=v0n.split(",").map(function(w0n){return parseFloat(w0n);});},to_meter:function(x0n){T9m.to_meter=parseFloat(x0n);},units:function(y0n){T9m.units=y0n;if(P9m[y0n]){T9m.to_meter=P9m[y0n].to_meter;}},from_greenwich:function(z0n){T9m.from_greenwich=z0n * N9m;},pm:function(A0n){T9m.from_greenwich=(O9m[A0n]?O9m[A0n]:parseFloat(A0n)) * N9m;},nadgrids:function(B0n){if(B0n === '@null'){T9m.datumCode='none';}else {T9m.nadgrids=B0n;}},axis:function(C0n){var D0n="ewnsud";if(C0n.length === 3 && D0n.indexOf(C0n.substr(0,1)) !== -1 && D0n.indexOf(C0n.substr(1,1)) !== -1 && D0n.indexOf(C0n.substr(2,1)) !== -1){T9m.axis=C0n;}}};for(U9m in V9m){W9m=V9m[U9m];if((U9m in Y9m)){X9m=Y9m[U9m];if(typeof X9m === 'function'){X9m(W9m);}else {T9m[X9m]=W9m;}}else {T9m[U9m]=W9m;}}if(typeof T9m.datumCode === 'string' && T9m.datumCode !== "WGS84"){T9m.datumCode=T9m.datumCode.toLowerCase();}return T9m;};},{"./constants/PrimeMeridian":27,"./constants/units":28}],39:[function(H0n,K0n,G0n){var I0n=[H0n('./projections/merc'),H0n('./projections/longlat')];var E0n={};var F0n=[];function J0n(L0n,N0n){var M0n=F0n.length;if(!L0n.names){console.log(N0n);return true;}F0n[M0n]=L0n;L0n.names.forEach(function(O0n){E0n[O0n.toLowerCase()]=M0n;});return this;}G0n.add=J0n;G0n.get=function(Q0n){if(!Q0n){return false;}var P0n=Q0n.toLowerCase();if(typeof E0n[P0n] !== 'undefined' && F0n[E0n[P0n]]){return F0n[E0n[P0n]];}};G0n.start=function(){I0n.forEach(J0n);};},{"./projections/longlat":51,"./projections/merc":52}],40:[function(T0n,Y0n,R0n){var U0n=1.0e-10;var V0n=T0n('../common/msfnz');var S0n=T0n('../common/qsfnz');var W0n=T0n('../common/adjust_lon');var X0n=T0n('../common/asinz');R0n.init=function(){if(Math.abs(this.lat1 + this.lat2) < U0n){return;}this.temp=this.b / this.a;this.es=1 - Math.pow(this.temp,2);this.e3=Math.sqrt(this.es);this.sin_po=Math.sin(this.lat1);this.cos_po=Math.cos(this.lat1);this.t1=this.sin_po;this.con=this.sin_po;this.ms1=V0n(this.e3,this.sin_po,this.cos_po);this.qs1=S0n(this.e3,this.sin_po,this.cos_po);this.sin_po=Math.sin(this.lat2);this.cos_po=Math.cos(this.lat2);this.t2=this.sin_po;this.ms2=V0n(this.e3,this.sin_po,this.cos_po);this.qs2=S0n(this.e3,this.sin_po,this.cos_po);this.sin_po=Math.sin(this.lat0);this.cos_po=Math.cos(this.lat0);this.t3=this.sin_po;this.qs0=S0n(this.e3,this.sin_po,this.cos_po);if(Math.abs(this.lat1 - this.lat2) > U0n){this.ns0=(this.ms1 * this.ms1 - this.ms2 * this.ms2) / (this.qs2 - this.qs1);}else {this.ns0=this.con;}this.c=this.ms1 * this.ms1 + this.ns0 * this.qs1;this.rh=this.a * Math.sqrt(this.c - this.ns0 * this.qs0) / this.ns0;};R0n.forward=function(Z0n){var d1n=Z0n.x;var a1n=Z0n.y;this.sin_phi=Math.sin(a1n);this.cos_phi=Math.cos(a1n);var e1n=S0n(this.e3,this.sin_phi,this.cos_phi);var b1n=this.a * Math.sqrt(this.c - this.ns0 * e1n) / this.ns0;var c1n=this.ns0 * W0n(d1n - this.long0);var f1n=b1n * Math.sin(c1n) + this.x0;var g1n=this.rh - b1n * Math.cos(c1n) + this.y0;Z0n.x=f1n;Z0n.y=g1n;return Z0n;};R0n.inverse=function(h1n){var j1n,m1n,i1n,k1n,n1n,l1n;h1n.x-=this.x0;h1n.y=this.rh - h1n.y + this.y0;if(this.ns0 >= 0){j1n=Math.sqrt(h1n.x * h1n.x + h1n.y * h1n.y);i1n=1;}else {j1n=-Math.sqrt(h1n.x * h1n.x + h1n.y * h1n.y);i1n=-1;}k1n=0;if(j1n !== 0){k1n=Math.atan2(i1n * h1n.x,i1n * h1n.y);}i1n=j1n * this.ns0 / this.a;if(this.sphere){l1n=Math.asin((this.c - i1n * i1n) / (2 * this.ns0));}else {m1n=(this.c - i1n * i1n) / this.ns0;l1n=this.phi1z(this.e3,m1n);}n1n=W0n(k1n / this.ns0 + this.long0);h1n.x=n1n;h1n.y=l1n;return h1n;};R0n.phi1z=function(p1n,v1n){var s1n,w1n,q1n,r1n,t1n;var o1n=X0n(0.5 * v1n);if(p1n < U0n){return o1n;}var x1n=p1n * p1n;for(var u1n=1;u1n <= 25;u1n++){s1n=Math.sin(o1n);w1n=Math.cos(o1n);q1n=p1n * s1n;r1n=1 - q1n * q1n;t1n=0.5 * r1n * r1n / w1n * (v1n / (1 - x1n) - s1n / r1n + 0.5 / p1n * Math.log((1 - q1n) / (1 + q1n)));o1n=o1n + t1n;if(Math.abs(t1n) <= 1e-7){return o1n;}}return null;};R0n.names=["Albers_Conic_Equal_Area","Albers","aea"];},{"../common/adjust_lon":5,"../common/asinz":6,"../common/msfnz":15,"../common/qsfnz":20}],41:[function(A1n,L1n,D1n){var B1n=A1n('../common/adjust_lon');var y1n=Math.PI / 2;var z1n=1.0e-10;var C1n=A1n('../common/mlfn');var F1n=A1n('../common/e0fn');var G1n=A1n('../common/e1fn');var H1n=A1n('../common/e2fn');var I1n=A1n('../common/e3fn');var E1n=A1n('../common/gN');var K1n=A1n('../common/asinz');var J1n=A1n('../common/imlfn');D1n.init=function(){this.sin_p12=Math.sin(this.lat0);this.cos_p12=Math.cos(this.lat0);};D1n.forward=function(M1n){var k2n=M1n.x;var P1n=M1n.y;var X1n=Math.sin(M1n.y);var T1n=Math.cos(M1n.y);var N1n=B1n(k2n - this.long0);var Y1n,Z1n,a2n,b2n,U1n,V1n,l2n,e2n,m2n,Q1n,R1n,c2n,d2n,f2n,S1n,W1n,g2n,n2n,O1n,h2n,i2n,j2n,o2n;if(this.sphere){if(Math.abs(this.sin_p12 - 1) <= z1n){M1n.x=this.x0 + this.a * (y1n - P1n) * Math.sin(N1n);M1n.y=this.y0 - this.a * (y1n - P1n) * Math.cos(N1n);return M1n;}else if(Math.abs(this.sin_p12 + 1) <= z1n){M1n.x=this.x0 + this.a * (y1n + P1n) * Math.sin(N1n);M1n.y=this.y0 + this.a * (y1n + P1n) * Math.cos(N1n);return M1n;}else {n2n=this.sin_p12 * X1n + this.cos_p12 * T1n * Math.cos(N1n);W1n=Math.acos(n2n);g2n=W1n / Math.sin(W1n);M1n.x=this.x0 + this.a * g2n * T1n * Math.sin(N1n);M1n.y=this.y0 + this.a * g2n * (this.cos_p12 * X1n - this.sin_p12 * T1n * Math.cos(N1n));return M1n;}}else {Y1n=F1n(this.es);Z1n=G1n(this.es);a2n=H1n(this.es);b2n=I1n(this.es);if(Math.abs(this.sin_p12 - 1) <= z1n){U1n=this.a * C1n(Y1n,Z1n,a2n,b2n,y1n);V1n=this.a * C1n(Y1n,Z1n,a2n,b2n,P1n);M1n.x=this.x0 + (U1n - V1n) * Math.sin(N1n);M1n.y=this.y0 - (U1n - V1n) * Math.cos(N1n);return M1n;}else if(Math.abs(this.sin_p12 + 1) <= z1n){U1n=this.a * C1n(Y1n,Z1n,a2n,b2n,y1n);V1n=this.a * C1n(Y1n,Z1n,a2n,b2n,P1n);M1n.x=this.x0 + (U1n + V1n) * Math.sin(N1n);M1n.y=this.y0 + (U1n + V1n) * Math.cos(N1n);return M1n;}else {l2n=X1n / T1n;e2n=E1n(this.a,this.e,this.sin_p12);m2n=E1n(this.a,this.e,X1n);Q1n=Math.atan((1 - this.es) * l2n + this.es * e2n * this.sin_p12 / (m2n * T1n));R1n=Math.atan2(Math.sin(N1n),this.cos_p12 * Math.tan(Q1n) - this.sin_p12 * Math.cos(N1n));if(R1n === 0){O1n=Math.asin(this.cos_p12 * Math.sin(Q1n) - this.sin_p12 * Math.cos(Q1n));}else if(Math.abs(Math.abs(R1n) - Math.PI) <= z1n){O1n=-Math.asin(this.cos_p12 * Math.sin(Q1n) - this.sin_p12 * Math.cos(Q1n));}else {O1n=Math.asin(Math.sin(N1n) * Math.cos(Q1n) / Math.sin(R1n));}c2n=this.e * this.sin_p12 / Math.sqrt(1 - this.es);d2n=this.e * this.cos_p12 * Math.cos(R1n) / Math.sqrt(1 - this.es);f2n=c2n * d2n;S1n=d2n * d2n;h2n=O1n * O1n;i2n=h2n * O1n;j2n=i2n * O1n;o2n=j2n * O1n;W1n=e2n * O1n * (1 - h2n * S1n * (1 - S1n) / 6 + i2n / 8 * f2n * (1 - 2 * S1n) + j2n / 120 * (S1n * (4 - 7 * S1n) - 3 * c2n * c2n * (1 - 7 * S1n)) - o2n / 48 * f2n);M1n.x=this.x0 + W1n * Math.sin(R1n);M1n.y=this.y0 + W1n * Math.cos(R1n);return M1n;}}};D1n.inverse=function(p2n){p2n.x-=this.x0;p2n.y-=this.y0;var q2n,F2n,A2n,G2n,r2n,s2n,J2n,v2n,w2n,x2n,y2n,B2n,C2n,K2n,D2n,H2n,E2n,I2n,u2n,L2n,z2n,t2n,M2n;if(this.sphere){q2n=Math.sqrt(p2n.x * p2n.x + p2n.y * p2n.y);if(q2n > 2 * y1n * this.a){return;}F2n=q2n / this.a;A2n=Math.sin(F2n);G2n=Math.cos(F2n);r2n=this.long0;if(Math.abs(q2n) <= z1n){s2n=this.lat0;}else {s2n=K1n(G2n * this.sin_p12 + p2n.y * A2n * this.cos_p12 / q2n);J2n=Math.abs(this.lat0) - y1n;if(Math.abs(J2n) <= z1n){if(this.lat0 >= 0){r2n=B1n(this.long0 + Math.atan2(p2n.x,-p2n.y));}else {r2n=B1n(this.long0 - Math.atan2(-p2n.x,p2n.y));}}else {r2n=B1n(this.long0 + Math.atan2(p2n.x * A2n,q2n * this.cos_p12 * G2n - p2n.y * this.sin_p12 * A2n));}}p2n.x=r2n;p2n.y=s2n;return p2n;}else {v2n=F1n(this.es);w2n=G1n(this.es);x2n=H1n(this.es);y2n=I1n(this.es);if(Math.abs(this.sin_p12 - 1) <= z1n){B2n=this.a * C1n(v2n,w2n,x2n,y2n,y1n);q2n=Math.sqrt(p2n.x * p2n.x + p2n.y * p2n.y);C2n=B2n - q2n;s2n=J1n(C2n / this.a,v2n,w2n,x2n,y2n);r2n=B1n(this.long0 + Math.atan2(p2n.x,-1 * p2n.y));p2n.x=r2n;p2n.y=s2n;return p2n;}else if(Math.abs(this.sin_p12 + 1) <= z1n){B2n=this.a * C1n(v2n,w2n,x2n,y2n,y1n);q2n=Math.sqrt(p2n.x * p2n.x + p2n.y * p2n.y);C2n=q2n - B2n;s2n=J1n(C2n / this.a,v2n,w2n,x2n,y2n);r2n=B1n(this.long0 + Math.atan2(p2n.x,p2n.y));p2n.x=r2n;p2n.y=s2n;return p2n;}else {q2n=Math.sqrt(p2n.x * p2n.x + p2n.y * p2n.y);H2n=Math.atan2(p2n.x,p2n.y);K2n=E1n(this.a,this.e,this.sin_p12);E2n=Math.cos(H2n);I2n=this.e * this.cos_p12 * E2n;u2n=-I2n * I2n / (1 - this.es);L2n=3 * this.es * (1 - u2n) * this.sin_p12 * this.cos_p12 * E2n / (1 - this.es);z2n=q2n / K2n;t2n=z2n - u2n * (1 + u2n) * Math.pow(z2n,3) / 6 - L2n * (1 + 3 * u2n) * Math.pow(z2n,4) / 24;M2n=1 - u2n * t2n * t2n / 2 - z2n * t2n * t2n * t2n / 6;D2n=Math.asin(this.sin_p12 * Math.cos(t2n) + this.cos_p12 * Math.sin(t2n) * E2n);r2n=B1n(this.long0 + Math.asin(Math.sin(H2n) * Math.sin(t2n) / Math.cos(D2n)));s2n=Math.atan((1 - this.es * M2n * this.sin_p12 / Math.sin(D2n)) * Math.tan(D2n) / (1 - this.es));p2n.x=r2n;p2n.y=s2n;return p2n;}}};D1n.names=["Azimuthal_Equidistant","aeqd"];},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],42:[function(N2n,a3n,O2n){var P2n=N2n('../common/mlfn');var T2n=N2n('../common/e0fn');var U2n=N2n('../common/e1fn');var V2n=N2n('../common/e2fn');var W2n=N2n('../common/e3fn');var Q2n=N2n('../common/gN');var R2n=N2n('../common/adjust_lon');var X2n=N2n('../common/adjust_lat');var Y2n=N2n('../common/imlfn');var S2n=Math.PI / 2;var Z2n=1.0e-10;O2n.init=function(){if(!this.sphere){this.e0=T2n(this.es);this.e1=U2n(this.es);this.e2=V2n(this.es);this.e3=W2n(this.es);this.ml0=this.a * P2n(this.e0,this.e1,this.e2,this.e3,this.lat0);}};O2n.forward=function(d3n){var i3n,j3n;var c3n=d3n.x;var b3n=d3n.y;c3n=R2n(c3n - this.long0);if(this.sphere){i3n=this.a * Math.asin(Math.cos(b3n) * Math.sin(c3n));j3n=this.a * (Math.atan2(Math.tan(b3n),Math.cos(c3n)) - this.lat0);}else {var k3n=Math.sin(b3n);var f3n=Math.cos(b3n);var l3n=Q2n(this.a,this.e,k3n);var g3n=Math.tan(b3n) * Math.tan(b3n);var h3n=c3n * Math.cos(b3n);var e3n=h3n * h3n;var m3n=this.es * f3n * f3n / (1 - this.es);var n3n=this.a * P2n(this.e0,this.e1,this.e2,this.e3,b3n);i3n=l3n * h3n * (1 - e3n * g3n * (1 / 6 - (8 - g3n + 8 * m3n) * e3n / 120));j3n=n3n - this.ml0 + l3n * k3n / f3n * e3n * (0.5 + (5 - g3n + 6 * m3n) * e3n / 24);}d3n.x=i3n + this.x0;d3n.y=j3n + this.y0;return d3n;};O2n.inverse=function(o3n){o3n.x-=this.x0;o3n.y-=this.y0;var t3n=o3n.x / this.a;var u3n=o3n.y / this.a;var v3n,w3n;if(this.sphere){var x3n=u3n + this.lat0;v3n=Math.asin(Math.sin(x3n) * Math.cos(t3n));w3n=Math.atan2(Math.tan(t3n),Math.cos(x3n));}else {var z3n=this.ml0 / this.a + u3n;var q3n=Y2n(z3n,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(q3n) - S2n) <= Z2n){o3n.x=this.long0;o3n.y=S2n;if(u3n < 0){o3n.y*=-1;}return o3n;}var r3n=Q2n(this.a,this.e,Math.sin(q3n));var A3n=r3n * r3n * r3n / this.a / this.a * (1 - this.es);var s3n=Math.pow(Math.tan(q3n),2);var p3n=t3n * this.a / r3n;var y3n=p3n * p3n;v3n=q3n - r3n * Math.tan(q3n) / A3n * p3n * p3n * (0.5 - (1 + 3 * s3n) * p3n * p3n / 24);w3n=p3n * (1 - y3n * (s3n / 3 + (1 + 3 * s3n) * s3n * y3n / 15)) / Math.cos(q3n);}o3n.x=R2n(w3n + this.long0);o3n.y=X2n(v3n);return o3n;};O2n.names=["Cassini","Cassini_Soldner","cass"];},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],43:[function(B3n,H3n,C3n){var D3n=B3n('../common/adjust_lon');var E3n=B3n('../common/qsfnz');var F3n=B3n('../common/msfnz');var G3n=B3n('../common/iqsfnz');C3n.init=function(){if(!this.sphere){this.k0=F3n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts));}};C3n.forward=function(I3n){var N3n=I3n.x;var J3n=I3n.y;var K3n,L3n;var M3n=D3n(N3n - this.long0);if(this.sphere){K3n=this.x0 + this.a * M3n * Math.cos(this.lat_ts);L3n=this.y0 + this.a * Math.sin(J3n) / Math.cos(this.lat_ts);}else {var O3n=E3n(this.e,Math.sin(J3n));K3n=this.x0 + this.a * this.k0 * M3n;L3n=this.y0 + this.a * O3n * 0.5 / this.k0;}I3n.x=K3n;I3n.y=L3n;return I3n;};C3n.inverse=function(P3n){P3n.x-=this.x0;P3n.y-=this.y0;var Q3n,R3n;if(this.sphere){Q3n=D3n(this.long0 + P3n.x / this.a / Math.cos(this.lat_ts));R3n=Math.asin(P3n.y / this.a * Math.cos(this.lat_ts));}else {R3n=G3n(this.e,2 * P3n.y * this.k0 / this.a);Q3n=D3n(this.long0 + P3n.x / (this.a * this.k0));}P3n.x=Q3n;P3n.y=R3n;return P3n;};C3n.names=["cea"];},{"../common/adjust_lon":5,"../common/iqsfnz":13,"../common/msfnz":15,"../common/qsfnz":20}],44:[function(V3n,W3n,S3n){var T3n=V3n('../common/adjust_lon');var U3n=V3n('../common/adjust_lat');S3n.init=function(){this.x0=this.x0 || 0;this.y0=this.y0 || 0;this.lat0=this.lat0 || 0;this.long0=this.long0 || 0;this.lat_ts=this.lat_ts || 0;this.title=this.title || "Equidistant Cylindrical (Plate Carre)";this.rc=Math.cos(this.lat_ts);};S3n.forward=function(X3n){var Y3n=X3n.x;var Z3n=X3n.y;var a4n=T3n(Y3n - this.long0);var b4n=U3n(Z3n - this.lat0);X3n.x=this.x0 + this.a * a4n * this.rc;X3n.y=this.y0 + this.a * b4n;return X3n;};S3n.inverse=function(c4n){var d4n=c4n.x;var e4n=c4n.y;c4n.x=T3n(this.long0 + (d4n - this.x0) / (this.a * this.rc));c4n.y=U3n(this.lat0 + (e4n - this.y0) / this.a);return c4n;};S3n.names=["Equirectangular","Equidistant_Cylindrical","eqc"];},{"../common/adjust_lat":4,"../common/adjust_lon":5}],45:[function(f4n,r4n,h4n){var l4n=f4n('../common/e0fn');var m4n=f4n('../common/e1fn');var n4n=f4n('../common/e2fn');var o4n=f4n('../common/e3fn');var j4n=f4n('../common/msfnz');var g4n=f4n('../common/mlfn');var i4n=f4n('../common/adjust_lon');var p4n=f4n('../common/adjust_lat');var q4n=f4n('../common/imlfn');var k4n=1.0e-10;h4n.init=function(){if(Math.abs(this.lat1 + this.lat2) < k4n){return;}this.lat2=this.lat2 || this.lat1;this.temp=this.b / this.a;this.es=1 - Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=l4n(this.es);this.e1=m4n(this.es);this.e2=n4n(this.es);this.e3=o4n(this.es);this.sinphi=Math.sin(this.lat1);this.cosphi=Math.cos(this.lat1);this.ms1=j4n(this.e,this.sinphi,this.cosphi);this.ml1=g4n(this.e0,this.e1,this.e2,this.e3,this.lat1);if(Math.abs(this.lat1 - this.lat2) < k4n){this.ns=this.sinphi;}else {this.sinphi=Math.sin(this.lat2);this.cosphi=Math.cos(this.lat2);this.ms2=j4n(this.e,this.sinphi,this.cosphi);this.ml2=g4n(this.e0,this.e1,this.e2,this.e3,this.lat2);this.ns=(this.ms1 - this.ms2) / (this.ml2 - this.ml1);}this.g=this.ml1 + this.ms1 / this.ns;this.ml0=g4n(this.e0,this.e1,this.e2,this.e3,this.lat0);this.rh=this.a * (this.g - this.ml0);};h4n.forward=function(s4n){var w4n=s4n.x;var u4n=s4n.y;var t4n;if(this.sphere){t4n=this.a * (this.g - u4n);}else {var x4n=g4n(this.e0,this.e1,this.e2,this.e3,u4n);t4n=this.a * (this.g - x4n);}var v4n=this.ns * i4n(w4n - this.long0);var y4n=this.x0 + t4n * Math.sin(v4n);var z4n=this.y0 + this.rh - t4n * Math.cos(v4n);s4n.x=y4n;s4n.y=z4n;return s4n;};h4n.inverse=function(A4n){A4n.x-=this.x0;A4n.y=this.rh - A4n.y + this.y0;var C4n,B4n,D4n,E4n;if(this.ns >= 0){B4n=Math.sqrt(A4n.x * A4n.x + A4n.y * A4n.y);C4n=1;}else {B4n=-Math.sqrt(A4n.x * A4n.x + A4n.y * A4n.y);C4n=-1;}var F4n=0;if(B4n !== 0){F4n=Math.atan2(C4n * A4n.x,C4n * A4n.y);}if(this.sphere){E4n=i4n(this.long0 + F4n / this.ns);D4n=p4n(this.g - B4n / this.a);A4n.x=E4n;A4n.y=D4n;return A4n;}else {var G4n=this.g - B4n / this.a;D4n=q4n(G4n,this.e0,this.e1,this.e2,this.e3);E4n=i4n(this.long0 + F4n / this.ns);A4n.x=E4n;A4n.y=D4n;return A4n;}};h4n.names=["Equidistant_Conic","eqdc"];},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/imlfn":12,"../common/mlfn":14,"../common/msfnz":15}],46:[function(M4n,N4n,I4n){var H4n=Math.PI / 4;var J4n=M4n('../common/srat');var K4n=Math.PI / 2;var L4n=20;I4n.init=function(){var O4n=Math.sin(this.lat0);var P4n=Math.cos(this.lat0);P4n*=P4n;this.rc=Math.sqrt(1 - this.es) / (1 - this.es * O4n * O4n);this.C=Math.sqrt(1 + this.es * P4n * P4n / (1 - this.es));this.phic0=Math.asin(O4n / this.C);this.ratexp=0.5 * this.C * this.e;this.K=Math.tan(0.5 * this.phic0 + H4n) / (Math.pow(Math.tan(0.5 * this.lat0 + H4n),this.C) * J4n(this.e * O4n,this.ratexp));};I4n.forward=function(Q4n){var S4n=Q4n.x;var R4n=Q4n.y;Q4n.y=2 * Math.atan(this.K * Math.pow(Math.tan(0.5 * R4n + H4n),this.C) * J4n(this.e * Math.sin(R4n),this.ratexp)) - K4n;Q4n.x=this.C * S4n;return Q4n;};I4n.inverse=function(T4n){var W4n=1e-14;var X4n=T4n.x / this.C;var U4n=T4n.y;var Y4n=Math.pow(Math.tan(0.5 * U4n + H4n) / this.K,1 / this.C);for(var V4n=L4n;V4n > 0;--V4n){U4n=2 * Math.atan(Y4n * J4n(this.e * Math.sin(T4n.y),-0.5 * this.e)) - K4n;if(Math.abs(U4n - T4n.y) < W4n){break;}T4n.y=U4n;}if(!V4n){return null;}T4n.x=X4n;T4n.y=U4n;return T4n;};I4n.names=["gauss"];},{"../common/srat":22}],47:[function(b5n,e5n,Z4n){var a5n=b5n('../common/adjust_lon');var c5n=1.0e-10;var d5n=b5n('../common/asinz');Z4n.init=function(){this.sin_p14=Math.sin(this.lat0);this.cos_p14=Math.cos(this.lat0);this.infinity_dist=1000 * this.a;this.rc=1;};Z4n.forward=function(g5n){var i5n,f5n;var j5n;var k5n;var l5n;var h5n;var m5n,n5n;var p5n=g5n.x;var o5n=g5n.y;j5n=a5n(p5n - this.long0);i5n=Math.sin(o5n);f5n=Math.cos(o5n);k5n=Math.cos(j5n);h5n=this.sin_p14 * i5n + this.cos_p14 * f5n * k5n;l5n=1;if(h5n > 0 || Math.abs(h5n) <= c5n){m5n=this.x0 + this.a * l5n * f5n * Math.sin(j5n) / h5n;n5n=this.y0 + this.a * l5n * (this.cos_p14 * i5n - this.sin_p14 * f5n * k5n) / h5n;}else {m5n=this.x0 + this.infinity_dist * f5n * Math.sin(j5n);n5n=this.y0 + this.infinity_dist * (this.cos_p14 * i5n - this.sin_p14 * f5n * k5n);}g5n.x=m5n;g5n.y=n5n;return g5n;};Z4n.inverse=function(q5n){var s5n;var t5n,u5n;var v5n;var r5n,w5n;q5n.x=(q5n.x - this.x0) / this.a;q5n.y=(q5n.y - this.y0) / this.a;q5n.x/=this.k0;q5n.y/=this.k0;if(s5n=Math.sqrt(q5n.x * q5n.x + q5n.y * q5n.y)){v5n=Math.atan2(s5n,this.rc);t5n=Math.sin(v5n);u5n=Math.cos(v5n);w5n=d5n(u5n * this.sin_p14 + q5n.y * t5n * this.cos_p14 / s5n);r5n=Math.atan2(q5n.x * t5n,s5n * this.cos_p14 * u5n - q5n.y * this.sin_p14 * t5n);r5n=a5n(this.long0 + r5n);}else {w5n=this.phic0;r5n=0;}q5n.x=r5n;q5n.y=w5n;return q5n;};Z4n.names=["gnom"];},{"../common/adjust_lon":5,"../common/asinz":6}],48:[function(z5n,A5n,x5n){var y5n=z5n('../common/adjust_lon');x5n.init=function(){this.a=6377397.155;this.es=0.006674372230614;this.e=Math.sqrt(this.es);if(!this.lat0){this.lat0=0.863937979737193;}if(!this.long0){this.long0=0.7417649320975901 - 0.308341501185665;}if(!this.k0){this.k0=0.9999;}this.s45=0.785398163397448;this.s90=2 * this.s45;this.fi0=this.lat0;this.e2=this.es;this.e=Math.sqrt(this.e2);this.alfa=Math.sqrt(1 + this.e2 * Math.pow(Math.cos(this.fi0),4) / (1 - this.e2));this.uq=1.04216856380474;this.u0=Math.asin(Math.sin(this.fi0) / this.alfa);this.g=Math.pow((1 + this.e * Math.sin(this.fi0)) / (1 - this.e * Math.sin(this.fi0)),this.alfa * this.e / 2);this.k=Math.tan(this.u0 / 2 + this.s45) / Math.pow(Math.tan(this.fi0 / 2 + this.s45),this.alfa) * this.g;this.k1=this.k0;this.n0=this.a * Math.sqrt(1 - this.e2) / (1 - this.e2 * Math.pow(Math.sin(this.fi0),2));this.s0=1.37008346281555;this.n=Math.sin(this.s0);this.ro0=this.k1 * this.n0 / Math.tan(this.s0);this.ad=this.s90 - this.uq;};x5n.forward=function(B5n){var I5n,C5n,E5n,F5n,J5n,G5n,H5n;var K5n=B5n.x;var D5n=B5n.y;var L5n=y5n(K5n - this.long0);I5n=Math.pow((1 + this.e * Math.sin(D5n)) / (1 - this.e * Math.sin(D5n)),this.alfa * this.e / 2);C5n=2 * (Math.atan(this.k * Math.pow(Math.tan(D5n / 2 + this.s45),this.alfa) / I5n) - this.s45);E5n=-L5n * this.alfa;F5n=Math.asin(Math.cos(this.ad) * Math.sin(C5n) + Math.sin(this.ad) * Math.cos(C5n) * Math.cos(E5n));J5n=Math.asin(Math.cos(C5n) * Math.sin(E5n) / Math.cos(F5n));G5n=this.n * J5n;H5n=this.ro0 * Math.pow(Math.tan(this.s0 / 2 + this.s45),this.n) / Math.pow(Math.tan(F5n / 2 + this.s45),this.n);B5n.y=H5n * Math.cos(G5n) / 1;B5n.x=H5n * Math.sin(G5n) / 1;if(!this.czech){B5n.y*=-1;B5n.x*=-1;}return B5n;};x5n.inverse=function(M5n){var O5n,T5n,P5n,R5n,U5n,V5n,N5n;var S5n;var W5n=M5n.x;M5n.x=M5n.y;M5n.y=W5n;if(!this.czech){M5n.y*=-1;M5n.x*=-1;}V5n=Math.sqrt(M5n.x * M5n.x + M5n.y * M5n.y);U5n=Math.atan2(M5n.y,M5n.x);R5n=U5n / Math.sin(this.s0);P5n=2 * (Math.atan(Math.pow(this.ro0 / V5n,1 / this.n) * Math.tan(this.s0 / 2 + this.s45)) - this.s45);O5n=Math.asin(Math.cos(this.ad) * Math.sin(P5n) - Math.sin(this.ad) * Math.cos(P5n) * Math.cos(R5n));T5n=Math.asin(Math.cos(P5n) * Math.sin(R5n) / Math.cos(O5n));M5n.x=this.long0 - T5n / this.alfa;N5n=O5n;S5n=0;var Q5n=0;do {M5n.y=2 * (Math.atan(Math.pow(this.k,-1 / this.alfa) * Math.pow(Math.tan(O5n / 2 + this.s45),1 / this.alfa) * Math.pow((1 + this.e * Math.sin(N5n)) / (1 - this.e * Math.sin(N5n)),this.e / 2)) - this.s45);if(Math.abs(N5n - M5n.y) < 0.0000000001){S5n=1;}N5n=M5n.y;Q5n+=1;}while(S5n === 0 && Q5n < 15);if(Q5n >= 15){return null;}return M5n;};x5n.names=["Krovak","krovak"];},{"../common/adjust_lon":5}],49:[function(c6n,e6n,X5n){var Z5n=Math.PI / 2;var d6n=Math.PI / 4;var Y5n=1.0e-10;var a6n=c6n('../common/qsfnz');var b6n=c6n('../common/adjust_lon');X5n.S_POLE=1;X5n.N_POLE=2;X5n.EQUIT=3;X5n.OBLIQ=4;X5n.init=function(){var g6n=Math.abs(this.lat0);if(Math.abs(g6n - Z5n) < Y5n){this.mode=this.lat0 < 0?this.S_POLE:this.N_POLE;}else if(Math.abs(g6n) < Y5n){this.mode=this.EQUIT;}else {this.mode=this.OBLIQ;}if(this.es > 0){var f6n;this.qp=a6n(this.e,1);this.mmf=0.5 / (1 - this.es);this.apa=this.authset(this.es);switch(this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(0.5 * this.qp);this.dd=1 / this.rq;this.xmf=1;this.ymf=0.5 * this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(0.5 * this.qp);f6n=Math.sin(this.lat0);this.sinb1=a6n(this.e,f6n) / this.qp;this.cosb1=Math.sqrt(1 - this.sinb1 * this.sinb1);this.dd=Math.cos(this.lat0) / (Math.sqrt(1 - this.es * f6n * f6n) * this.rq * this.cosb1);this.ymf=(this.xmf=this.rq) / this.dd;this.xmf*=this.dd;break;}}else {if(this.mode === this.OBLIQ){this.sinph0=Math.sin(this.lat0);this.cosph0=Math.cos(this.lat0);}}};X5n.forward=function(r6n){var p6n,h6n,j6n,t6n,q6n,k6n,n6n,o6n,i6n,s6n;var l6n=r6n.x;var m6n=r6n.y;l6n=b6n(l6n - this.long0);if(this.sphere){q6n=Math.sin(m6n);s6n=Math.cos(m6n);j6n=Math.cos(l6n);if(this.mode === this.OBLIQ || this.mode === this.EQUIT){h6n=this.mode === this.EQUIT?1 + s6n * j6n:1 + this.sinph0 * q6n + this.cosph0 * s6n * j6n;if(h6n <= Y5n){return null;}h6n=Math.sqrt(2 / h6n);p6n=h6n * s6n * Math.sin(l6n);h6n*=this.mode === this.EQUIT?q6n:this.cosph0 * q6n - this.sinph0 * s6n * j6n;}else if(this.mode === this.N_POLE || this.mode === this.S_POLE){if(this.mode === this.N_POLE){j6n=-j6n;}if(Math.abs(m6n + this.phi0) < Y5n){return null;}h6n=d6n - m6n * 0.5;h6n=2 * (this.mode === this.S_POLE?Math.cos(h6n):Math.sin(h6n));p6n=h6n * Math.sin(l6n);h6n*=j6n;}}else {n6n=0;o6n=0;i6n=0;j6n=Math.cos(l6n);t6n=Math.sin(l6n);q6n=Math.sin(m6n);k6n=a6n(this.e,q6n);if(this.mode === this.OBLIQ || this.mode === this.EQUIT){n6n=k6n / this.qp;o6n=Math.sqrt(1 - n6n * n6n);}switch(this.mode){case this.OBLIQ:i6n=1 + this.sinb1 * n6n + this.cosb1 * o6n * j6n;break;case this.EQUIT:i6n=1 + o6n * j6n;break;case this.N_POLE:i6n=Z5n + m6n;k6n=this.qp - k6n;break;case this.S_POLE:i6n=m6n - Z5n;k6n=this.qp + k6n;break;}if(Math.abs(i6n) < Y5n){return null;}switch(this.mode){case this.OBLIQ:case this.EQUIT:i6n=Math.sqrt(2 / i6n);if(this.mode === this.OBLIQ){h6n=this.ymf * i6n * (this.cosb1 * n6n - this.sinb1 * o6n * j6n);}else {h6n=(i6n=Math.sqrt(2 / (1 + o6n * j6n))) * n6n * this.ymf;}p6n=this.xmf * i6n * o6n * t6n;break;case this.N_POLE:case this.S_POLE:if(k6n >= 0){p6n=(i6n=Math.sqrt(k6n)) * t6n;h6n=j6n * (this.mode === this.S_POLE?i6n:-i6n);}else {p6n=h6n=0;}break;}}r6n.x=this.a * p6n + this.x0;r6n.y=this.a * h6n + this.y0;return r6n;};X5n.inverse=function(w6n){w6n.x-=this.x0;w6n.y-=this.y0;var x6n=w6n.x / this.a;var u6n=w6n.y / this.a;var G6n,v6n,F6n,A6n,D6n,B6n,y6n;if(this.sphere){var E6n=0,z6n,C6n=0;z6n=Math.sqrt(x6n * x6n + u6n * u6n);v6n=z6n * 0.5;if(v6n > 1){return null;}v6n=2 * Math.asin(v6n);if(this.mode === this.OBLIQ || this.mode === this.EQUIT){C6n=Math.sin(v6n);E6n=Math.cos(v6n);}switch(this.mode){case this.EQUIT:v6n=Math.abs(z6n) <= Y5n?0:Math.asin(u6n * C6n / z6n);x6n*=C6n;u6n=E6n * z6n;break;case this.OBLIQ:v6n=Math.abs(z6n) <= Y5n?this.phi0:Math.asin(E6n * this.sinph0 + u6n * C6n * this.cosph0 / z6n);x6n*=C6n * this.cosph0;u6n=(E6n - Math.sin(v6n) * this.sinph0) * z6n;break;case this.N_POLE:u6n=-u6n;v6n=Z5n - v6n;break;case this.S_POLE:v6n-=Z5n;break;}G6n=u6n === 0 && (this.mode === this.EQUIT || this.mode === this.OBLIQ)?0:Math.atan2(x6n,u6n);}else {y6n=0;if(this.mode === this.OBLIQ || this.mode === this.EQUIT){x6n/=this.dd;u6n*=this.dd;B6n=Math.sqrt(x6n * x6n + u6n * u6n);if(B6n < Y5n){w6n.x=0;w6n.y=this.phi0;return w6n;}A6n=2 * Math.asin(0.5 * B6n / this.rq);F6n=Math.cos(A6n);x6n*=A6n=Math.sin(A6n);if(this.mode === this.OBLIQ){y6n=F6n * this.sinb1 + u6n * A6n * this.cosb1 / B6n;D6n=this.qp * y6n;u6n=B6n * this.cosb1 * F6n - u6n * this.sinb1 * A6n;}else {y6n=u6n * A6n / B6n;D6n=this.qp * y6n;u6n=B6n * F6n;}}else if(this.mode === this.N_POLE || this.mode === this.S_POLE){if(this.mode === this.N_POLE){u6n=-u6n;}D6n=x6n * x6n + u6n * u6n;if(!D6n){w6n.x=0;w6n.y=this.phi0;return w6n;}y6n=1 - D6n / this.qp;if(this.mode === this.S_POLE){y6n=-y6n;}}G6n=Math.atan2(x6n,u6n);v6n=this.authlat(Math.asin(y6n),this.apa);}w6n.x=b6n(this.long0 + G6n);w6n.y=v6n;return w6n;};X5n.P00=0.33333333333333333333;X5n.P01=0.17222222222222222222;X5n.P02=0.10257936507936507936;X5n.P10=0.06388888888888888888;X5n.P11=0.06640211640211640211;X5n.P20=0.01641501294219154443;X5n.authset=function(J6n){var I6n;var H6n=[];H6n[0]=J6n * this.P00;I6n=J6n * J6n;H6n[0]+=I6n * this.P01;H6n[1]=I6n * this.P10;I6n*=J6n;H6n[0]+=I6n * this.P02;H6n[1]+=I6n * this.P11;H6n[2]=I6n * this.P20;return H6n;};X5n.authlat=function(L6n,M6n){var K6n=L6n + L6n;return L6n + M6n[0] * Math.sin(K6n) + M6n[1] * Math.sin(K6n + K6n) + M6n[2] * Math.sin(K6n + K6n + K6n);};X5n.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];},{"../common/adjust_lon":5,"../common/qsfnz":20}],50:[function(O6n,W6n,Q6n){var N6n=1.0e-10;var S6n=O6n('../common/msfnz');var P6n=O6n('../common/tsfnz');var R6n=Math.PI / 2;var U6n=O6n('../common/sign');var T6n=O6n('../common/adjust_lon');var V6n=O6n('../common/phi2z');Q6n.init=function(){if(!this.lat2){this.lat2=this.lat1;}if(!this.k0){this.k0=1;}this.x0=this.x0 || 0;this.y0=this.y0 || 0;if(Math.abs(this.lat1 + this.lat2) < N6n){return;}var Y6n=this.b / this.a;this.e=Math.sqrt(1 - Y6n * Y6n);var X6n=Math.sin(this.lat1);var c7n=Math.cos(this.lat1);var Z6n=S6n(this.e,X6n,c7n);var a7n=P6n(this.e,this.lat1,X6n);var b7n=Math.sin(this.lat2);var d7n=Math.cos(this.lat2);var e7n=S6n(this.e,b7n,d7n);var f7n=P6n(this.e,this.lat2,b7n);var g7n=P6n(this.e,this.lat0,Math.sin(this.lat0));if(Math.abs(this.lat1 - this.lat2) > N6n){this.ns=Math.log(Z6n / e7n) / Math.log(a7n / f7n);}else {this.ns=X6n;}if(isNaN(this.ns)){this.ns=X6n;}this.f0=Z6n / (this.ns * Math.pow(a7n,this.ns));this.rh=this.a * this.f0 * Math.pow(g7n,this.ns);if(!this.title){this.title="Lambert Conformal Conic";}};Q6n.forward=function(i7n){var m7n=i7n.x;var h7n=i7n.y;if(Math.abs(2 * Math.abs(h7n) - Math.PI) <= N6n){h7n=U6n(h7n) * (R6n - 2 * N6n);}var j7n=Math.abs(Math.abs(h7n) - R6n);var n7n,k7n;if(j7n > N6n){n7n=P6n(this.e,h7n,Math.sin(h7n));k7n=this.a * this.f0 * Math.pow(n7n,this.ns);}else {j7n=h7n * this.ns;if(j7n <= 0){return null;}k7n=0;}var l7n=this.ns * T6n(m7n - this.long0);i7n.x=this.k0 * (k7n * Math.sin(l7n)) + this.x0;i7n.y=this.k0 * (this.rh - k7n * Math.cos(l7n)) + this.y0;return i7n;};Q6n.inverse=function(r7n){var s7n,o7n,v7n;var t7n,w7n;var p7n=(r7n.x - this.x0) / this.k0;var q7n=this.rh - (r7n.y - this.y0) / this.k0;if(this.ns > 0){s7n=Math.sqrt(p7n * p7n + q7n * q7n);o7n=1;}else {s7n=-Math.sqrt(p7n * p7n + q7n * q7n);o7n=-1;}var u7n=0;if(s7n !== 0){u7n=Math.atan2(o7n * p7n,o7n * q7n);}if(s7n !== 0 || this.ns > 0){o7n=1 / this.ns;v7n=Math.pow(s7n / (this.a * this.f0),o7n);t7n=V6n(this.e,v7n);if(t7n === -9999){return null;}}else {t7n=-R6n;}w7n=T6n(u7n / this.ns + this.long0);r7n.x=w7n;r7n.y=t7n;return r7n;};Q6n.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"];},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],51:[function(z7n,A7n,x7n){x7n.init=function(){;};function y7n(B7n){return B7n;}x7n.forward=y7n;x7n.inverse=y7n;x7n.names=["longlat","identity"];},{}],52:[function(D7n,M7n,E7n){var H7n=D7n('../common/msfnz');var G7n=Math.PI / 2;var I7n=1.0e-10;var C7n=57.29577951308232088;var F7n=D7n('../common/adjust_lon');var J7n=Math.PI / 4;var K7n=D7n('../common/tsfnz');var L7n=D7n('../common/phi2z');E7n.init=function(){var N7n=this.b / this.a;this.es=1 - N7n * N7n;if(!(('x0' in this))){this.x0=0;}if(!(('y0' in this))){this.y0=0;}this.e=Math.sqrt(this.es);if(this.lat_ts){if(this.sphere){this.k0=Math.cos(this.lat_ts);}else {this.k0=H7n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts));}}else {if(!this.k0){if(this.k){this.k0=this.k;}else {this.k0=1;}}}};E7n.forward=function(P7n){var Q7n=P7n.x;var O7n=P7n.y;if(O7n * C7n > 90 && O7n * C7n < -90 && Q7n * C7n > 180 && Q7n * C7n < -180){return null;}var R7n,S7n;if(Math.abs(Math.abs(O7n) - G7n) <= I7n){return null;}else {if(this.sphere){R7n=this.x0 + this.a * this.k0 * F7n(Q7n - this.long0);S7n=this.y0 + this.a * this.k0 * Math.log(Math.tan(J7n + 0.5 * O7n));}else {var T7n=Math.sin(O7n);var U7n=K7n(this.e,O7n,T7n);R7n=this.x0 + this.a * this.k0 * F7n(Q7n - this.long0);S7n=this.y0 - this.a * this.k0 * Math.log(U7n);}P7n.x=R7n;P7n.y=S7n;return P7n;}};E7n.inverse=function(V7n){var Y7n=V7n.x - this.x0;var X7n=V7n.y - this.y0;var Z7n,W7n;if(this.sphere){W7n=G7n - 2 * Math.atan(Math.exp(-X7n / (this.a * this.k0)));}else {var a8n=Math.exp(-X7n / (this.a * this.k0));W7n=L7n(this.e,a8n);if(W7n === -9999){return null;}}Z7n=F7n(this.long0 + Y7n / (this.a * this.k0));V7n.x=Z7n;V7n.y=W7n;return V7n;};E7n.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/tsfnz":24}],53:[function(d8n,e8n,b8n){var c8n=d8n('../common/adjust_lon');b8n.init=function(){;};b8n.forward=function(f8n){var g8n=f8n.x;var h8n=f8n.y;var i8n=c8n(g8n - this.long0);var j8n=this.x0 + this.a * i8n;var k8n=this.y0 + this.a * Math.log(Math.tan(Math.PI / 4 + h8n / 2.5)) * 1.25;f8n.x=j8n;f8n.y=k8n;return f8n;};b8n.inverse=function(l8n){l8n.x-=this.x0;l8n.y-=this.y0;var m8n=c8n(this.long0 + l8n.x / this.a);var n8n=2.5 * (Math.atan(Math.exp(0.8 * l8n.y / this.a)) - Math.PI / 4);l8n.x=m8n;l8n.y=n8n;return l8n;};b8n.names=["Miller_Cylindrical","mill"];},{"../common/adjust_lon":5}],54:[function(r8n,s8n,o8n){var p8n=r8n('../common/adjust_lon');var q8n=1.0e-10;o8n.init=function(){};o8n.forward=function(u8n){var y8n=u8n.x;var v8n=u8n.y;var w8n=p8n(y8n - this.long0);var t8n=v8n;var z8n=Math.PI * Math.sin(v8n);for(var A8n=0;true;A8n++){var x8n=-(t8n + Math.sin(t8n) - z8n) / (1 + Math.cos(t8n));t8n+=x8n;if(Math.abs(x8n) < q8n){break;}}t8n/=2;if(Math.PI / 2 - Math.abs(v8n) < q8n){w8n=0;}var B8n=0.900316316158 * this.a * w8n * Math.cos(t8n) + this.x0;var C8n=1.4142135623731 * this.a * Math.sin(t8n) + this.y0;u8n.x=B8n;u8n.y=C8n;return u8n;};o8n.inverse=function(E8n){var G8n;var D8n;E8n.x-=this.x0;E8n.y-=this.y0;D8n=E8n.y / (1.4142135623731 * this.a);if(Math.abs(D8n) > 0.999999999999){D8n=0.999999999999;}G8n=Math.asin(D8n);var F8n=p8n(this.long0 + E8n.x / (0.900316316158 * this.a * Math.cos(G8n)));if(F8n < -Math.PI){F8n=-Math.PI;}if(F8n > Math.PI){F8n=Math.PI;}D8n=(2 * G8n + Math.sin(2 * G8n)) / Math.PI;if(Math.abs(D8n) > 1){D8n=1;}var H8n=Math.asin(D8n);E8n.x=F8n;E8n.y=H8n;return E8n;};o8n.names=["Mollweide","moll"];},{"../common/adjust_lon":5}],55:[function(K8n,L8n,I8n){var J8n=4.84813681109535993589914102357e-6;I8n.iterations=1;I8n.init=function(){this.A=[];this.A[1]=0.6399175073;this.A[2]=-0.1358797613;this.A[3]=0.063294409;this.A[4]=-0.02526853;this.A[5]=0.0117879;this.A[6]=-0.0055161;this.A[7]=0.0026906;this.A[8]=-0.001333;this.A[9]=0.00067;this.A[10]=-0.00034;this.B_re=[];this.B_im=[];this.B_re[1]=0.7557853228;this.B_im[1]=0;this.B_re[2]=0.249204646;this.B_im[2]=0.003371507;this.B_re[3]=-0.001541739;this.B_im[3]=0.041058560;this.B_re[4]=-0.10162907;this.B_im[4]=0.01727609;this.B_re[5]=-0.26623489;this.B_im[5]=-0.36249218;this.B_re[6]=-0.6870983;this.B_im[6]=-1.1651967;this.C_re=[];this.C_im=[];this.C_re[1]=1.3231270439;this.C_im[1]=0;this.C_re[2]=-0.577245789;this.C_im[2]=-0.007809598;this.C_re[3]=0.508307513;this.C_im[3]=-0.112208952;this.C_re[4]=-0.15094762;this.C_im[4]=0.18200602;this.C_re[5]=1.01418179;this.C_im[5]=1.64497696;this.C_re[6]=1.9660549;this.C_im[6]=2.5127645;this.D=[];this.D[1]=1.5627014243;this.D[2]=0.5185406398;this.D[3]=-0.03333098;this.D[4]=-0.1052906;this.D[5]=-0.0368594;this.D[6]=0.007317;this.D[7]=0.01220;this.D[8]=0.00394;this.D[9]=-0.0013;};I8n.forward=function(P8n){var M8n;var W8n=P8n.x;var X8n=P8n.y;var Y8n=X8n - this.lat0;var Z8n=W8n - this.long0;var a9n=Y8n / J8n * 1E-5;var b9n=Z8n;var Q8n=1;var R8n=0;for(M8n=1;M8n <= 10;M8n++){Q8n=Q8n * a9n;R8n=R8n + this.A[M8n] * Q8n;}var U8n=R8n;var V8n=b9n;var N8n=1;var O8n=0;var c9n;var d9n;var S8n=0;var T8n=0;for(M8n=1;M8n <= 6;M8n++){c9n=N8n * U8n - O8n * V8n;d9n=O8n * U8n + N8n * V8n;N8n=c9n;O8n=d9n;S8n=S8n + this.B_re[M8n] * N8n - this.B_im[M8n] * O8n;T8n=T8n + this.B_im[M8n] * N8n + this.B_re[M8n] * O8n;}P8n.x=T8n * this.a + this.x0;P8n.y=S8n * this.a + this.y0;return P8n;};I8n.inverse=function(n9n){var e9n;var y9n=n9n.x;var z9n=n9n.y;var A9n=y9n - this.x0;var B9n=z9n - this.y0;var q9n=B9n / this.a;var r9n=A9n / this.a;var l9n=1;var m9n=0;var C9n;var D9n;var h9n=0;var i9n=0;for(e9n=1;e9n <= 6;e9n++){C9n=l9n * q9n - m9n * r9n;D9n=m9n * q9n + l9n * r9n;l9n=C9n;m9n=D9n;h9n=h9n + this.C_re[e9n] * l9n - this.C_im[e9n] * m9n;i9n=i9n + this.C_im[e9n] * l9n + this.C_re[e9n] * m9n;}for(var w9n=0;w9n < this.iterations;w9n++){var f9n=h9n;var g9n=i9n;var s9n;var t9n;var o9n=q9n;var p9n=r9n;for(e9n=2;e9n <= 6;e9n++){s9n=f9n * h9n - g9n * i9n;t9n=g9n * h9n + f9n * i9n;f9n=s9n;g9n=t9n;o9n=o9n + (e9n - 1) * (this.B_re[e9n] * f9n - this.B_im[e9n] * g9n);p9n=p9n + (e9n - 1) * (this.B_im[e9n] * f9n + this.B_re[e9n] * g9n);}f9n=1;g9n=0;var j9n=this.B_re[1];var k9n=this.B_im[1];for(e9n=2;e9n <= 6;e9n++){s9n=f9n * h9n - g9n * i9n;t9n=g9n * h9n + f9n * i9n;f9n=s9n;g9n=t9n;j9n=j9n + e9n * (this.B_re[e9n] * f9n - this.B_im[e9n] * g9n);k9n=k9n + e9n * (this.B_im[e9n] * f9n + this.B_re[e9n] * g9n);}var x9n=j9n * j9n + k9n * k9n;h9n=(o9n * j9n + p9n * k9n) / x9n;i9n=(p9n * j9n - o9n * k9n) / x9n;}var E9n=h9n;var F9n=i9n;var u9n=1;var v9n=0;for(e9n=1;e9n <= 9;e9n++){u9n=u9n * E9n;v9n=v9n + this.D[e9n] * u9n;}var G9n=this.lat0 + v9n * J8n * 1E5;var H9n=this.long0 + F9n;n9n.x=H9n;n9n.y=G9n;return n9n;};I8n.names=["New_Zealand_Map_Grid","nzmg"];},{}],56:[function(N9n,Q9n,M9n){var K9n=N9n('../common/tsfnz');var I9n=N9n('../common/adjust_lon');var O9n=N9n('../common/phi2z');var L9n=Math.PI / 2;var P9n=Math.PI / 4;var J9n=1.0e-10;M9n.init=function(){this.no_off=this.no_off || false;this.no_rot=this.no_rot || false;if(isNaN(this.k0)){this.k0=1;}var Y9n=Math.sin(this.lat0);var Z9n=Math.cos(this.lat0);var U9n=this.e * Y9n;this.bl=Math.sqrt(1 + this.es / (1 - this.es) * Math.pow(Z9n,4));this.al=this.a * this.bl * this.k0 * Math.sqrt(1 - this.es) / (1 - U9n * U9n);var W9n=K9n(this.e,this.lat0,Y9n);var R9n=this.bl / Z9n * Math.sqrt((1 - this.es) / (1 - U9n * U9n));if(R9n * R9n < 1){R9n=1;}var S9n;var X9n;if(!isNaN(this.longc)){if(this.lat0 >= 0){S9n=R9n + Math.sqrt(R9n * R9n - 1);}else {S9n=R9n - Math.sqrt(R9n * R9n - 1);}this.el=S9n * Math.pow(W9n,this.bl);X9n=0.5 * (S9n - 1 / S9n);this.gamma0=Math.asin(Math.sin(this.alpha) / R9n);this.long0=this.longc - Math.asin(X9n * Math.tan(this.gamma0)) / this.bl;}else {var a0o=K9n(this.e,this.lat1,Math.sin(this.lat1));var b0o=K9n(this.e,this.lat2,Math.sin(this.lat2));if(this.lat0 >= 0){this.el=(R9n + Math.sqrt(R9n * R9n - 1)) * Math.pow(W9n,this.bl);}else {this.el=(R9n - Math.sqrt(R9n * R9n - 1)) * Math.pow(W9n,this.bl);}var T9n=Math.pow(a0o,this.bl);var V9n=Math.pow(b0o,this.bl);S9n=this.el / T9n;X9n=0.5 * (S9n - 1 / S9n);var c0o=(this.el * this.el - V9n * T9n) / (this.el * this.el + V9n * T9n);var d0o=(V9n - T9n) / (V9n + T9n);var e0o=I9n(this.long1 - this.long2);this.long0=0.5 * (this.long1 + this.long2) - Math.atan(c0o * Math.tan(0.5 * this.bl * e0o) / d0o) / this.bl;this.long0=I9n(this.long0);var f0o=I9n(this.long1 - this.long0);this.gamma0=Math.atan(Math.sin(this.bl * f0o) / X9n);this.alpha=Math.asin(R9n * Math.sin(this.gamma0));}if(this.no_off){this.uc=0;}else {if(this.lat0 >= 0){this.uc=this.al / this.bl * Math.atan2(Math.sqrt(R9n * R9n - 1),Math.cos(this.alpha));}else {this.uc=-1 * this.al / this.bl * Math.atan2(Math.sqrt(R9n * R9n - 1),Math.cos(this.alpha));}}};M9n.forward=function(g0o){var q0o=g0o.x;var j0o=g0o.y;var k0o=I9n(q0o - this.long0);var h0o,i0o;var m0o;if(Math.abs(Math.abs(j0o) - L9n) <= J9n){if(j0o > 0){m0o=-1;}else {m0o=1;}i0o=this.al / this.bl * Math.log(Math.tan(P9n + m0o * this.gamma0 * 0.5));h0o=-1 * m0o * L9n * this.al / this.bl;}else {var r0o=K9n(this.e,j0o,Math.sin(j0o));var l0o=this.el / Math.pow(r0o,this.bl);var o0o=0.5 * (l0o - 1 / l0o);var s0o=0.5 * (l0o + 1 / l0o);var p0o=Math.sin(this.bl * k0o);var n0o=(o0o * Math.sin(this.gamma0) - p0o * Math.cos(this.gamma0)) / s0o;if(Math.abs(Math.abs(n0o) - 1) <= J9n){i0o=Number.POSITIVE_INFINITY;}else {i0o=0.5 * this.al * Math.log((1 - n0o) / (1 + n0o)) / this.bl;}if(Math.abs(Math.cos(this.bl * k0o)) <= J9n){h0o=this.al * this.bl * k0o;}else {h0o=this.al * Math.atan2(o0o * Math.cos(this.gamma0) + p0o * Math.sin(this.gamma0),Math.cos(this.bl * k0o)) / this.bl;}}if(this.no_rot){g0o.x=this.x0 + h0o;g0o.y=this.y0 + i0o;}else {h0o-=this.uc;g0o.x=this.x0 + i0o * Math.cos(this.alpha) + h0o * Math.sin(this.alpha);g0o.y=this.y0 + h0o * Math.cos(this.alpha) - i0o * Math.sin(this.alpha);}return g0o;};M9n.inverse=function(t0o){var u0o,x0o;if(this.no_rot){x0o=t0o.y - this.y0;u0o=t0o.x - this.x0;}else {x0o=(t0o.x - this.x0) * Math.cos(this.alpha) - (t0o.y - this.y0) * Math.sin(this.alpha);u0o=(t0o.y - this.y0) * Math.cos(this.alpha) + (t0o.x - this.x0) * Math.sin(this.alpha);u0o+=this.uc;}var v0o=Math.exp(-1 * this.bl * x0o / this.al);var y0o=0.5 * (v0o - 1 / v0o);var A0o=0.5 * (v0o + 1 / v0o);var z0o=Math.sin(this.bl * u0o / this.al);var w0o=(z0o * Math.cos(this.gamma0) + y0o * Math.sin(this.gamma0)) / A0o;var B0o=Math.pow(this.el / Math.sqrt((1 + w0o) / (1 - w0o)),1 / this.bl);if(Math.abs(w0o - 1) < J9n){t0o.x=this.long0;t0o.y=L9n;}else if(Math.abs(w0o + 1) < J9n){t0o.x=this.long0;t0o.y=-1 * L9n;}else {t0o.y=O9n(this.e,B0o);t0o.x=I9n(this.long0 - Math.atan2(y0o * Math.cos(this.gamma0) - z0o * Math.sin(this.gamma0),Math.cos(this.bl * u0o / this.al)) / this.bl);}return t0o;};M9n.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"];},{"../common/adjust_lon":5,"../common/phi2z":16,"../common/tsfnz":24}],57:[function(C0o,O0o,F0o){var I0o=C0o('../common/e0fn');var J0o=C0o('../common/e1fn');var K0o=C0o('../common/e2fn');var L0o=C0o('../common/e3fn');var E0o=C0o('../common/adjust_lon');var M0o=C0o('../common/adjust_lat');var G0o=C0o('../common/mlfn');var D0o=1.0e-10;var N0o=C0o('../common/gN');var H0o=20;F0o.init=function(){this.temp=this.b / this.a;this.es=1 - Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=I0o(this.es);this.e1=J0o(this.es);this.e2=K0o(this.es);this.e3=L0o(this.es);this.ml0=this.a * G0o(this.e0,this.e1,this.e2,this.e3,this.lat0);;};F0o.forward=function(Q0o){var W0o=Q0o.x;var P0o=Q0o.y;var R0o,S0o,T0o;var U0o=E0o(W0o - this.long0);T0o=U0o * Math.sin(P0o);if(this.sphere){if(Math.abs(P0o) <= D0o){R0o=this.a * U0o;S0o=-1 * this.a * this.lat0;}else {R0o=this.a * Math.sin(T0o) / Math.tan(P0o);S0o=this.a * (M0o(P0o - this.lat0) + (1 - Math.cos(T0o)) / Math.tan(P0o));}}else {if(Math.abs(P0o) <= D0o){R0o=this.a * U0o;S0o=-1 * this.ml0;}else {var V0o=N0o(this.a,this.e,Math.sin(P0o)) / Math.tan(P0o);R0o=V0o * Math.sin(T0o);S0o=this.a * G0o(this.e0,this.e1,this.e2,this.e3,P0o) - this.ml0 + V0o * (1 - Math.cos(T0o));}}Q0o.x=R0o + this.x0;Q0o.y=S0o + this.y0;return Q0o;};F0o.inverse=function(f1o){var g1o,Z0o,a1o,h1o,d1o;var Y0o,i1o;var X0o,e1o;a1o=f1o.x - this.x0;h1o=f1o.y - this.y0;if(this.sphere){if(Math.abs(h1o + this.a * this.lat0) <= D0o){g1o=E0o(a1o / this.a + this.long0);Z0o=0;}else {Y0o=this.lat0 + h1o / this.a;i1o=a1o * a1o / this.a / this.a + Y0o * Y0o;X0o=Y0o;var j1o;for(d1o=H0o;d1o;--d1o){j1o=Math.tan(X0o);e1o=-1 * (Y0o * (X0o * j1o + 1) - X0o - 0.5 * (X0o * X0o + i1o) * j1o) / ((X0o - Y0o) / j1o - 1);X0o+=e1o;if(Math.abs(e1o) <= D0o){Z0o=X0o;break;}}g1o=E0o(this.long0 + Math.asin(a1o * Math.tan(X0o) / this.a) / Math.sin(Z0o));}}else {if(Math.abs(h1o + this.ml0) <= D0o){Z0o=0;g1o=E0o(this.long0 + a1o / this.a);}else {Y0o=(this.ml0 + h1o) / this.a;i1o=a1o * a1o / this.a / this.a + Y0o * Y0o;X0o=Y0o;var c1o,m1o,k1o,b1o;var l1o;for(d1o=H0o;d1o;--d1o){l1o=this.e * Math.sin(X0o);c1o=Math.sqrt(1 - l1o * l1o) * Math.tan(X0o);m1o=this.a * G0o(this.e0,this.e1,this.e2,this.e3,X0o);k1o=this.e0 - 2 * this.e1 * Math.cos(2 * X0o) + 4 * this.e2 * Math.cos(4 * X0o) - 6 * this.e3 * Math.cos(6 * X0o);b1o=m1o / this.a;e1o=(Y0o * (c1o * b1o + 1) - b1o - 0.5 * c1o * (b1o * b1o + i1o)) / (this.es * Math.sin(2 * X0o) * (b1o * b1o + i1o - 2 * Y0o * b1o) / (4 * c1o) + (Y0o - b1o) * (c1o * k1o - 2 / Math.sin(2 * X0o)) - k1o);X0o-=e1o;if(Math.abs(e1o) <= D0o){Z0o=X0o;break;}}c1o=Math.sqrt(1 - this.es * Math.pow(Math.sin(Z0o),2)) * Math.tan(Z0o);g1o=E0o(this.long0 + Math.asin(a1o * c1o / this.a) / Math.sin(Z0o));}}f1o.x=g1o;f1o.y=Z0o;return f1o;};F0o.names=["Polyconic","poly"];},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/mlfn":14}],58:[function(n1o,y1o,o1o){var p1o=n1o('../common/adjust_lon');var t1o=n1o('../common/adjust_lat');var u1o=n1o('../common/pj_enfn');var v1o=20;var w1o=n1o('../common/pj_mlfn');var x1o=n1o('../common/pj_inv_mlfn');var q1o=Math.PI / 2;var r1o=1.0e-10;var s1o=n1o('../common/asinz');o1o.init=function(){if(!this.sphere){this.en=u1o(this.es);}else {this.n=1;this.m=0;this.es=0;this.C_y=Math.sqrt((this.m + 1) / this.n);this.C_x=this.C_y / (this.m + 1);}};o1o.forward=function(A1o){var D1o,E1o;var B1o=A1o.x;var z1o=A1o.y;B1o=p1o(B1o - this.long0);if(this.sphere){if(!this.m){z1o=this.n !== 1?Math.asin(this.n * Math.sin(z1o)):z1o;}else {var I1o=this.n * Math.sin(z1o);for(var F1o=v1o;F1o;--F1o){var G1o=(this.m * z1o + Math.sin(z1o) - I1o) / (this.m + Math.cos(z1o));z1o-=G1o;if(Math.abs(G1o) < r1o){break;}}}D1o=this.a * this.C_x * B1o * (this.m + Math.cos(z1o));E1o=this.a * this.C_y * z1o;}else {var C1o=Math.sin(z1o);var H1o=Math.cos(z1o);E1o=this.a * w1o(z1o,C1o,H1o,this.en);D1o=this.a * B1o * H1o / Math.sqrt(1 - this.es * C1o * C1o);}A1o.x=D1o;A1o.y=E1o;return A1o;};o1o.inverse=function(K1o){var J1o,N1o,L1o,M1o;K1o.x-=this.x0;L1o=K1o.x / this.a;K1o.y-=this.y0;J1o=K1o.y / this.a;if(this.sphere){J1o/=this.C_y;L1o=L1o / (this.C_x * (this.m + Math.cos(J1o)));if(this.m){J1o=s1o((this.m * J1o + Math.sin(J1o)) / this.n);}else if(this.n !== 1){J1o=s1o(Math.sin(J1o) / this.n);}L1o=p1o(L1o + this.long0);J1o=t1o(J1o);}else {J1o=x1o(K1o.y / this.a,this.es,this.en);M1o=Math.abs(J1o);if(M1o < q1o){M1o=Math.sin(J1o);N1o=this.long0 + K1o.x * Math.sqrt(1 - this.es * M1o * M1o) / (this.a * Math.cos(J1o));L1o=p1o(N1o);}else if(M1o - r1o < q1o){L1o=this.long0;}}K1o.x=L1o;K1o.y=J1o;return K1o;};o1o.names=["Sinusoidal","sinu"];},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/asinz":6,"../common/pj_enfn":17,"../common/pj_inv_mlfn":18,"../common/pj_mlfn":19}],59:[function(P1o,Q1o,O1o){O1o.init=function(){var T1o=this.lat0;this.lambda0=this.long0;var S1o=Math.sin(T1o);var W1o=this.a;var X1o=this.rf;var V1o=1 / X1o;var R1o=2 * V1o - Math.pow(V1o,2);var U1o=this.e=Math.sqrt(R1o);this.R=this.k0 * W1o * Math.sqrt(1 - R1o) / (1 - R1o * Math.pow(S1o,2));this.alpha=Math.sqrt(1 + R1o / (1 - R1o) * Math.pow(Math.cos(T1o),4));this.b0=Math.asin(S1o / this.alpha);var Y1o=Math.log(Math.tan(Math.PI / 4 + this.b0 / 2));var Z1o=Math.log(Math.tan(Math.PI / 4 + T1o / 2));var a2o=Math.log((1 + U1o * S1o) / (1 - U1o * S1o));this.K=Y1o - this.alpha * Z1o + this.alpha * U1o / 2 * a2o;};O1o.forward=function(b2o){var f2o=Math.log(Math.tan(Math.PI / 4 - b2o.y / 2));var g2o=this.e / 2 * Math.log((1 + this.e * Math.sin(b2o.y)) / (1 - this.e * Math.sin(b2o.y)));var h2o=-this.alpha * (f2o + g2o) + this.K;var c2o=2 * (Math.atan(Math.exp(h2o)) - Math.PI / 4);var d2o=this.alpha * (b2o.x - this.lambda0);var i2o=Math.atan(Math.sin(d2o) / (Math.sin(this.b0) * Math.tan(c2o) + Math.cos(this.b0) * Math.cos(d2o)));var e2o=Math.asin(Math.cos(this.b0) * Math.sin(c2o) - Math.sin(this.b0) * Math.cos(c2o) * Math.cos(d2o));b2o.y=this.R / 2 * Math.log((1 + Math.sin(e2o)) / (1 - Math.sin(e2o))) + this.y0;b2o.x=this.R * i2o + this.x0;return b2o;};O1o.inverse=function(k2o){var q2o=k2o.x - this.x0;var r2o=k2o.y - this.y0;var l2o=q2o / this.R;var m2o=2 * (Math.atan(Math.exp(r2o / this.R)) - Math.PI / 4);var n2o=Math.asin(Math.cos(this.b0) * Math.sin(m2o) + Math.sin(this.b0) * Math.cos(m2o) * Math.cos(l2o));var s2o=Math.atan(Math.sin(l2o) / (Math.cos(this.b0) * Math.cos(l2o) - Math.sin(this.b0) * Math.tan(m2o)));var t2o=this.lambda0 + s2o / this.alpha;var o2o=0;var j2o=n2o;var p2o=-1000;var u2o=0;while(Math.abs(j2o - p2o) > 0.0000001){if(++u2o > 20){return;}o2o=1 / this.alpha * (Math.log(Math.tan(Math.PI / 4 + n2o / 2)) - this.K) + this.e * Math.log(Math.tan(Math.PI / 4 + Math.asin(this.e * Math.sin(j2o)) / 2));p2o=j2o;j2o=2 * Math.atan(Math.exp(o2o)) - Math.PI / 2;}k2o.x=t2o;k2o.y=j2o;return k2o;};O1o.names=["somerc"];},{}],60:[function(x2o,E2o,y2o){var z2o=Math.PI / 2;var v2o=1.0e-10;var D2o=x2o('../common/sign');var A2o=x2o('../common/msfnz');var B2o=x2o('../common/tsfnz');var C2o=x2o('../common/phi2z');var w2o=x2o('../common/adjust_lon');y2o.ssfn_=function(H2o,F2o,G2o){F2o*=G2o;return Math.tan(0.5 * (z2o + H2o)) * Math.pow((1 - F2o) / (1 + F2o),0.5 * G2o);};y2o.init=function(){this.coslat0=Math.cos(this.lat0);this.sinlat0=Math.sin(this.lat0);if(this.sphere){if(this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= v2o){this.k0=0.5 * (1 + D2o(this.lat0) * Math.sin(this.lat_ts));}}else {if(Math.abs(this.coslat0) <= v2o){if(this.lat0 > 0){this.con=1;}else {this.con=-1;}}this.cons=Math.sqrt(Math.pow(1 + this.e,1 + this.e) * Math.pow(1 - this.e,1 - this.e));if(this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= v2o){this.k0=0.5 * this.cons * A2o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)) / B2o(this.e,this.con * this.lat_ts,this.con * Math.sin(this.lat_ts));}this.ms1=A2o(this.e,this.sinlat0,this.coslat0);this.X0=2 * Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e)) - z2o;this.cosX0=Math.cos(this.X0);this.sinX0=Math.sin(this.X0);}};y2o.forward=function(I2o){var M2o=I2o.x;var L2o=I2o.y;var N2o=Math.sin(L2o);var P2o=Math.cos(L2o);var J2o,R2o,Q2o,O2o,T2o,S2o;var K2o=w2o(M2o - this.long0);if(Math.abs(Math.abs(M2o - this.long0) - Math.PI) <= v2o && Math.abs(L2o + this.lat0) <= v2o){I2o.x=NaN;I2o.y=NaN;return I2o;}if(this.sphere){J2o=2 * this.k0 / (1 + this.sinlat0 * N2o + this.coslat0 * P2o * Math.cos(K2o));I2o.x=this.a * J2o * P2o * Math.sin(K2o) + this.x0;I2o.y=this.a * J2o * (this.coslat0 * N2o - this.sinlat0 * P2o * Math.cos(K2o)) + this.y0;return I2o;}else {R2o=2 * Math.atan(this.ssfn_(L2o,N2o,this.e)) - z2o;O2o=Math.cos(R2o);Q2o=Math.sin(R2o);if(Math.abs(this.coslat0) <= v2o){T2o=B2o(this.e,L2o * this.con,this.con * N2o);S2o=2 * this.a * this.k0 * T2o / this.cons;I2o.x=this.x0 + S2o * Math.sin(M2o - this.long0);I2o.y=this.y0 - this.con * S2o * Math.cos(M2o - this.long0);return I2o;}else if(Math.abs(this.sinlat0) < v2o){J2o=2 * this.a * this.k0 / (1 + O2o * Math.cos(K2o));I2o.y=J2o * Q2o;}else {J2o=2 * this.a * this.k0 * this.ms1 / (this.cosX0 * (1 + this.sinX0 * Q2o + this.cosX0 * O2o * Math.cos(K2o)));I2o.y=J2o * (this.cosX0 * Q2o - this.sinX0 * O2o * Math.cos(K2o)) + this.y0;}I2o.x=J2o * O2o * Math.sin(K2o) + this.x0;}return I2o;};y2o.inverse=function(U2o){U2o.x-=this.x0;U2o.y-=this.y0;var V2o,X2o,b3o,Y2o,a3o;var W2o=Math.sqrt(U2o.x * U2o.x + U2o.y * U2o.y);if(this.sphere){var Z2o=2 * Math.atan(W2o / (0.5 * this.a * this.k0));V2o=this.long0;X2o=this.lat0;if(W2o <= v2o){U2o.x=V2o;U2o.y=X2o;return U2o;}X2o=Math.asin(Math.cos(Z2o) * this.sinlat0 + U2o.y * Math.sin(Z2o) * this.coslat0 / W2o);if(Math.abs(this.coslat0) < v2o){if(this.lat0 > 0){V2o=w2o(this.long0 + Math.atan2(U2o.x,-1 * U2o.y));}else {V2o=w2o(this.long0 + Math.atan2(U2o.x,U2o.y));}}else {V2o=w2o(this.long0 + Math.atan2(U2o.x * Math.sin(Z2o),W2o * this.coslat0 * Math.cos(Z2o) - U2o.y * this.sinlat0 * Math.sin(Z2o)));}U2o.x=V2o;U2o.y=X2o;return U2o;}else {if(Math.abs(this.coslat0) <= v2o){if(W2o <= v2o){X2o=this.lat0;V2o=this.long0;U2o.x=V2o;U2o.y=X2o;return U2o;}U2o.x*=this.con;U2o.y*=this.con;b3o=W2o * this.cons / (2 * this.a * this.k0);X2o=this.con * C2o(this.e,b3o);V2o=this.con * w2o(this.con * this.long0 + Math.atan2(U2o.x,-1 * U2o.y));}else {Y2o=2 * Math.atan(W2o * this.cosX0 / (2 * this.a * this.k0 * this.ms1));V2o=this.long0;if(W2o <= v2o){a3o=this.X0;}else {a3o=Math.asin(Math.cos(Y2o) * this.sinX0 + U2o.y * Math.sin(Y2o) * this.cosX0 / W2o);V2o=w2o(this.long0 + Math.atan2(U2o.x * Math.sin(Y2o),W2o * this.cosX0 * Math.cos(Y2o) - U2o.y * this.sinX0 * Math.sin(Y2o)));}X2o=-1 * C2o(this.e,Math.tan(0.5 * (z2o + a3o)));}}U2o.x=V2o;U2o.y=X2o;return U2o;};y2o.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],61:[function(f3o,g3o,c3o){var d3o=f3o('./gauss');var e3o=f3o('../common/adjust_lon');c3o.init=function(){d3o.init.apply(this);if(!this.rc){return;}this.sinc0=Math.sin(this.phic0);this.cosc0=Math.cos(this.phic0);this.R2=2 * this.rc;if(!this.title){this.title="Oblique Stereographic Alternative";}};c3o.forward=function(h3o){var j3o,i3o,k3o,l3o;h3o.x=e3o(h3o.x - this.long0);d3o.forward.apply(this,[h3o]);j3o=Math.sin(h3o.y);i3o=Math.cos(h3o.y);k3o=Math.cos(h3o.x);l3o=this.k0 * this.R2 / (1 + this.sinc0 * j3o + this.cosc0 * i3o * k3o);h3o.x=l3o * i3o * Math.sin(h3o.x);h3o.y=l3o * (this.cosc0 * j3o - this.sinc0 * i3o * k3o);h3o.x=this.a * h3o.x + this.x0;h3o.y=this.a * h3o.y + this.y0;return h3o;};c3o.inverse=function(m3o){var n3o,p3o,q3o,r3o,o3o;m3o.x=(m3o.x - this.x0) / this.a;m3o.y=(m3o.y - this.y0) / this.a;m3o.x/=this.k0;m3o.y/=this.k0;if(o3o=Math.sqrt(m3o.x * m3o.x + m3o.y * m3o.y)){var s3o=2 * Math.atan2(o3o,this.R2);n3o=Math.sin(s3o);p3o=Math.cos(s3o);r3o=Math.asin(p3o * this.sinc0 + m3o.y * n3o * this.cosc0 / o3o);q3o=Math.atan2(m3o.x * n3o,o3o * this.cosc0 * p3o - m3o.y * this.sinc0 * n3o);}else {r3o=this.phic0;q3o=0;}m3o.x=q3o;m3o.y=r3o;d3o.inverse.apply(this,[m3o]);m3o.x=e3o(m3o.x + this.long0);return m3o;};c3o.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"];},{"../common/adjust_lon":5,"./gauss":46}],62:[function(t3o,F3o,u3o){var y3o=t3o('../common/e0fn');var z3o=t3o('../common/e1fn');var A3o=t3o('../common/e2fn');var B3o=t3o('../common/e3fn');var w3o=t3o('../common/mlfn');var v3o=t3o('../common/adjust_lon');var x3o=Math.PI / 2;var C3o=1.0e-10;var D3o=t3o('../common/sign');var E3o=t3o('../common/asinz');u3o.init=function(){this.e0=y3o(this.es);this.e1=z3o(this.es);this.e2=A3o(this.es);this.e3=B3o(this.es);this.ml0=this.a * w3o(this.e0,this.e1,this.e2,this.e3,this.lat0);};u3o.forward=function(M3o){var U3o=M3o.x;var H3o=M3o.y;var O3o=v3o(U3o - this.long0);var I3o;var P3o,Q3o;var V3o=Math.sin(H3o);var N3o=Math.cos(H3o);if(this.sphere){var J3o=N3o * Math.sin(O3o);if(Math.abs(Math.abs(J3o) - 1) < 0.0000000001){return 93;}else {P3o=0.5 * this.a * this.k0 * Math.log((1 + J3o) / (1 - J3o));I3o=Math.acos(N3o * Math.cos(O3o) / Math.sqrt(1 - J3o * J3o));if(H3o < 0){I3o=-I3o;}Q3o=this.a * this.k0 * (I3o - this.lat0);}}else {var R3o=N3o * O3o;var K3o=Math.pow(R3o,2);var L3o=this.ep2 * Math.pow(N3o,2);var S3o=Math.tan(H3o);var G3o=Math.pow(S3o,2);I3o=1 - this.es * Math.pow(V3o,2);var T3o=this.a / Math.sqrt(I3o);var W3o=this.a * w3o(this.e0,this.e1,this.e2,this.e3,H3o);P3o=this.k0 * T3o * R3o * (1 + K3o / 6 * (1 - G3o + L3o + K3o / 20 * (5 - 18 * G3o + Math.pow(G3o,2) + 72 * L3o - 58 * this.ep2))) + this.x0;Q3o=this.k0 * (W3o - this.ml0 + T3o * S3o * (K3o * (0.5 + K3o / 24 * (5 - G3o + 9 * L3o + 4 * Math.pow(L3o,2) + K3o / 30 * (61 - 58 * G3o + Math.pow(G3o,2) + 600 * L3o - 330 * this.ep2))))) + this.y0;}M3o.x=P3o;M3o.y=Q3o;return M3o;};u3o.inverse=function(Z3o){var Y3o,X3o;var j4o;var k4o;var s4o=6;var a4o,e4o;if(this.sphere){var l4o=Math.exp(Z3o.x / (this.a * this.k0));var f4o=0.5 * (l4o - 1 / l4o);var m4o=this.lat0 + Z3o.y / (this.a * this.k0);var g4o=Math.cos(m4o);Y3o=Math.sqrt((1 - g4o * g4o) / (1 + f4o * f4o));a4o=E3o(Y3o);if(m4o < 0){a4o=-a4o;}if(f4o === 0 && g4o === 0){e4o=this.long0;}else {e4o=v3o(Math.atan2(f4o,g4o) + this.long0);}}else {var t4o=Z3o.x - this.x0;var n4o=Z3o.y - this.y0;Y3o=(this.ml0 + n4o / this.k0) / this.a;X3o=Y3o;for(k4o=0;true;k4o++){j4o=(Y3o + this.e1 * Math.sin(2 * X3o) - this.e2 * Math.sin(4 * X3o) + this.e3 * Math.sin(6 * X3o)) / this.e0 - X3o;X3o+=j4o;if(Math.abs(j4o) <= C3o){break;}if(k4o >= s4o){return 95;}}if(Math.abs(X3o) < x3o){var u4o=Math.sin(X3o);var o4o=Math.cos(X3o);var p4o=Math.tan(X3o);var b4o=this.ep2 * Math.pow(o4o,2);var h4o=Math.pow(b4o,2);var c4o=Math.pow(p4o,2);var q4o=Math.pow(c4o,2);Y3o=1 - this.es * Math.pow(u4o,2);var i4o=this.a / Math.sqrt(Y3o);var v4o=i4o * (1 - this.es) / Y3o;var r4o=t4o / (i4o * this.k0);var d4o=Math.pow(r4o,2);a4o=X3o - i4o * p4o * d4o / v4o * (0.5 - d4o / 24 * (5 + 3 * c4o + 10 * b4o - 4 * h4o - 9 * this.ep2 - d4o / 30 * (61 + 90 * c4o + 298 * b4o + 45 * q4o - 252 * this.ep2 - 3 * h4o)));e4o=v3o(this.long0 + r4o * (1 - d4o / 6 * (1 + 2 * c4o + b4o - d4o / 20 * (5 - 2 * b4o + 28 * c4o - 3 * h4o + 8 * this.ep2 + 24 * q4o))) / o4o);}else {a4o=x3o * D3o(n4o);e4o=this.long0;}}Z3o.x=e4o;Z3o.y=a4o;return Z3o;};u3o.names=["Transverse_Mercator","Transverse Mercator","tmerc"];},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/mlfn":14,"../common/sign":21}],63:[function(z4o,A4o,x4o){var y4o=0.01745329251994329577;var w4o=z4o('./tmerc');x4o.dependsOn='tmerc';x4o.init=function(){if(!this.zone){return;}this.lat0=0;this.long0=(6 * Math.abs(this.zone) - 183) * y4o;this.x0=500000;this.y0=this.utmSouth?10000000:0;this.k0=0.9996;w4o.init.apply(this);this.forward=w4o.forward;this.inverse=w4o.inverse;};x4o.names=["Universal Transverse Mercator System","utm"];},{"./tmerc":62}],64:[function(E4o,H4o,C4o){var D4o=E4o('../common/adjust_lon');var F4o=Math.PI / 2;var B4o=1.0e-10;var G4o=E4o('../common/asinz');C4o.init=function(){this.R=this.a;};C4o.forward=function(P4o){var X4o=P4o.x;var M4o=P4o.y;var N4o=D4o(X4o - this.long0);var S4o,O4o;if(Math.abs(M4o) <= B4o){S4o=this.x0 + this.R * N4o;O4o=this.y0;}var Q4o=G4o(2 * Math.abs(M4o / Math.PI));if(Math.abs(N4o) <= B4o || Math.abs(Math.abs(M4o) - F4o) <= B4o){S4o=this.x0;if(M4o >= 0){O4o=this.y0 + Math.PI * this.R * Math.tan(0.5 * Q4o);}else {O4o=this.y0 + Math.PI * this.R * -Math.tan(0.5 * Q4o);};}var R4o=0.5 * Math.abs(Math.PI / N4o - N4o / Math.PI);var J4o=R4o * R4o;var V4o=Math.sin(Q4o);var W4o=Math.cos(Q4o);var K4o=W4o / (V4o + W4o - 1);var Y4o=K4o * K4o;var T4o=K4o * (2 / V4o - 1);var I4o=T4o * T4o;var L4o=Math.PI * this.R * (R4o * (K4o - I4o) + Math.sqrt(J4o * (K4o - I4o) * (K4o - I4o) - (I4o + J4o) * (Y4o - I4o))) / (I4o + J4o);if(N4o < 0){L4o=-L4o;}S4o=this.x0 + L4o;var U4o=J4o + K4o;L4o=Math.PI * this.R * (T4o * U4o - R4o * Math.sqrt((I4o + J4o) * (J4o + 1) - U4o * U4o)) / (I4o + J4o);if(M4o >= 0){O4o=this.y0 + L4o;}else {O4o=this.y0 - L4o;}P4o.x=S4o;P4o.y=O4o;return P4o;};C4o.inverse=function(e5o){var i5o,j5o;var b5o,Z4o,f5o,g5o,c5o,a5o;var k5o;var h5o;var d5o;var l5o;var m5o;e5o.x-=this.x0;e5o.y-=this.y0;d5o=Math.PI * this.R;b5o=e5o.x / d5o;Z4o=e5o.y / d5o;f5o=b5o * b5o + Z4o * Z4o;g5o=-Math.abs(Z4o) * (1 + f5o);c5o=g5o - 2 * Z4o * Z4o + b5o * b5o;a5o=-2 * g5o + 1 + 2 * Z4o * Z4o + f5o * f5o;m5o=Z4o * Z4o / a5o + (2 * c5o * c5o * c5o / a5o / a5o / a5o - 9 * g5o * c5o / a5o / a5o) / 27;k5o=(g5o - c5o * c5o / 3 / a5o) / a5o;h5o=2 * Math.sqrt(-k5o / 3);d5o=3 * m5o / k5o / h5o;if(Math.abs(d5o) > 1){if(d5o >= 0){d5o=1;}else {d5o=-1;}}l5o=Math.acos(d5o) / 3;if(e5o.y >= 0){j5o=(-h5o * Math.cos(l5o + Math.PI / 3) - c5o / 3 / a5o) * Math.PI;}else {j5o=-(-h5o * Math.cos(l5o + Math.PI / 3) - c5o / 3 / a5o) * Math.PI;}if(Math.abs(b5o) < B4o){i5o=this.long0;}else {i5o=D4o(this.long0 + Math.PI * (f5o - 1 + Math.sqrt(1 + 2 * (b5o * b5o - Z4o * Z4o) + f5o * f5o)) / 2 / b5o);}e5o.x=i5o;e5o.y=j5o;return e5o;};C4o.names=["Van_der_Grinten_I","VanDerGrinten","vandg"];},{"../common/adjust_lon":5,"../common/asinz":6}],65:[function(n5o,w5o,x5o){var o5o=0.01745329251994329577;var p5o=57.29577951308232088;var r5o=1;var s5o=2;var t5o=n5o('./datum_transform');var q5o=n5o('./adjust_axis');var u5o=n5o('./Proj');var v5o=n5o('./common/toPoint');w5o.exports=function y5o(A5o,B5o,z5o){var C5o;if(Array.isArray(z5o)){z5o=v5o(z5o);}function D5o(E5o,F5o){return (E5o.datum.datum_type === r5o || E5o.datum.datum_type === s5o) && F5o.datumCode !== "WGS84";}if(A5o.datum && B5o.datum && (D5o(A5o,B5o) || D5o(B5o,A5o))){C5o=new u5o('WGS84');y5o(A5o,C5o,z5o);A5o=C5o;}if(A5o.axis !== "enu"){q5o(A5o,false,z5o);}if(A5o.projName === "longlat"){z5o.x*=o5o;z5o.y*=o5o;}else {if(A5o.to_meter){z5o.x*=A5o.to_meter;z5o.y*=A5o.to_meter;}A5o.inverse(z5o);;}if(A5o.from_greenwich){z5o.x+=A5o.from_greenwich;}z5o=t5o(A5o.datum,B5o.datum,z5o);if(B5o.from_greenwich){z5o.x-=B5o.from_greenwich;}if(B5o.projName === "longlat"){z5o.x*=p5o;z5o.y*=p5o;}else {B5o.forward(z5o);if(B5o.to_meter){z5o.x/=B5o.to_meter;z5o.y/=B5o.to_meter;}}if(B5o.axis !== "enu"){q5o(B5o,true,z5o);}return z5o;};},{"./Proj":2,"./adjust_axis":3,"./common/toPoint":23,"./datum_transform":31}],66:[function(L5o,M5o,P5o){var J5o=0.01745329251994329577;var I5o=L5o('./extend');function K5o(Q5o,R5o,S5o){Q5o[R5o]=S5o.map(function(U5o){var T5o={};H5o(U5o,T5o);return T5o;}).reduce(function(V5o,W5o){return I5o(V5o,W5o);},{});}function H5o(X5o,Z5o){var Y5o;if(!Array.isArray(X5o)){Z5o[X5o]=true;return;}else {Y5o=X5o.shift();if(Y5o === 'PARAMETER'){Y5o=X5o.shift();}if(X5o.length === 1){if(Array.isArray(X5o[0])){Z5o[Y5o]={};H5o(X5o[0],Z5o[Y5o]);}else {Z5o[Y5o]=X5o[0];}}else if(!X5o.length){Z5o[Y5o]=true;}else if(Y5o === 'TOWGS84'){Z5o[Y5o]=X5o;}else {Z5o[Y5o]={};if(['UNIT','PRIMEM','VERT_DATUM'].indexOf(Y5o) > -1){Z5o[Y5o]={name:X5o[0].toLowerCase(),convert:X5o[1]};if(X5o.length === 3){Z5o[Y5o].auth=X5o[2];}}else if(Y5o === 'SPHEROID'){Z5o[Y5o]={name:X5o[0],a:X5o[1],rf:X5o[2]};if(X5o.length === 4){Z5o[Y5o].auth=X5o[3];}}else if(['GEOGCS','GEOCCS','DATUM','VERT_CS','COMPD_CS','LOCAL_CS','FITTED_CS','LOCAL_DATUM'].indexOf(Y5o) > -1){X5o[0]=['name',X5o[0]];K5o(Z5o,Y5o,X5o);}else if(X5o.every(function(a6o){return Array.isArray(a6o);})){K5o(Z5o,Y5o,X5o);}else {H5o(X5o,Z5o[Y5o]);}}}}function N5o(b6o,d6o){var c6o=d6o[0];var e6o=d6o[1];if(!((c6o in b6o)) && (e6o in b6o)){b6o[c6o]=b6o[e6o];if(d6o.length === 3){b6o[c6o]=d6o[2](b6o[c6o]);}}}function G5o(f6o){return f6o * J5o;}function O5o(g6o){if(g6o.type === 'GEOGCS'){g6o.projName='longlat';}else if(g6o.type === 'LOCAL_CS'){g6o.projName='identity';g6o.local=true;}else {if(typeof g6o.PROJECTION === "object"){g6o.projName=Object.keys(g6o.PROJECTION)[0];}else {g6o.projName=g6o.PROJECTION;}}if(g6o.UNIT){g6o.units=g6o.UNIT.name.toLowerCase();if(g6o.units === 'metre'){g6o.units='meter';}if(g6o.UNIT.convert){if(g6o.type === 'GEOGCS'){if(g6o.DATUM && g6o.DATUM.SPHEROID){g6o.to_meter=parseFloat(g6o.UNIT.convert,10) * g6o.DATUM.SPHEROID.a;}}else {g6o.to_meter=parseFloat(g6o.UNIT.convert,10);}}}if(g6o.GEOGCS){if(g6o.GEOGCS.DATUM){g6o.datumCode=g6o.GEOGCS.DATUM.name.toLowerCase();}else {g6o.datumCode=g6o.GEOGCS.name.toLowerCase();}if(g6o.datumCode.slice(0,2) === 'd_'){g6o.datumCode=g6o.datumCode.slice(2);}if(g6o.datumCode === 'new_zealand_geodetic_datum_1949' || g6o.datumCode === 'new_zealand_1949'){g6o.datumCode='nzgd49';}if(g6o.datumCode === "wgs_1984"){if(g6o.PROJECTION === 'Mercator_Auxiliary_Sphere'){g6o.sphere=true;}g6o.datumCode='wgs84';}if(g6o.datumCode.slice(-6) === '_ferro'){g6o.datumCode=g6o.datumCode.slice(0,-6);}if(g6o.datumCode.slice(-8) === '_jakarta'){g6o.datumCode=g6o.datumCode.slice(0,-8);}if(~g6o.datumCode.indexOf('belge')){g6o.datumCode="rnb72";}if(g6o.GEOGCS.DATUM && g6o.GEOGCS.DATUM.SPHEROID){g6o.ellps=g6o.GEOGCS.DATUM.SPHEROID.name.replace('_19','').replace(/[Cc]larke\_18/,'clrk');if(g6o.ellps.toLowerCase().slice(0,13) === "international"){g6o.ellps='intl';}g6o.a=g6o.GEOGCS.DATUM.SPHEROID.a;g6o.rf=parseFloat(g6o.GEOGCS.DATUM.SPHEROID.rf,10);}if(~g6o.datumCode.indexOf('osgb_1936')){g6o.datumCode="osgb36";}}if(g6o.b && !isFinite(g6o.b)){g6o.b=g6o.a;}function h6o(l6o){var k6o=g6o.to_meter || 1;return parseFloat(l6o,10) * k6o;}var i6o=function(m6o){return N5o(g6o,m6o);};var j6o=[['standard_parallel_1','Standard_Parallel_1'],['standard_parallel_2','Standard_Parallel_2'],['false_easting','False_Easting'],['false_northing','False_Northing'],['central_meridian','Central_Meridian'],['latitude_of_origin','Latitude_Of_Origin'],['latitude_of_origin','Central_Parallel'],['scale_factor','Scale_Factor'],['k0','scale_factor'],['latitude_of_center','Latitude_of_center'],['lat0','latitude_of_center',G5o],['longitude_of_center','Longitude_Of_Center'],['longc','longitude_of_center',G5o],['x0','false_easting',h6o],['y0','false_northing',h6o],['long0','central_meridian',G5o],['lat0','latitude_of_origin',G5o],['lat0','standard_parallel_1',G5o],['lat1','standard_parallel_1',G5o],['lat2','standard_parallel_2',G5o],['alpha','azimuth',G5o],['srsCode','name']];j6o.forEach(i6o);if(!g6o.long0 && g6o.longc && (g6o.projName === 'Albers_Conic_Equal_Area' || g6o.projName === "Lambert_Azimuthal_Equal_Area")){g6o.long0=g6o.longc;}if(!g6o.lat_ts && g6o.lat1 && (g6o.projName === 'Stereographic_South_Pole' || g6o.projName === 'Polar Stereographic (variant B)')){g6o.lat0=G5o(g6o.lat1 > 0?90:-90);g6o.lat_ts=g6o.lat1;}}M5o.exports=function(r6o,s6o){var n6o=JSON.parse(("," + r6o).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,''));var p6o=n6o.shift();var q6o=n6o.shift();n6o.unshift(['name',q6o]);n6o.unshift(['type',p6o]);n6o.unshift('output');var o6o={};H5o(n6o,o6o);O5o(o6o.output);return I5o(s6o,o6o.output);};},{"./extend":34}],67:[function(P6o,Q6o,y6o){var z6o=6;var A6o='AJSAJS';var B6o='AFAFAF';var v6o=65;var t6o=73;var u6o=79;var w6o=86;var x6o=90;y6o.forward=function(S6o,R6o){R6o=R6o || 5;return J6o(H6o({lat:S6o[1],lon:S6o[0]}),R6o);};y6o.inverse=function(U6o){var T6o=D6o(G6o(U6o.toUpperCase()));if(T6o.lat && T6o.lon){return [T6o.lon,T6o.lat,T6o.lon,T6o.lat];}return [T6o.left,T6o.bottom,T6o.right,T6o.top];};y6o.toPoint=function(W6o){var V6o=D6o(G6o(W6o.toUpperCase()));if(V6o.lat && V6o.lon){return [V6o.lon,V6o.lat];}return [(V6o.left + V6o.right) / 2,(V6o.top + V6o.bottom) / 2];};function C6o(X6o){return X6o * (Math.PI / 180.0);}function E6o(Y6o){return 180.0 * (Y6o / Math.PI);}function H6o(m7o){var f7o=m7o.lat;var b7o=m7o.lon;var i7o=6378137.0;var Z6o=0.00669438;var j7o=0.9996;var n7o;var h7o;var k7o,d7o,g7o,a7o,o7o;var c7o=C6o(f7o);var p7o=C6o(b7o);var q7o;var e7o;e7o=Math.floor((b7o + 180) / 6) + 1;if(b7o === 180){e7o=60;}if(f7o >= 56.0 && f7o < 64.0 && b7o >= 3.0 && b7o < 12.0){e7o=32;}if(f7o >= 72.0 && f7o < 84.0){if(b7o >= 0.0 && b7o < 9.0){e7o=31;}else if(b7o >= 9.0 && b7o < 21.0){e7o=33;}else if(b7o >= 21.0 && b7o < 33.0){e7o=35;}else if(b7o >= 33.0 && b7o < 42.0){e7o=37;}}n7o=(e7o - 1) * 6 - 180 + 3;q7o=C6o(n7o);h7o=Z6o / (1 - Z6o);k7o=i7o / Math.sqrt(1 - Z6o * Math.sin(c7o) * Math.sin(c7o));d7o=Math.tan(c7o) * Math.tan(c7o);g7o=h7o * Math.cos(c7o) * Math.cos(c7o);a7o=Math.cos(c7o) * (p7o - q7o);o7o=i7o * ((1 - Z6o / 4 - 3 * Z6o * Z6o / 64 - 5 * Z6o * Z6o * Z6o / 256) * c7o - (3 * Z6o / 8 + 3 * Z6o * Z6o / 32 + 45 * Z6o * Z6o * Z6o / 1024) * Math.sin(2 * c7o) + (15 * Z6o * Z6o / 256 + 45 * Z6o * Z6o * Z6o / 1024) * Math.sin(4 * c7o) - 35 * Z6o * Z6o * Z6o / 3072 * Math.sin(6 * c7o));var r7o=j7o * k7o * (a7o + (1 - d7o + g7o) * a7o * a7o * a7o / 6.0 + (5 - 18 * d7o + d7o * d7o + 72 * g7o - 58 * h7o) * a7o * a7o * a7o * a7o * a7o / 120.0) + 500000.0;var l7o=j7o * (o7o + k7o * Math.tan(c7o) * (a7o * a7o / 2 + (5 - d7o + 9 * g7o + 4 * g7o * g7o) * a7o * a7o * a7o * a7o / 24.0 + (61 - 58 * d7o + d7o * d7o + 600 * g7o - 330 * h7o) * a7o * a7o * a7o * a7o * a7o * a7o / 720.0));if(f7o < 0.0){l7o+=10000000.0;;}return {northing:Math.round(l7o),easting:Math.round(r7o),zoneNumber:e7o,zoneLetter:I6o(f7o)};}function D6o(w7o){var K7o=w7o.northing;var L7o=w7o.easting;var M7o=w7o.zoneLetter;var D7o=w7o.zoneNumber;if(D7o < 0 || D7o > 60){return null;}var F7o=0.9996;var E7o=6378137.0;var t7o=0.00669438;var z7o;var u7o=(1 - Math.sqrt(1 - t7o)) / (1 + Math.sqrt(1 - t7o));var G7o,y7o,x7o,N7o,s7o,O7o;var P7o;var A7o,v7o;var Q7o=L7o - 500000.0;var H7o=K7o;if(M7o < 'N'){H7o-=10000000.0;;}P7o=(D7o - 1) * 6 - 180 + 3;z7o=t7o / (1 - t7o);O7o=H7o / F7o;A7o=O7o / (E7o * (1 - t7o / 4 - 3 * t7o * t7o / 64 - 5 * t7o * t7o * t7o / 256));v7o=A7o + (3 * u7o / 2 - 27 * u7o * u7o * u7o / 32) * Math.sin(2 * A7o) + (21 * u7o * u7o / 16 - 55 * u7o * u7o * u7o * u7o / 32) * Math.sin(4 * A7o) + 151 * u7o * u7o * u7o / 96 * Math.sin(6 * A7o);G7o=E7o / Math.sqrt(1 - t7o * Math.sin(v7o) * Math.sin(v7o));y7o=Math.tan(v7o) * Math.tan(v7o);x7o=z7o * Math.cos(v7o) * Math.cos(v7o);N7o=E7o * (1 - t7o) / Math.pow(1 - t7o * Math.sin(v7o) * Math.sin(v7o),1.5);s7o=Q7o / (G7o * F7o);var B7o=v7o - G7o * Math.tan(v7o) / N7o * (s7o * s7o / 2 - (5 + 3 * y7o + 10 * x7o - 4 * x7o * x7o - 9 * z7o) * s7o * s7o * s7o * s7o / 24 + (61 + 90 * y7o + 298 * x7o + 45 * y7o * y7o - 252 * z7o - 3 * x7o * x7o) * s7o * s7o * s7o * s7o * s7o * s7o / 720);B7o=E6o(B7o);var C7o=(s7o - (1 + 2 * y7o + x7o) * s7o * s7o * s7o / 6 + (5 - 2 * x7o + 28 * y7o - 3 * x7o * x7o + 8 * z7o + 24 * y7o * y7o) * s7o * s7o * s7o * s7o * s7o / 120) / Math.cos(v7o);C7o=P7o + E6o(C7o);var I7o;if(w7o.accuracy){var J7o=D6o({northing:w7o.northing + w7o.accuracy,easting:w7o.easting + w7o.accuracy,zoneLetter:w7o.zoneLetter,zoneNumber:w7o.zoneNumber});I7o={top:J7o.lat,right:J7o.lon,bottom:B7o,left:C7o};}else {I7o={lat:B7o,lon:C7o};}return I7o;}function I6o(R7o){var S7o='Z';if(84 >= R7o && R7o >= 72){S7o='X';}else if(72 > R7o && R7o >= 64){S7o='W';}else if(64 > R7o && R7o >= 56){S7o='V';}else if(56 > R7o && R7o >= 48){S7o='U';}else if(48 > R7o && R7o >= 40){S7o='T';}else if(40 > R7o && R7o >= 32){S7o='S';}else if(32 > R7o && R7o >= 24){S7o='R';}else if(24 > R7o && R7o >= 16){S7o='Q';}else if(16 > R7o && R7o >= 8){S7o='P';}else if(8 > R7o && R7o >= 0){S7o='N';}else if(0 > R7o && R7o >= -8){S7o='M';}else if(-8 > R7o && R7o >= -16){S7o='L';}else if(-16 > R7o && R7o >= -24){S7o='K';}else if(-24 > R7o && R7o >= -32){S7o='J';}else if(-32 > R7o && R7o >= -40){S7o='H';}else if(-40 > R7o && R7o >= -48){S7o='G';}else if(-48 > R7o && R7o >= -56){S7o='F';}else if(-56 > R7o && R7o >= -64){S7o='E';}else if(-64 > R7o && R7o >= -72){S7o='D';}else if(-72 > R7o && R7o >= -80){S7o='C';}return S7o;}function J6o(T7o,W7o){var U7o="00000" + T7o.easting,V7o="00000" + T7o.northing;return T7o.zoneNumber + T7o.zoneLetter + K6o(T7o.easting,T7o.northing,T7o.zoneNumber) + U7o.substr(U7o.length - 5,W7o) + V7o.substr(V7o.length - 5,W7o);}function K6o(a8o,b8o,c8o){var X7o=F6o(c8o);var Y7o=Math.floor(a8o / 100000);var Z7o=Math.floor(b8o / 100000) % 20;return L6o(Y7o,Z7o,X7o);}function F6o(e8o){var d8o=e8o % z6o;if(d8o === 0){d8o=z6o;}return d8o;}function L6o(m8o,n8o,o8o){var k8o=o8o - 1;var i8o=A6o.charCodeAt(k8o);var j8o=B6o.charCodeAt(k8o);var f8o=i8o + m8o - 1;var g8o=j8o + n8o;var h8o=false;if(f8o > x6o){f8o=f8o - x6o + v6o - 1;h8o=true;}if(f8o === t6o || i8o < t6o && f8o > t6o || (f8o > t6o || i8o < t6o) && h8o){f8o++;}if(f8o === u6o || i8o < u6o && f8o > u6o || (f8o > u6o || i8o < u6o) && h8o){f8o++;if(f8o === t6o){f8o++;}}if(f8o > x6o){f8o=f8o - x6o + v6o - 1;}if(g8o > w6o){g8o=g8o - w6o + v6o - 1;h8o=true;}else {h8o=false;}if(g8o === t6o || j8o < t6o && g8o > t6o || (g8o > t6o || j8o < t6o) && h8o){g8o++;}if(g8o === u6o || j8o < u6o && g8o > u6o || (g8o > u6o || j8o < u6o) && h8o){g8o++;if(g8o === t6o){g8o++;}}if(g8o > w6o){g8o=g8o - w6o + v6o - 1;}var l8o=String.fromCharCode(f8o) + String.fromCharCode(g8o);return l8o;}function G6o(q8o){if(q8o && q8o.length === 0){throw "MGRSPoint coverting from nothing";}var w8o=q8o.length;var t8o=null;var x8o="";var D8o;var p8o=0;while(!(/[A-Z]/).test(D8o=q8o.charAt(p8o))){if(p8o >= 2){throw "MGRSPoint bad conversion from: " + q8o;}x8o+=D8o;p8o++;}var y8o=parseInt(x8o,10);if(p8o === 0 || p8o + 3 > w8o){throw "MGRSPoint bad conversion from: " + q8o;}var r8o=q8o.charAt(p8o++);if(r8o <= 'A' || r8o === 'B' || r8o === 'Y' || r8o >= 'Z' || r8o === 'I' || r8o === 'O'){throw "MGRSPoint zone letter " + r8o + " not handled: " + q8o;}t8o=q8o.substring(p8o,p8o+=2);var z8o=F6o(y8o);var E8o=M6o(t8o.charAt(0),z8o);var u8o=N6o(t8o.charAt(1),z8o);while(u8o < O6o(r8o)){u8o+=2000000;}var A8o=w8o - p8o;if(A8o % 2 !== 0){throw "MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters" + q8o;}var s8o=A8o / 2;var B8o=0.0;var C8o=0.0;var v8o,F8o,G8o,H8o,I8o;if(s8o > 0){v8o=100000.0 / Math.pow(10,s8o);F8o=q8o.substring(p8o,p8o + s8o);B8o=parseFloat(F8o) * v8o;G8o=q8o.substring(p8o + s8o);C8o=parseFloat(G8o) * v8o;}H8o=B8o + E8o;I8o=C8o + u8o;return {easting:H8o,northing:I8o,zoneLetter:r8o,zoneNumber:y8o,accuracy:v8o};}function M6o(M8o,N8o){var J8o=A6o.charCodeAt(N8o - 1);var K8o=100000.0;var L8o=false;while(J8o !== M8o.charCodeAt(0)){J8o++;if(J8o === t6o){J8o++;}if(J8o === u6o){J8o++;}if(J8o > x6o){if(L8o){throw "Bad character: " + M8o;}J8o=v6o;L8o=true;}K8o+=100000.0;}return K8o;}function N6o(P8o,S8o){if(P8o > 'V'){throw "MGRSPoint given invalid Northing " + P8o;}var O8o=B6o.charCodeAt(S8o - 1);var Q8o=0.0;var R8o=false;while(O8o !== P8o.charCodeAt(0)){O8o++;if(O8o === t6o){O8o++;}if(O8o === u6o){O8o++;}if(O8o > w6o){if(R8o){throw "Bad character: " + P8o;}O8o=v6o;R8o=true;}Q8o+=100000.0;}return Q8o;}function O6o(U8o){var T8o;switch(U8o){case 'C':T8o=1100000.0;break;case 'D':T8o=2000000.0;break;case 'E':T8o=2800000.0;break;case 'F':T8o=3700000.0;break;case 'G':T8o=4600000.0;break;case 'H':T8o=5500000.0;break;case 'J':T8o=6400000.0;break;case 'K':T8o=7300000.0;break;case 'L':T8o=8200000.0;break;case 'M':T8o=9100000.0;break;case 'N':T8o=0.0;break;case 'P':T8o=800000.0;break;case 'Q':T8o=1700000.0;break;case 'R':T8o=2600000.0;break;case 'S':T8o=3500000.0;break;case 'T':T8o=4400000.0;break;case 'U':T8o=5300000.0;break;case 'V':T8o=6200000.0;break;case 'W':T8o=7000000.0;break;case 'X':T8o=7900000.0;break;default:T8o=-1.0;}if(T8o >= 0.0){return T8o;}else {throw "Invalid zone letter: " + U8o;}}},{}],68:[function(W8o,V8o,X8o){V8o.exports={"name":"proj4","version":"2.3.14","description":"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.","main":"lib/index.js","directories":{"test":"test","doc":"docs"},"scripts":{"test":"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},"repository":{"type":"git","url":"git://github.com/proj4js/proj4js.git"},"author":"","license":"MIT","jam":{"main":"dist/proj4.js","include":["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},"devDependencies":{"grunt-cli":"~0.1.13","grunt":"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0","chai":"~1.8.1","mocha":"~1.17.1","grunt-mocha-phantomjs":"~0.4.0","browserify":"~12.0.1","grunt-browserify":"~4.0.1","grunt-contrib-uglify":"~0.11.1","curl":"git://github.com/cujojs/curl.git","istanbul":"~0.2.4","tin":"~0.4.0"},"dependencies":{"mgrs":"~0.0.2"}};},{}],"./includedProjections":[function(Y8o,Z8o,a9o){Z8o.exports=Y8o('hTEDpn');},{}],"hTEDpn":[function(b9o,d9o,e9o){var c9o=[b9o('./lib/projections/tmerc'),b9o('./lib/projections/utm'),b9o('./lib/projections/sterea'),b9o('./lib/projections/stere'),b9o('./lib/projections/somerc'),b9o('./lib/projections/omerc'),b9o('./lib/projections/lcc'),b9o('./lib/projections/krovak'),b9o('./lib/projections/cass'),b9o('./lib/projections/laea'),b9o('./lib/projections/aea'),b9o('./lib/projections/gnom'),b9o('./lib/projections/cea'),b9o('./lib/projections/eqc'),b9o('./lib/projections/poly'),b9o('./lib/projections/nzmg'),b9o('./lib/projections/mill'),b9o('./lib/projections/sinu'),b9o('./lib/projections/moll'),b9o('./lib/projections/eqdc'),b9o('./lib/projections/vandg'),b9o('./lib/projections/aeqd')];d9o.exports=function(f9o){c9o.forEach(function(g9o){f9o.Proj.projections.add(g9o);});};},{"./lib/projections/aea":40,"./lib/projections/aeqd":41,"./lib/projections/cass":42,"./lib/projections/cea":43,"./lib/projections/eqc":44,"./lib/projections/eqdc":45,"./lib/projections/gnom":47,"./lib/projections/krovak":48,"./lib/projections/laea":49,"./lib/projections/lcc":50,"./lib/projections/mill":53,"./lib/projections/moll":54,"./lib/projections/nzmg":55,"./lib/projections/omerc":56,"./lib/projections/poly":57,"./lib/projections/sinu":58,"./lib/projections/somerc":59,"./lib/projections/stere":60,"./lib/projections/sterea":61,"./lib/projections/tmerc":62,"./lib/projections/utm":63,"./lib/projections/vandg":64}]},{},[36])(36);});(function(h9o){var i9o,j9o;if(typeof define === 'function' && define.amd){define(['leaflet','proj4'],h9o);}else if(typeof module === 'object' && typeof module.exports === "object"){i9o=require('leaflet');j9o=require('proj4');module.exports=h9o(i9o,j9o);}else {if(typeof window.L === 'undefined' || typeof window.proj4 === 'undefined')throw 'Leaflet and proj4 must be loaded first';h9o(window.L,window.proj4);}})(function(k9o,l9o){k9o.Proj={};k9o.Proj._isProj4Obj=function(m9o){return typeof m9o.inverse !== 'undefined' && typeof m9o.forward !== 'undefined';};k9o.Proj.ScaleDependantTransformation=function(n9o){this.scaleTransforms=n9o;};k9o.Proj.ScaleDependantTransformation.prototype.transform=function(p9o,o9o){return this.scaleTransforms[o9o].transform(p9o,o9o);};k9o.Proj.ScaleDependantTransformation.prototype.untransform=function(r9o,q9o){return this.scaleTransforms[q9o].untransform(r9o,q9o);};k9o.Proj.Projection=k9o.Class.extend({initialize:function(u9o,v9o){if(k9o.Proj._isProj4Obj(u9o)){this._proj=u9o;}else {var s9o=u9o;if(v9o){l9o.defs(s9o,v9o);}else if(l9o.defs[s9o] === undefined){var t9o=s9o.split(':');if(t9o.length > 3){s9o=t9o[t9o.length - 3] + ':' + t9o[t9o.length - 1];}if(l9o.defs[s9o] === undefined){throw 'No projection definition for code ' + s9o;}}this._proj=l9o(s9o);}},project:function(x9o){var w9o=this._proj.forward([x9o.lng,x9o.lat]);return new k9o.Point(w9o[0],w9o[1]);},unproject:function(z9o,A9o){var y9o=this._proj.inverse([z9o.x,z9o.y]);return new k9o.LatLng(y9o[1],y9o[0],A9o);}});k9o.Proj.CRS=k9o.Class.extend({includes:k9o.CRS,options:{transformation:new k9o.Transformation(1,0,-1,0)},initialize:function(D9o,G9o,I9o){var C9o,E9o,H9o,F9o;if(k9o.Proj._isProj4Obj(D9o)){E9o=D9o;C9o=E9o.srsCode;F9o=G9o || ({});this.projection=new k9o.Proj.Projection(E9o);}else {C9o=D9o;H9o=G9o;F9o=I9o || ({});this.projection=new k9o.Proj.Projection(C9o,H9o);}k9o.Util.setOptions(this,F9o);this.code=C9o;this.transformation=this.options.transformation;if(this.options.origin){this.transformation=new k9o.Transformation(1,-this.options.origin[0],-1,this.options.origin[1]);}if(this.options.scales){this._scales=this.options.scales;}else if(this.options.resolutions){this._scales=[];for(var B9o=this.options.resolutions.length - 1;B9o >= 0;B9o--){if(this.options.resolutions[B9o]){this._scales[B9o]=1 / this.options.resolutions[B9o];}}}},scale:function(K9o){var J9o=Math.floor(K9o),L9o,M9o,N9o,O9o;if(K9o === J9o){return this._scales[K9o];}else {L9o=this._scales[J9o];M9o=this._scales[J9o + 1];N9o=M9o - L9o;O9o=K9o - J9o;return L9o + N9o * O9o;}},getSize:function(T9o){var Q9o=this.options.bounds,P9o,R9o,S9o;if(Q9o){P9o=this.scale(T9o);R9o=this.transformation.transform(Q9o.min,P9o);S9o=this.transformation.transform(Q9o.max,P9o);return k9o.point(Math.abs(S9o.x - R9o.x),Math.abs(S9o.y - R9o.y));}else {P9o=256 * Math.pow(2,T9o);return k9o.point(P9o,P9o);}}});k9o.Proj.CRS.TMS=k9o.Proj.CRS.extend({options:{tileSize:256},initialize:function(W9o,X9o,Y9o,c0p){var Z9o,a0p,b0p,U9o,V9o;if(k9o.Proj._isProj4Obj(W9o)){b0p=W9o;U9o=X9o;V9o=Y9o || ({});V9o.origin=[U9o[0],U9o[3]];k9o.Proj.CRS.prototype.initialize.call(this,b0p,V9o);}else {Z9o=W9o;a0p=X9o;U9o=Y9o;V9o=c0p || ({});V9o.origin=[U9o[0],U9o[3]];k9o.Proj.CRS.prototype.initialize.call(this,Z9o,a0p,V9o);}this.projectedBounds=U9o;this._sizes=this._calculateSizes();},_calculateSizes:function(){var g0p=[],e0p=this.projectedBounds,f0p,d0p,h0p,i0p;for(d0p=this._scales.length - 1;d0p >= 0;d0p--){if(this._scales[d0p]){f0p=this.options.tileSize / this._scales[d0p];h0p=Math.ceil(parseFloat((e0p[2] - e0p[0]) / f0p).toPrecision(3)) * f0p * this._scales[d0p];i0p=Math.ceil(parseFloat((e0p[3] - e0p[1]) / f0p).toPrecision(3)) * f0p * this._scales[d0p];g0p[d0p]=k9o.point(h0p,i0p);}}return g0p;},getSize:function(j0p){return this._sizes[j0p];}});k9o.Proj.TileLayer={};k9o.Proj.TileLayer.TMS=k9o.TileLayer.extend({options:{continuousWorld:true},initialize:function(r0p,p0p,s0p){var m0p=true,n0p,q0p,l0p,k0p;if(!(p0p instanceof k9o.Proj.CRS.TMS)){throw 'CRS is not L.Proj.CRS.TMS.';}k9o.TileLayer.prototype.initialize.call(this,r0p,s0p);this.options.tms=false;this.crs=p0p;l0p=this.crs.projectedBounds;for(k0p=this.options.minZoom;k0p < this.options.maxZoom && m0p;k0p++){var o0p=(l0p[3] - l0p[1]) / this._projectedTileSize(k0p);m0p=Math.abs(o0p - Math.round(o0p)) > 1e-3;}if(!m0p){n0p={};for(k0p=this.options.minZoom;k0p < this.options.maxZoom;k0p++){q0p=l0p[1] + Math.ceil((l0p[3] - l0p[1]) / this._projectedTileSize(k0p)) * this._projectedTileSize(k0p);n0p[this.crs.scale(k0p)]=new k9o.Transformation(1,-l0p[0],-1,q0p);}this.crs=new k9o.Proj.CRS.TMS(this.crs.projection._proj,l0p,this.crs.options);this.crs.transformation=new k9o.Proj.ScaleDependantTransformation(n0p);}},getTileUrl:function(t0p){var u0p=this._map.getZoom(),v0p=Math.ceil((this.crs.projectedBounds[3] - this.crs.projectedBounds[1]) / this._projectedTileSize(u0p));return k9o.Util.template(this._url,k9o.Util.extend({s:this._getSubdomain(t0p),z:this._getZoomForUrl(),x:t0p.x,y:v0p - t0p.y - 1},this.options));},_projectedTileSize:function(w0p){return this.options.tileSize / this.crs.scale(w0p);}});k9o.Proj.GeoJSON=k9o.GeoJSON.extend({initialize:function(x0p,y0p){this._callLevel=0;k9o.GeoJSON.prototype.initialize.call(this,null,y0p);if(x0p){this.addData(x0p);}},addData:function(z0p){var A0p;if(z0p){if(z0p.crs && z0p.crs.type === 'name'){A0p=new k9o.Proj.CRS(z0p.crs.properties.name);}else if(z0p.crs && z0p.crs.type){A0p=new k9o.Proj.CRS(z0p.crs.type + ':' + z0p.crs.properties.code);}if(A0p !== undefined){this.options.coordsToLatLng=function(B0p){var C0p=k9o.point(B0p[0],B0p[1]);return A0p.projection.unproject(C0p);};}}this._callLevel++;try{k9o.GeoJSON.prototype.addData.call(this,z0p);}finally{this._callLevel--;if(this._callLevel === 0){delete this.options.coordsToLatLng;}}}});k9o.Proj.geoJson=function(D0p,E0p){return new k9o.Proj.GeoJSON(D0p,E0p);};k9o.Proj.ImageOverlay=k9o.ImageOverlay.extend({initialize:function(F0p,G0p,H0p){k9o.ImageOverlay.prototype.initialize.call(this,F0p,null,H0p);this._projBounds=G0p;},_animateZoom:function(I0p){var K0p=k9o.point(this._projBounds.min.x,this._projBounds.max.y),L0p=k9o.point(this._projBounds.max.x,this._projBounds.min.y),J0p=this._projectedToNewLayerPoint(K0p,I0p.zoom,I0p.center),M0p=this._projectedToNewLayerPoint(L0p,I0p.zoom,I0p.center).subtract(J0p),N0p=J0p.add(M0p._multiplyBy((1 - 1 / I0p.scale) / 2));this._image.style[k9o.DomUtil.TRANSFORM]=k9o.DomUtil.getTranslateString(N0p) + ' scale(' + this._map.getZoomScale(I0p.zoom) + ') ';},_reset:function(){var P0p=this._map.getZoom(),Q0p=this._map.getPixelOrigin(),R0p=k9o.bounds(this._transform(this._projBounds.min,P0p)._subtract(Q0p),this._transform(this._projBounds.max,P0p)._subtract(Q0p)),S0p=R0p.getSize(),O0p=this._image;k9o.DomUtil.setPosition(O0p,R0p.min);O0p.style.width=S0p.x + 'px';O0p.style.height=S0p.y + 'px';},_projectedToNewLayerPoint:function(V0p,T0p,W0p){var U0p=this._map._getNewTopLeftPoint(W0p,T0p).add(this._map._getMapPanePos());return this._transform(V0p,T0p)._subtract(U0p);},_transform:function(a1p,b1p){var X0p=this._map.options.crs,Y0p=X0p.transformation,Z0p=X0p.scale(b1p);return Y0p.transform(a1p,Z0p);}});k9o.Proj.imageOverlay=function(c1p,d1p,e1p){return new k9o.Proj.ImageOverlay(c1p,d1p,e1p);};if(typeof k9o.CRS !== 'undefined'){k9o.CRS.proj4js=(function(){return function(h1p,i1p,g1p,f1p){f1p=f1p || ({});if(g1p){f1p.transformation=g1p;}return new k9o.Proj.CRS(h1p,i1p,f1p);};})();}return k9o.Proj;});var RTree=function(m1p){var k1p=3;var n1p=6;if(!isNaN(m1p)){k1p=Math.floor(m1p / 2.0);n1p=m1p;}var j1p={x:0,y:0,w:0,h:0,id:"root",nodes:[]};var o1p=function(x1p){return Object.prototype.toString.call(x1p) === '[object Array]';};var r1p=(function(){var y1p={};return function(z1p){var A1p=0;if((z1p in y1p)){A1p=y1p[z1p]++;}else {y1p[z1p]=0;}return z1p + "_" + A1p;};})();RTree.Rectangle.squarified_ratio=function(D1p,E1p,G1p){var B1p=(D1p + E1p) / 2.0;var C1p=D1p * E1p;var F1p=C1p / (B1p * B1p);return C1p * G1p / F1p;};var p1p=function(M1p,S1p,Q1p){var L1p=[];var N1p=[];var O1p=[];var R1p=1;if(!M1p || !RTree.Rectangle.overlap_rectangle(M1p,Q1p))return O1p;var I1p={x:M1p.x,y:M1p.y,w:M1p.w,h:M1p.h,target:S1p};N1p.push(Q1p.nodes.length);L1p.push(Q1p);do {var H1p=L1p.pop();var K1p=N1p.pop() - 1;if(("target" in I1p)){while(K1p >= 0){var J1p=H1p.nodes[K1p];if(RTree.Rectangle.overlap_rectangle(I1p,J1p)){if(I1p.target && ("leaf" in J1p) && J1p.leaf === I1p.target || !I1p.target && (("leaf" in J1p) || RTree.Rectangle.contains_rectangle(J1p,I1p))){if(("nodes" in J1p)){O1p=l1p(J1p,true,[],J1p);H1p.nodes.splice(K1p,1);}else {O1p=H1p.nodes.splice(K1p,1);}RTree.Rectangle.make_MBR(H1p.nodes,H1p);delete I1p.target;if(H1p.nodes.length < k1p){I1p.nodes=l1p(H1p,true,[],H1p);}break;}else if(("nodes" in J1p)){R1p+=1;N1p.push(K1p);L1p.push(H1p);H1p=J1p;K1p=J1p.nodes.length;}}K1p-=1;}}else if(("nodes" in I1p)){H1p.nodes.splice(K1p + 1,1);if(H1p.nodes.length > 0)RTree.Rectangle.make_MBR(H1p.nodes,H1p);for(var P1p=0;P1p < I1p.nodes.length;P1p++){q1p(I1p.nodes[P1p],H1p);}I1p.nodes.length=0;if(L1p.length == 0 && H1p.nodes.length <= 1){I1p.nodes=l1p(H1p,true,I1p.nodes,H1p);H1p.nodes.length=0;L1p.push(H1p);N1p.push(1);}else if(L1p.length > 0 && H1p.nodes.length < k1p){I1p.nodes=l1p(H1p,true,I1p.nodes,H1p);H1p.nodes.length=0;}else {delete I1p.nodes;;}}else {RTree.Rectangle.make_MBR(H1p.nodes,H1p);}R1p-=1;}while(L1p.length > 0);return O1p;};var s1p=function(V1p,b2p){var U1p=-1;var Y1p=[];var c2p;var f2p=function(g2p,h2p){return function(i2p){g2p._attach_data(h2p,i2p);};};Y1p.push(b2p);var W1p=b2p.nodes;do {if(U1p != -1){Y1p.push(W1p[U1p]);W1p=W1p[U1p].nodes;U1p=-1;}for(var X1p=W1p.length - 1;X1p >= 0;X1p--){var T1p=W1p[X1p];if(("leaf" in T1p)){U1p=-1;break;}var Z1p=RTree.Rectangle.squarified_ratio(T1p.w,T1p.h,T1p.nodes.length + 1);var d2p=Math.max(T1p.x + T1p.w,V1p.x + V1p.w) - Math.min(T1p.x,V1p.x);var e2p=Math.max(T1p.y + T1p.h,V1p.y + V1p.h) - Math.min(T1p.y,V1p.y);var a2p=RTree.Rectangle.squarified_ratio(d2p,e2p,T1p.nodes.length + 2);if(U1p < 0 || Math.abs(a2p - Z1p) < c2p){c2p=Math.abs(a2p - Z1p);U1p=X1p;}}}while(U1p != -1);return Y1p;};var t1p=function(k2p){var j2p=v1p(k2p);while(k2p.length > 0){u1p(k2p,j2p[0],j2p[1]);}return j2p;};var u1p=function(r2p,l2p,m2p){var y2p=RTree.Rectangle.squarified_ratio(l2p.w,l2p.h,l2p.nodes.length + 1);var z2p=RTree.Rectangle.squarified_ratio(m2p.w,m2p.h,m2p.nodes.length + 1);var v2p;var w2p;var x2p;for(var s2p=r2p.length - 1;s2p >= 0;s2p--){var n2p=r2p[s2p];var o2p={};o2p.x=Math.min(l2p.x,n2p.x);o2p.y=Math.min(l2p.y,n2p.y);o2p.w=Math.max(l2p.x + l2p.w,n2p.x + n2p.w) - o2p.x;o2p.h=Math.max(l2p.y + l2p.h,n2p.y + n2p.h) - o2p.y;var t2p=Math.abs(RTree.Rectangle.squarified_ratio(o2p.w,o2p.h,l2p.nodes.length + 2) - y2p);var p2p={};p2p.x=Math.min(m2p.x,n2p.x);p2p.y=Math.min(m2p.y,n2p.y);p2p.w=Math.max(m2p.x + m2p.w,n2p.x + n2p.w) - p2p.x;p2p.h=Math.max(m2p.y + m2p.h,n2p.y + n2p.h) - p2p.y;var u2p=Math.abs(RTree.Rectangle.squarified_ratio(p2p.w,p2p.h,m2p.nodes.length + 2) - z2p);if(!w2p || !v2p || Math.abs(u2p - t2p) < v2p){w2p=s2p;v2p=Math.abs(u2p - t2p);x2p=u2p < t2p?m2p:l2p;}}var q2p=r2p.splice(w2p,1)[0];if(l2p.nodes.length + r2p.length + 1 <= k1p){l2p.nodes.push(q2p);RTree.Rectangle.expand_rectangle(l2p,q2p);}else if(m2p.nodes.length + r2p.length + 1 <= k1p){m2p.nodes.push(q2p);RTree.Rectangle.expand_rectangle(m2p,q2p);}else {x2p.nodes.push(q2p);RTree.Rectangle.expand_rectangle(x2p,q2p);}};var v1p=function(A2p){var B2p=A2p.length - 1;var G2p=0;var C2p=A2p.length - 1;var H2p=0;var D2p,E2p;for(var F2p=A2p.length - 2;F2p >= 0;F2p--){var I2p=A2p[F2p];if(I2p.x > A2p[G2p].x)G2p=F2p;else if(I2p.x + I2p.w < A2p[B2p].x + A2p[B2p].w)B2p=F2p;if(I2p.y > A2p[H2p].y)H2p=F2p;else if(I2p.y + I2p.h < A2p[C2p].y + A2p[C2p].h)C2p=F2p;}var J2p=Math.abs(A2p[B2p].x + A2p[B2p].w - A2p[G2p].x);var K2p=Math.abs(A2p[C2p].y + A2p[C2p].h - A2p[H2p].y);if(J2p > K2p){if(B2p > G2p){D2p=A2p.splice(B2p,1)[0];E2p=A2p.splice(G2p,1)[0];}else {E2p=A2p.splice(G2p,1)[0];D2p=A2p.splice(B2p,1)[0];}}else {if(C2p > H2p){D2p=A2p.splice(C2p,1)[0];E2p=A2p.splice(H2p,1)[0];}else {E2p=A2p.splice(H2p,1)[0];D2p=A2p.splice(C2p,1)[0];}}return [{x:D2p.x,y:D2p.y,w:D2p.w,h:D2p.h,nodes:[D2p]},{x:E2p.x,y:E2p.y,w:E2p.w,h:E2p.h,nodes:[E2p]}];};var w1p=function(L2p,M2p){L2p.nodes=M2p.nodes;L2p.x=M2p.x;L2p.y=M2p.y;L2p.w=M2p.w;L2p.h=M2p.h;return L2p;};var l1p=function(S2p,U2p,P2p,T2p){var O2p=[];if(!RTree.Rectangle.overlap_rectangle(S2p,T2p))return P2p;var V2p=function(W2p,X2p){return function(Y2p){W2p._attach_data(X2p,Y2p);};};O2p.push(T2p.nodes);do {var R2p=O2p.pop();for(var Q2p=R2p.length - 1;Q2p >= 0;Q2p--){var N2p=R2p[Q2p];if(RTree.Rectangle.overlap_rectangle(S2p,N2p)){if(("nodes" in N2p)){O2p.push(N2p.nodes);}else if(("leaf" in N2p)){if(!U2p)P2p.push(N2p.leaf);else P2p.push(N2p);};}}}while(O2p.length > 0);return P2p;};var q1p=function(b3p,c3p){var Z2p;if(c3p.nodes.length == 0){c3p.x=b3p.x;c3p.y=b3p.y;c3p.w=b3p.w;c3p.h=b3p.h;c3p.nodes.push(b3p);return;}var d3p=s1p(b3p,c3p);var a3p=b3p;do {if(Z2p && ("nodes" in Z2p) && Z2p.nodes.length == 0){var h3p=Z2p;Z2p=d3p.pop();for(var e3p=0;e3p < Z2p.nodes.length;e3p++){if(Z2p.nodes[e3p] === h3p || Z2p.nodes[e3p].nodes.length == 0){Z2p.nodes.splice(e3p,1);break;}}}else {Z2p=d3p.pop();}if(("leaf" in a3p) || ("nodes" in a3p) || o1p(a3p)){if(o1p(a3p)){for(var f3p=0;f3p < a3p.length;f3p++){RTree.Rectangle.expand_rectangle(Z2p,a3p[f3p]);}Z2p.nodes=Z2p.nodes.concat(a3p);}else {RTree.Rectangle.expand_rectangle(Z2p,a3p);Z2p.nodes.push(a3p);;}if(Z2p.nodes.length <= n1p){a3p={x:Z2p.x,y:Z2p.y,w:Z2p.w,h:Z2p.h};}else {var g3p=t1p(Z2p.nodes);a3p=g3p;if(d3p.length < 1){Z2p.nodes.push(g3p[0]);d3p.push(Z2p);a3p=g3p[1];};}}else {RTree.Rectangle.expand_rectangle(Z2p,a3p);a3p={x:Z2p.x,y:Z2p.y,w:Z2p.w,h:Z2p.h};}}while(d3p.length > 0);};this.get_tree=function(){return j1p;};this.set_tree=function(j3p,i3p){if(!i3p)i3p=j1p;return w1p(i3p,j3p);};this.search=function(k3p,l3p,m3p){if(arguments.length < 1)throw "Wrong number of arguments. RT.Search requires at least a bounding rectangle.";switch(arguments.length){case 1:arguments[1]=false;case 2:arguments[2]=[];case 3:arguments[3]=j1p;default:arguments.length=4;}return l1p.apply(this,arguments);};this.toJSON=function(s3p,q3p){var r3p=[];var t3p=[];var u3p={};var x3p=3;var w3p=1;var o3p="";if(s3p && !RTree.Rectangle.overlap_rectangle(s3p,j1p))return "";if(!q3p){t3p.push(j1p.nodes.length);r3p.push(j1p.nodes);o3p+="var main_tree = {x:" + j1p.x.toFixed() + ",y:" + j1p.y.toFixed() + ",w:" + j1p.w.toFixed() + ",h:" + j1p.h.toFixed() + ",nodes:[";}else {x3p+=4;t3p.push(q3p.nodes.length);r3p.push(q3p.nodes);o3p+="var main_tree = {x:" + q3p.x.toFixed() + ",y:" + q3p.y.toFixed() + ",w:" + q3p.w.toFixed() + ",h:" + q3p.h.toFixed() + ",nodes:[";}do {var v3p=r3p.pop();var p3p=t3p.pop() - 1;if(p3p >= 0 && p3p < v3p.length - 1)o3p+=",";while(p3p >= 0){var n3p=v3p[p3p];if(!s3p || RTree.Rectangle.overlap_rectangle(s3p,n3p)){if(n3p.nodes){if(w3p >= x3p){var B3p=u3p.length;var y3p=r1p("saved_subtree");o3p+="{x:" + n3p.x.toFixed() + ",y:" + n3p.y.toFixed() + ",w:" + n3p.w.toFixed() + ",h:" + n3p.h.toFixed() + ",load:'" + y3p + ".js'}";u3p[y3p]=this.toJSON(s3p,n3p);if(p3p > 0)o3p+=",";}else {o3p+="{x:" + n3p.x.toFixed() + ",y:" + n3p.y.toFixed() + ",w:" + n3p.w.toFixed() + ",h:" + n3p.h.toFixed() + ",nodes:[";w3p+=1;t3p.push(p3p);r3p.push(v3p);v3p=n3p.nodes;p3p=n3p.nodes.length;}}else if(n3p.leaf){var A3p=n3p.leaf.toJSON?n3p.leaf.toJSON():JSON.stringify(n3p.leaf);o3p+="{x:" + n3p.x.toFixed() + ",y:" + n3p.y.toFixed() + ",w:" + n3p.w.toFixed() + ",h:" + n3p.h.toFixed() + ",leaf:" + A3p + "}";if(p3p > 0)o3p+=",";}else if(n3p.load){o3p+="{x:" + n3p.x.toFixed() + ",y:" + n3p.y.toFixed() + ",w:" + n3p.w.toFixed() + ",h:" + n3p.h.toFixed() + ",load:'" + n3p.load + "'}";if(p3p > 0)o3p+=",";}}p3p-=1;}if(p3p < 0){o3p+="]}";w3p-=1;}}while(r3p.length > 0);o3p+=";";for(var z3p in u3p){o3p+="\nvar " + z3p + " = function(){" + u3p[z3p] + " return(main_tree);};";}return o3p;};this.remove=function(E3p,F3p){if(arguments.length < 1)throw "Wrong number of arguments. RT.remove requires at least a bounding rectangle.";switch(arguments.length){case 1:arguments[1]=false;case 2:arguments[2]=j1p;default:arguments.length=3;}if(arguments[1] === false){var D3p=0;var C3p=[];do {D3p=C3p.length;C3p=C3p.concat(p1p.apply(this,arguments));}while(D3p != C3p.length);return C3p;}else {return p1p.apply(this,arguments);}};this.insert=function(G3p,H3p){if(arguments.length < 2)throw "Wrong number of arguments. RT.Insert requires at least a bounding rectangle and an object.";return q1p({x:G3p.x,y:G3p.y,w:G3p.w,h:G3p.h,leaf:H3p},j1p);};;};RTree.Rectangle=function(I3p,P3p,Q3p,R3p){var L3p,N3p,M3p,O3p,J3p,K3p;if(I3p.x){L3p=I3p.x;M3p=I3p.y;if(I3p.w !== 0 && !I3p.w && I3p.x2){J3p=I3p.x2 - I3p.x;K3p=I3p.y2 - I3p.y;}else {J3p=I3p.w;K3p=I3p.h;}N3p=L3p + J3p;O3p=M3p + K3p;;}else {L3p=I3p;M3p=P3p;J3p=Q3p;K3p=R3p;N3p=L3p + J3p;O3p=M3p + K3p;;}this.x1=this.x=function(){return L3p;};this.y1=this.y=function(){return M3p;};this.x2=function(){return N3p;};this.y2=function(){return O3p;};this.w=function(){return J3p;};this.h=function(){return K3p;};this.toJSON=function(){return '{"x":' + L3p.toString() + ', "y":' + M3p.toString() + ', "w":' + J3p.toString() + ', "h":' + K3p.toString() + '}';};this.overlap=function(S3p){return this.x() < S3p.x2() && this.x2() > S3p.x() && this.y() < S3p.y2() && this.y2() > S3p.y();};this.expand=function(T3p){var U3p=Math.min(this.x(),T3p.x());var V3p=Math.min(this.y(),T3p.y());J3p=Math.max(this.x2(),T3p.x2()) - U3p;K3p=Math.max(this.y2(),T3p.y2()) - V3p;L3p=U3p;M3p=V3p;return this;};this.setRect=function(W3p,d4p,e4p,f4p){var Z3p,b4p,a4p,c4p,X3p,Y3p;if(W3p.x){Z3p=W3p.x;a4p=W3p.y;if(W3p.w !== 0 && !W3p.w && W3p.x2){X3p=W3p.x2 - W3p.x;Y3p=W3p.y2 - W3p.y;}else {X3p=W3p.w;Y3p=W3p.h;}b4p=Z3p + X3p;c4p=a4p + Y3p;;}else {Z3p=W3p;a4p=d4p;X3p=e4p;Y3p=f4p;b4p=Z3p + X3p;c4p=a4p + Y3p;;}};;};RTree.Rectangle.overlap_rectangle=function(g4p,h4p){return g4p.x < h4p.x + h4p.w && g4p.x + g4p.w > h4p.x && g4p.y < h4p.y + h4p.h && g4p.y + g4p.h > h4p.y;};RTree.Rectangle.contains_rectangle=function(i4p,j4p){return i4p.x + i4p.w <= j4p.x + j4p.w && i4p.x >= j4p.x && i4p.y + i4p.h <= j4p.y + j4p.h && i4p.y >= j4p.y;};RTree.Rectangle.expand_rectangle=function(k4p,l4p){var m4p=Math.min(k4p.x,l4p.x);var n4p=Math.min(k4p.y,l4p.y);k4p.w=Math.max(k4p.x + k4p.w,l4p.x + l4p.w) - m4p;k4p.h=Math.max(k4p.y + k4p.h,l4p.y + l4p.h) - n4p;k4p.x=m4p;k4p.y=n4p;return k4p;};RTree.Rectangle.make_MBR=function(o4p,p4p){if(o4p.length < 1)return {x:0,y:0,w:0,h:0};if(!p4p)p4p={x:o4p[0].x,y:o4p[0].y,w:o4p[0].w,h:o4p[0].h};else p4p.x=o4p[0].x;p4p.y=o4p[0].y;p4p.w=o4p[0].w;p4p.h=o4p[0].h;for(var q4p=o4p.length - 1;q4p > 0;q4p--){RTree.Rectangle.expand_rectangle(p4p,o4p[q4p]);}return p4p;};var arrow_pixel_size=12;var symbol_base_map=null;function _getLinePointFromDist(r4p,v4p,w4p){var u4p=Math.atan2(v4p.y - r4p.y,v4p.x - r4p.x);var s4p=Math.sin(u4p) * w4p;var t4p=Math.cos(u4p) * w4p;t4p=r4p.x + t4p;s4p=r4p.y + s4p;return new L.Point(t4p,s4p);};function _getDirectionPoints(x4p){if(x4p.length < 2){return [];}var y4p=x4p.map(function(z4p){return symbol_base_map.project(z4p);});return _projectPatternOnPointPath(y4p).map(function(A4p){return {latLng:symbol_base_map.unproject(new L.Point(A4p.pt.x,A4p.pt.y)),heading:A4p.heading};});};function _projectPatternOnPointPath(L4p){var C4p=_pointsToSegments(L4p);var E4p=C4p.length;if(E4p === 0){return [];}var D4p=C4p[E4p - 1].distB;var H4p=D4p;var J4p=D4p;var K4p=D4p;var I4p=[];var F4p=J4p;do {I4p.push(F4p);F4p+=H4p;}while(H4p > 0 && F4p < D4p - K4p);var G4p=0;var B4p=C4p[0];return I4p.map(function(M4p){while(M4p > B4p.distB && G4p < E4p - 1){G4p++;B4p=C4p[G4p];}var N4p=(M4p - B4p.distA) / (B4p.distB - B4p.distA);return {pt:_interpolateBetweenPoints(B4p.a,B4p.b,N4p),heading:B4p.heading};});};function _computeSegmentHeading(O4p,P4p){return (Math.atan2(P4p.y - O4p.y,P4p.x - O4p.x) * 180 / Math.PI + 90 + 360) % 360;};function _pointDistance(S4p,T4p){var Q4p=T4p.x - S4p.x;var R4p=T4p.y - S4p.y;return Math.sqrt(Q4p * Q4p + R4p * R4p);};function _pointsEqual(U4p,V4p){return U4p.x === V4p.x && U4p.y === V4p.y;};function _pointsToSegments(W4p){return W4p.reduce(function(Y4p,Z4p,X4p,a5p){if(X4p > 0 && !_pointsEqual(Z4p,a5p[X4p - 1])){var b5p=a5p[X4p - 1];var d5p=Y4p.length > 0?Y4p[Y4p.length - 1].distB:0;var c5p=_pointDistance(b5p,Z4p);var e5p=b5p;var f5p=Z4p;if(W4p.length > 2){if(X4p == W4p.length - 1 && c5p < arrow_pixel_size){var g5p=arrow_pixel_size - c5p;e5p=_getLinePointFromDist(a5p[X4p - 1],a5p[X4p - 2],g5p * 1.5);}}Y4p.push({a:b5p,b:Z4p,distA:d5p,distB:d5p + c5p,heading:_computeSegmentHeading(e5p,f5p)});}return Y4p;},[]);};function _interpolateBetweenPoints(h5p,i5p,j5p){if(i5p.x !== h5p.x){return {x:h5p.x + j5p * (i5p.x - h5p.x),y:h5p.y + j5p * (i5p.y - h5p.y)};}return {x:h5p.x,y:h5p.y + (i5p.y - h5p.y) * j5p};};function buildSymbols(k5p,m5p,n5p){if(k5p == null)return;symbol_base_map=k5p;var l5p=_getDirectionPoints(m5p);return l5p.map(function(o5p){return _buildArrowPath(o5p,n5p);});};function _buildArrowPath(q5p,w5p){var x5p=60;if(w5p.LineSymbolSize != undefined)arrow_pixel_size=w5p.LineSymbolSize;var r5p=Math.PI / 180;var p5p=symbol_base_map.project(q5p.latLng);var s5p=-(q5p.heading - 90) * r5p;var t5p=x5p / 2 * r5p;var u5p=s5p + t5p;var v5p=s5p - t5p;var y5p=new L.Point(p5p.x - arrow_pixel_size * Math.cos(u5p),p5p.y + arrow_pixel_size * Math.sin(u5p));var z5p=new L.Point(p5p.x - arrow_pixel_size * Math.cos(v5p),p5p.y + arrow_pixel_size * Math.sin(v5p));var A5p=[symbol_base_map.unproject(y5p),q5p.latLng,symbol_base_map.unproject(z5p)];return A5p;};function GM_GetDistancePerPixel(D5p){var B5p=125094.2329;for(var C5p=0;C5p < D5p;C5p++){B5p=B5p / 2;}return B5p;};function deg2rad(E5p){return E5p * Math.PI / 180.0;};function rad2deg(F5p){return F5p * 180 / Math.PI;};function GA_GetDistance_WGS84(L5p,H5p,M5p,I5p,J5p){var K5p=L5p - M5p;var G5p=Math.sin(deg2rad(H5p)) * Math.sin(deg2rad(I5p)) + Math.cos(deg2rad(H5p)) * Math.cos(deg2rad(I5p)) * Math.cos(deg2rad(K5p));G5p=Math.acos(G5p);G5p=rad2deg(G5p);G5p=G5p * 60 * 1.1515;if(J5p == "km")G5p=G5p * 1.609344;else if(J5p == "m")G5p=G5p * 1609.344;return G5p;};function GA_DistanceToLineSegment(R5p,S5p,P5p,Q5p,U5p,V5p){var N5p=U5p - P5p;var O5p=V5p - Q5p;if(N5p == 0 && O5p == 0){N5p=R5p - P5p;O5p=S5p - Q5p;return Math.sqrt(N5p * N5p + O5p * O5p);}var T5p=((R5p - P5p) * N5p + (S5p - Q5p) * O5p) / (N5p * N5p + O5p * O5p);if(T5p < 0){N5p=R5p - P5p;O5p=S5p - Q5p;nearX=P5p;nearY=Q5p;}else if(T5p > 1){N5p=R5p - U5p;O5p=S5p - V5p;nearX=U5p;nearY=V5p;}else {nearX=P5p + T5p * N5p;nearY=Q5p + T5p * O5p;N5p=R5p - nearX;O5p=S5p - nearY;}return Math.sqrt(N5p * N5p + O5p * O5p);};function GA_GetObjDistance(W5p,Y5p){if(W5p.length == 1){var a6p=W5p[0].x - Y5p.x;var b6p=W5p[0].y - Y5p.y;return Math.sqrt(a6p * a6p + b6p * b6p);}else if(W5p.length > 1){var Z5p=Number.MAX_VALUE;var d6p=W5p.length - 1;for(var X5p=0;X5p < d6p;X5p++){var c6p=GA_DistanceToLineSegment(Y5p.x,Y5p.y,W5p[X5p].x,W5p[X5p].y,W5p[X5p + 1].x,W5p[X5p + 1].y);if(c6p <= Z5p)Z5p=c6p;}return Z5p;}return -1;};function GA_ContainsMBR(e6p,i6p,j6p){var f6p=new CmPoint(e6p[0].x,e6p[0].y);var g6p=new CmPoint(e6p[0].x,e6p[0].y);for(var h6p=1;h6p < e6p.length;h6p++){if(e6p[h6p].x < f6p.x)f6p.x=e6p[h6p].x;if(e6p[h6p].y < f6p.y)f6p.y=e6p[h6p].y;if(e6p[h6p].x > g6p.x)g6p.x=e6p[h6p].x;if(e6p[h6p].y > g6p.y)g6p.y=e6p[h6p].y;}f6p.x=f6p.x - j6p;f6p.y=f6p.y - j6p;g6p.x=g6p.x + j6p;g6p.y=g6p.y + j6p;if(f6p.x <= i6p.x && i6p.x <= g6p.x && f6p.y <= i6p.y && i6p.y <= g6p.y)return true;return false;};function GA_PointEqual(m6p,n6p,o6p){var k6p=new CmPoint(m6p.x,m6p.y);var l6p=new CmPoint(m6p.x,m6p.y);k6p.x=k6p.x - o6p;k6p.y=k6p.y - o6p;l6p.x=l6p.x + o6p;l6p.y=l6p.y + o6p;if(k6p.x <= n6p.x && n6p.x <= l6p.x && k6p.y <= n6p.y && n6p.y <= l6p.y)return true;return false;};function GA_PointInPolygon(p6p,r6p){var s6p=p6p.length - 1;var t6p=false;for(var q6p=0;q6p < p6p.length;q6p++){if(p6p[q6p].y < r6p.y && p6p[s6p].y >= r6p.y || p6p[s6p].y < r6p.y && p6p[q6p].y >= r6p.y){if(p6p[q6p].x + (r6p.y - p6p[q6p].y) / (p6p[s6p].y - p6p[q6p].y) * (p6p[s6p].x - p6p[q6p].x) < r6p.x){t6p=!t6p;}}s6p=q6p;}return t6p;};function GA_PointInLine(v6p,w6p,z6p){var x6p=v6p.length - 1;for(var u6p=0;u6p < x6p;u6p++){var y6p=GA_DistanceToLineSegment(w6p.x,w6p.y,v6p[u6p].x,v6p[u6p].y,v6p[u6p + 1].x,v6p[u6p + 1].y);if(y6p <= z6p)return true;}return false;};function GA_IsNearObject(A6p,B6p,C6p){if(A6p.length == 1){if(this.GA_PointEqual(A6p[0],B6p,C6p))return true;}else if(A6p.length > 0){if(this.GA_ContainsMBR(A6p,B6p,C6p)){{if(this.GA_PointInLine(A6p,B6p,C6p))return true;}}}return false;};function GA_WGS84ToUTMK_Pt(H6p,D6p){var F6p=D6p.lng;var G6p=D6p.lat;var E6p=_baseMap.options.crs.project(obj_points[i]);return E6p;};function GA_WGS84ToUTMK_Pts(P6p,J6p){var K6p=new Array();var L6p=J6p.length;for(var I6p=0;I6p < L6p;I6p++){var N6p=J6p[I6p].lng;var O6p=J6p[I6p].lat;var M6p=_baseMap.options.crs.project(J6p[I6p]);K6p.push(M6p);}return K6p;};
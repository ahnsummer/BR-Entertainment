<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="storeMapper">

      <resultMap id="product" type="product">
      <id column="pdt_no" property="pdtNo"/>
      <result column="pdt_ctg" property="pdtCtg"/>
      <result column="pdt_file" property="pdtFile"/>
      <result column="pdt_name" property="pdtName"/>
      <result column="pdt_detail" property="pdtDetail"/>
      <result column="org_price" property="orgPrice"/>
      <result column="mem_price" property="memPrice"/>
      <result column="pdt_stock" property="pdtStock"/>
      <result column="pdt_enrolldate" property="pdtEnrolldate"/>
      <result column="pdt_statuse" property="pdtStatus"/>
   </resultMap>

   <!-- 작성자 : 김혜미 - 상품 리스트 조회 (페이징처리) -->
   <select id="selectProductListCount" resultType="_int">
      select
             count(*)
        from product
       where pdt_status = 'Y'
   </select>


   <!-- 작성자 : 김혜미 - 상품 리스트 조회 (페이징처리) -->
   <select id="selectProductList" resultMap="product">
      select 
             pdt_no
           , pdt_ctg
           , pdt_file
           , pdt_name
           , org_price
             , mem_price
             , to_char(pdt_enrolldate, 'YYYY-MM-DD') pdt_enrolldate
        from product
       where pdt_status = 'Y'
       order
          by pdt_no desc
   </select>
   
</mapper>